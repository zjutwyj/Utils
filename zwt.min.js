(function(){var root=this;var slice=Array.prototype.slice,push=Array.prototype.push,toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,concat=Array.prototype.concat;var nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=Object.prototype.bind;var whitespace=(' \t\x0B\f\xA0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000');var Zwt=function(a){if(a instanceof Zwt)return a;if(!(this instanceof Zwt))return new Zwt(a);this._wrapped=a};Zwt.version='1.1.0';if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports){exports=module.exports=Zwt};exports.Zwt=Zwt}else{root.Zwt=Zwt};var createCallback=function(a,b,c){if(!b)return a;switch(c==null?3:c){case 1:return function(d){return a.call(b,d)};case 2:return function(d,e){return a.call(b,d,e)};case 3:return function(d,e,f){return a.call(b,d,e,f)};case 4:return function(d,e,f,g){return a.call(b,d,e,f,g)}};return function(){return a.apply(this,arguments)}};function each(a,b,c){var d,e,f=false,g=false;if(a==null)return a;b=createCallback(b,c);if(a.length===+a.length){for(d=0,e=a.length;d<e;d++){f=d===0?true:false;g=d===e-1?true:false;if(b(a[d],a,d,f,g)===false)break}}else{var h=keys(a);for(d=0,e=h.length;d<e;d++){f=d===0?true:false;g=d===h.length-1?true:false;if(b(a[h[d]],h[d],a,d,f,g)===false)break}};return a};Zwt.each=Zwt.forEach=each;Zwt.extend=function(a){if(typeOf(a)!=='object')return a;each(slice.call(arguments,1),function(b){for(var c in b){a[c]=b[c]}});return a};if(typeof/./!=='function'){Zwt.isFunction=function(obj){return typeof obj==='function'}}Zwt.functions=Zwt.methods=function(a){var b=[];for(var c in a){if(Zwt.isFunction(a[c]))b.push(c)};return b.sort()};Zwt.chain=function(a){return Zwt(a).chain()};var result=function(a){return this._chain?Zwt(a).chain():a};function typeOf(b){var c={"undefined":"undefined","number":"number","boolean":"boolean","string":"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"};return c[typeof b]||c[toString.call(b)]||(b?"object":"null")}Zwt.typeOf=typeOf;function hasKey(a,b){return a!=null&&hasOwnProperty.call(a,b)}Zwt.hasKey=hasKey;function pick(a,b,c){var d={},e;if(typeOf(b)==='function'){for(e in a){var f=a[e];if(b.call(c,f,e,a))d[e]=f}}else{var f=concat.apply([],slice.call(arguments,1));each(f,function(g){if(g in a)d[g]=a[g]})};return d}Zwt.pick=pick;function delay(a,b){if(typeOf(a)!=='function'){throw new TypeError};return setTimeout(function(){a.apply(undefined,slice.call(arguments))},b)}Zwt.delay=delay;function repeat(a,b){var c=a,d='';while(b>0){if(b%2==1){d+=c};if(b==1){break};c+=c;b=b>>1};return d}Zwt.repeat=repeat;function contains(a,b,c){return c?(c+a+c).indexOf(c+b+c)>-1:a.indexOf(b)>-1}Zwt.contains=contains;function startsWith(a,b,c){var d=a.substr(0,b.length);return c?d.toLowerCase()===b.toLowerCase():d===b}Zwt.startsWidth=startsWith;function endsWidth(a,b,c){var d=a.substring(a.length-b.length);return c?d.toLowerCase()===b.toLowerCase():d===b}Zwt.endsWidth=endsWidth;function byteLen(a,b){b=b?b:2;var c=new Array(b+1).join('-');return a.replace(/[^\x00-\xff]/g,c).length}Zwt.byteLen=byteLen;function truncate(a,b,c){b=b||30;c=c===void(0)?'...':c;return a.length>b?(a.slice(0,b=c.length)+c):String(a)}Zwt.truncate=truncate;function cutByte(a,b,c){if(!(a+"").length||!b||+b<=0){return""};var b=+b,c=typeof(c)=='undefined'?"...":c.toString(),d=this.byteLen(c);if(b<d){c="";d=0};function n2(f){var g=f/2|0;return(g>0?n:1)};var e=b-d,_lenS=0,_strl=0;while(_strl<=e){var _lenS1=n2(e-_strl),f=this.byteLen(a.substr(_lenS,_lenS1));if(f==0){return a};_strl+=f;_lenS+=_lenS1};if(a.length-_lenS>d||this.byteLen(a.substring(_lenS-1))>d){return a.substr(0,_lenS-1)+c}else{return a}};Zwt.cutByte=cutByte;function stripScripts(a){return String(a||'').replace(/<script[^>]*>([\S\s]*?)<\/script>/img,'')};Zwt.stripScripts=stripScripts;function stripTags(a){return String(a||'').replace(/<[^>]+>/img,'')};Zwt.stripTags=stripTags;function escapeHTML(a){return a.replace(/&/mg,'&amp;').replace(/</mg,'&lt;').replace(/>/mg,'&gt;').replace(/"/mg,'&quot;').replace(/'/mg,'&#39;')};Zwt.escapeHTML=escapeHTML;function unescapeHTML(a){return a.replace(/&amp;/mg,'&').replace(/&lt;/mg,'<').replace(/&gt;/mg,'>').replace(/&quot;/mg,'"').replace(/&#([\d]+);/mg,function($0,$1){return String.fromCharCode(parseInt($1,10))})};Zwt.unescapeHTML=unescapeHTML;function escapeRegExp(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/img,'\\$1')};Zwt.escapeRegExp=escapeRegExp;function pad(a,b,c,d,e,f){var g=a.toString(e||10),h='',i=b;if(f&&f.prefix){i=b-f.prefix.length;if(i<0){throw new Error('n too small')}};c=c||'0';while(g.length<i){if(!d){g=c+g}else{g+=c}};return f.prefix+g};Zwt.pad=pad;function format(a,b){var c=Array.prototype.slice.call(arguments,1);return a.replace(/\\?\#{([^{}]+)\}/gm,function(d,e){if(d.charAt(0)=='\\')return d.slice(1);var f=Number(e);if(f>=0)return c[f];if(b&&b[e]!==void 0)return b[e];return''})};Zwt.format=format;function ltrim(a){for(var b=0;b<a.length;b++){if(whitespace.indexOf(a.charAt(b))===-1){a=a.substring(b);break}};return whitespace.indexOf(a.charAt(0))===-1?(a):''};Zwt.ltrim=ltrim;function rtrim(a){for(var b=a.length-1;b>=0;b--){if(whitespace.lastIndexOf(a.charAt(b))===-1){a=a.substring(0,b+1);break}};return whitespace.indexOf(a.charAt(0))===-1?(a):''};Zwt.rtrim=rtrim;function trim(a){for(var b=0;b<a.length;b++){if(whitespace.indexOf(a.charAt(b))===-1){a=a.substring(b);break}};for(b=a.length-1;b>=0;b--){if(whitespace.lastIndexOf(a.charAt(b))===-1){a=a.substring(0,b+1);break}};return whitespace.indexOf(a.charAt(0))===-1?(a):''};Zwt.trim=trim;function allTrim(a){return a.toString().replace(/\s*/gm,'')};Zwt.allTrim=allTrim;function removeAt(a,b){return!!a.splice(b,1).length};Zwt.removeAt=removeAt;function keys(a){if(typeOf(a)!=='object')return[];if(nativeKeys)return nativeKeys(a);var b=[];for(var c in a)if(hasKey(a,c))b.push(c);return b};Zwt.keys=keys;function arrayToObject(a,b,c){var d={};each(a,function(e){if(typeOf(e[b])!=='undefined'){d[e[b]]=e[c]}});return d};Zwt.arrayToObject=arrayToObject;function arrayFromObject(a,b,c){var d=[];if(typeOf(a)!=='object'){return[]};each(a,function(e,f){var g={};g[b]=f;g[c]=e;d.push(g)});return d};Zwt.arrayFromObject=arrayFromObject;function arrayExchange(a,b,c,d){if(b<0||b>a.length||c<0||c>a.length){throw new Error('method exchange: thisdx or targetdx is invalid !')};var e=a[b],f=a[c],g=e,h=0;if(d&&typeof d.column==='string'){h=e[d.column];e[d.column]=f[d.column];f[d.column]=h};if(d&&typeof d.callback==='function'){d.callback.apply(null,[e,f])};a[b]=f;a[c]=g};Zwt.arrayExchange=arrayExchange;function arrayInsert(a,b,c,d){var e=[];if(b<c){for(var f=b;f<c-1;f++){arrayExchange(a,f,f+1,{column:d.column})};e=a.slice(0).slice(b,c)}else{for(var f=b;f>c;f--){arrayExchange(a,f,f-1,{column:d.column})};e=a.slice(0).slice(c,b+1)};if(typeof d.callback==='function'){d.callback.apply(null,[e])}};Zwt.arrayInsert=arrayInsert;function imageCrop(a,b,c,d){var _w=parseInt(a,10),_h=parseInt(b,10),e=parseInt(c,10),f=parseInt(d,10);var g={width:e,height:f,marginTop:0,marginLeft:0};if(_w!=0&&_h!=0){var h=e/_w,i=f/_h;if(h>1.5){g={width:'auto',height:f,marginTop:0,marginLeft:(f-_w)/2}}else if(i>1.5){g={width:e,height:'auto',marginTop:(f-_h)/2,marginLeft:0}}else{if(h<i){g={width:_w*i,height:f,marginTop:0,marginLeft:-(_w*i-e)/2}}else if(h>i){g={width:e,height:_h*h,marginTop:-(_h*h-f)/2,marginLeft:0}}else{g={width:e,height:f,marginTop:-(_h*i-f)/2,marginLeft:-(_w*i-e)/2}}}};return g};Zwt.imageCrop=imageCrop;function girdJustify(a){var a={ow:parseFloat(a.containerWidth),cw:parseFloat(a.childWidth),cl:a.childLength,cm:parseFloat(a.childSpace),fn:a.callback};var b=Math.floor((a.ow-a.cm)/(a.cw+a.cm));var c=Math.floor((a.ow-a.cw*b)/(b-1));var d=Math.ceil(a.cl/b);for(var e=0;e<d;e++){for(var f=b*e;f<b*(e+1);f++){if(f!=(b*(e+1)-1)){a.fn(f,c)}else{a.fn(f,0)}}}};Zwt.girdJustify=girdJustify;function bulidSubNode(rootlist,totalList,opts){var a={category_id:'category_id',belong_id:'belong_id',child_tag:'cates',dxs:[]};if(typeof(opts)!='undefined'){Zwt.extend(a,opts)};if(typeof(a['dxs'])!=='undefined'){for(var c=0,len3=a['dxs'].length;c<len3;c++){totalList.splice(a['dxs'][c],1)}};for(var b=0,len=rootlist.length;b<len;b++){var c=rootlist[b];var d=[];for(var e=0,len1=totalList.length;e<len1;e++){var f=totalList[e];if(c[a.category_id]==f[a.belong_id]){d.push(f)}};c[a.child_tag]=d.slice(0);if(d.length>0){c.hasChild=true;arguments.callee(d,totalList,a)}else{c.hasChild=false;c.cates=[]}}};Zwt.bulidSubNode=bulidSubNode;function bulidSelectNode(a,b,c){var d=b;for(var e=0,len=a.length;e<len;e++){var f='';for(var g=0;g<d;g++){f=f+'　'};f=f+"|-";a[e][c['name']]=f+a[e][c['name']];if(a[e].hasChild){arguments.callee(a[e].cates,b=d+2,c)}}};Zwt.bulidSelectNode=bulidSelectNode;function getUrlParam(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)"),c=window.location.search.substr(1).match(b);if(c!=null)return unescape(c[2]);return null};Zwt.getUrlParam=getUrlParam;function getMaxPage(a,b){return a%b==0?a/pageSize:Math.floor(a/b)+1};Zwt.getMaxPage=getMaxPage;function getMaxPage_2(a,b){return a>b?Math.ceil(a/b):1};Zwt.getMaxPage_2=getMaxPage_2;function getListByPage(a,b,c){var a=a,d=a.length,e=new Array();var f=this.getMaxPage(d,c);b=b<1?1:b;b=b>f?maxPage:b;var g=((b-1)*c<0)?0:((b-1)*c),h=(g+c)<0?0:(g+c);h=h>d?totalCount:(g+c);for(var i=g;i<h;i++){e.push(a[i])};return e};Zwt.getListByPage=getListByPage;function getPaginationNumber(a,b,c){var a=parseInt(a,10),b=parseInt(b,10),d=1,e=b,f=c||11,g=[];if(b>f){var i=(f-1)/2;if(a<=i){d=1;e=i*2-1}else if(a>b-i){d=b-i*2+2;e=b}else{d=a-(i-1);e=a+(i-1)}};for(var h=d;h<=e;h++){g.push(h)};return g};Zwt.getPaginationNumber=getPaginationNumber;function getCache(a,b,c){var d={area:'templates',getData:null};Zwt.extend(d,c);b.cache=b.cache||{};if(typeof b.cache[d.area]==='undefined'){b.cache[d.area]={}};var e=b.cache[d.area][a];if(!e){e=b.cache[d.area][a]=d.getData.call(null,e);console.log('【Cache】data: '+a+' is cached !')};return e};Zwt.getCache=getCache;function getSelector(a,b,c){var d="";var e=c(a).hasClass(b);var f=c(a).attr("id");var g=c(a).attr("class");if(f.length>0){d="#"+f}else if(g.length>0){d="."+c.trim(g).split(" ")[0]}else{d=getTagName(a);d=arguments.callee(a.parentNode)+" "+d};return e?selector:'#'+c(a).parents('.moveChild:first').attr('id')+' '+d};Zwt.getSelector=getSelector;function getTagName(a){return a.tagName.toLowerCase()};Zwt.getTagName=getTagName;function dateFormat(a,b){var a=a?new Date(a):new Date();var c={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),"S":a.getMilliseconds()};b=b||'yyyy-MM-dd';if(/(y+)/.test(b))b=b.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length));try{for(var d in c){if(new RegExp("("+d+")").test(b))b=b.replace(RegExp.$1,(RegExp.$1.length==1)?(c[d]):(("00"+c[d]).substr((""+c[d]).length)))}}catch(e){console.log('【Error】: DateUtils.dataFormat '+e)};return b};Zwt.dateFormat=dateFormat;function clearAllNode(a){while(a.firstChild){var b=a.removeChild(a.firstChild);b=null}};Zwt.clearAllNode=clearAllNode;Zwt.mixin=function(a){Zwt.each(Zwt.functions(a),function(b){var c=Zwt[b]=a[b];Zwt.prototype[b]=function(){var d=[this._wrapped];push.apply(d,arguments);return result.call(this,c.apply(Zwt,d))}})};Zwt.mixin(Zwt);Zwt.extend(Zwt.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}});if(typeof define==='function'&&define.amd){define('Zwt',[],function(){return Zwt})}}.call(this));