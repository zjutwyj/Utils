/**
 * @description ArrayUtils
 * @namespace ArrayUtils
 * @author yongjin on 2014/6/18
 */
QUnit.module( "【TreeUtils】" );

QUnit.test("Est.bulidSubNode", function(assert){
    var list = [ { belong_id: "Category_00000000000000000002312", category_id: "Category_00000000000000000002316", name: "14寸", cdesc: "", grade: "03", image: null, key: null, alias: null, sort: "9", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002312", category_id: "Category_00000000000000000002315", name: "13寸", cdesc: "", grade: "03", image: null, key: null, alias: null, sort: "8", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002312", name: "苹果", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "7", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002314", name: "联想", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "6", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002313", name: "华硕", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "5", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002290", name: "默认分类", cdesc: "默认分类", grade: "01", image: null, key: null, alias: null, sort: "4", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002306", name: "电脑", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "3", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002307", name: "包包", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "2", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002305", name: "手机", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "1", isdisplay: "1", hunkdisplay: null } ];
    var root = []; for(var i = 0, len = list.length; i < len; i++){ if (list[i]['grade'] === '01'){
        root.push(list[i]);
    }
    }
    Est.bulidSubNode(root, list);
    var list2 = [ { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002316", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "14寸", "sort": "9" }, { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002315", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "13寸", "sort": "8" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002312", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002316", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "14寸", "sort": "9" }, { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002315", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "13寸", "sort": "8" } ], "cdesc": "", "grade": "02", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "苹果", "sort": "7" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002314", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "联想", "sort": "6" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002313", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "华硕", "sort": "5" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002290", "cates": [], "cdesc": "默认分类", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "默认分类", "sort": "4" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002306", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002312", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002316", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "14寸", "sort": "9" }, { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002315", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "13寸", "sort": "8" } ], "cdesc": "", "grade": "02", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "苹果", "sort": "7" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002314", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "联想", "sort": "6" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002313", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "华硕", "sort": "5" } ], "cdesc": "", "grade": "01", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "电脑", "sort": "3" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002307", "cates": [], "cdesc": "", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "包包", "sort": "2" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002305", "cates": [], "cdesc": "", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "手机", "sort": "1" } ];
    assert.deepEqual(list, list2, "passed!");
});

QUnit.test("Est.bulidSelectNode", function(assert){
    var list = [ { belong_id: "Category_00000000000000000002312", category_id: "Category_00000000000000000002316", name: "14寸", cdesc: "", grade: "03", image: null, key: null, alias: null, sort: "9", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002312", category_id: "Category_00000000000000000002315", name: "13寸", cdesc: "", grade: "03", image: null, key: null, alias: null, sort: "8", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002312", name: "苹果", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "7", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002314", name: "联想", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "6", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002313", name: "华硕", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "5", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002290", name: "默认分类", cdesc: "默认分类", grade: "01", image: null, key: null, alias: null, sort: "4", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002306", name: "电脑", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "3", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002307", name: "包包", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "2", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002305", name: "手机", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "1", isdisplay: "1", hunkdisplay: null } ];
    var root = []; for(var i = 0, len = list.length; i < len; i++){ if (list[i]['grade'] === '01'){
        root.push(list[i]);
    }
    }
    Est.bulidSubNode(root, list);
    Est.bulidSelectNode(root, 2, {
        name : 'name'
    });
    var result = [ { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002290", "cates": [], "cdesc": "默认分类", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　|-默认分类", "sort": "4" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002306", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002312", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002316", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　　　|-14寸", "sort": "9" }, { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002315", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　　　|-13寸", "sort": "8" } ], "cdesc": "", "grade": "02", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　|-苹果", "sort": "7" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002314", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　|-联想", "sort": "6" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002313", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　|-华硕", "sort": "5" } ], "cdesc": "", "grade": "01", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　|-电脑", "sort": "3" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002307", "cates": [], "cdesc": "", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　|-包包", "sort": "2" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002305", "cates": [], "cdesc": "", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　|-手机", "sort": "1" } ];
    assert.deepEqual(root, result, "passed!");
})