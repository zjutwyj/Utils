!function(){var global=this,objectPrototype=Object.prototype,toString=objectPrototype.toString,enumerables=!0,enumerablesTest={toString:1},emptyFn=function(){},i;"undefined"==typeof Ext&&(global.Ext={}),Ext.global=global;for(i in enumerablesTest)enumerables=null;enumerables&&(enumerables=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),Ext.enumerables=enumerables,Ext.apply=function(t,e,i){if(i&&Ext.apply(t,i),t&&e&&"object"==typeof e){var n,r,s;for(n in e)t[n]=e[n];if(enumerables)for(r=enumerables.length;r--;)s=enumerables[r],e.hasOwnProperty(s)&&(t[s]=e[s])}return t},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-",scopeResetCSS:!1},Ext.buildSettings||{}),Ext.apply(Ext,{emptyFn:emptyFn,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(t,e){var i;if(t)for(i in e)void 0===t[i]&&(t[i]=e[i]);return t},iterate:function(t,e,i){Ext.isEmpty(t)||(void 0===i&&(i=t),Ext.isIterable(t)?Ext.Array.each.call(Ext.Array,t,e,i):Ext.Object.each.call(Ext.Object,t,e,i))}}),Ext.apply(Ext,{extend:function(){var t=objectPrototype.constructor,e=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};return function(i,n,r){Ext.isObject(n)&&(r=n,n=i,i=r.constructor!==t?r.constructor:function(){n.apply(this,arguments)}),n||Ext.Error.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."});var s,a=function(){},o=n.prototype;return a.prototype=o,s=i.prototype=new a,s.constructor=i,i.superclass=o,o.constructor===t&&(o.constructor=n),i.override=function(t){Ext.override(i,t)},s.override=e,s.proto=s,i.override(r),i.extend=function(t){return Ext.extend(i,t)},i}}(),override:function(t,e){return t.$isClass?t.override(e):void Ext.apply(t.prototype,e)}}),Ext.apply(Ext,{valueFrom:function(t,e,i){return Ext.isEmpty(t,i)?e:t},typeOf:function(t){if(null===t)return"null";var e=typeof t;if("undefined"===e||"string"===e||"number"===e||"boolean"===e)return e;var i=toString.call(t);switch(i){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}return"function"===e?"function":"object"===e?void 0!==t.nodeType?3===t.nodeType?/\S/.test(t.nodeValue)?"textnode":"whitespace":"element":"object":void Ext.Error.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of the specified value "'+t+'". This is most likely a bug.'})},isEmpty:function(t,e){return null===t||void 0===t||(e?!1:""===t)||Ext.isArray(t)&&0===t.length},isArray:"isArray"in Array?Array.isArray:function(t){return"[object Array]"===toString.call(t)},isDate:function(t){return"[object Date]"===toString.call(t)},isMSDate:function(t){return Ext.isString(t)?null!==t.match("\\\\?/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\\\?/"):!1},isObject:"[object Object]"===toString.call(null)?function(t){return null!==t&&void 0!==t&&"[object Object]"===toString.call(t)&&void 0===t.ownerDocument}:function(t){return"[object Object]"===toString.call(t)},isSimpleObject:function(t){return t instanceof Object&&t.constructor===Object},isPrimitive:function(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(t){return"[object Function]"===toString.call(t)}:function(t){return"function"==typeof t},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isString:function(t){return"string"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isElement:function(t){return t?1===t.nodeType:!1},isTextNode:function(t){return t?"#text"===t.nodeName:!1},isDefined:function(t){return"undefined"!=typeof t},isIterable:function(t){return t&&"string"!=typeof t?void 0!==t.length:!1}}),Ext.apply(Ext,{clone:function(t){if(null===t||void 0===t)return t;if(t.nodeType&&t.cloneNode)return t.cloneNode(!0);var e=toString.call(t);if("[object Date]"===e)return new Date(t.getTime());var i,n,r,s,a;if("[object Array]"===e)for(i=t.length,s=[];i--;)s[i]=Ext.clone(t[i]);else if("[object Object]"===e&&t.constructor===Object){s={};for(a in t)s[a]=Ext.clone(t[a]);if(enumerables)for(n=enumerables.length;n--;)r=enumerables[n],s[r]=t[r]}return s||t},getUniqueGlobalNamespace:function(){var t=this.uniqueGlobalNamespace;if(void 0===t){var e=0;do t="ExtBox"+ ++e;while(void 0!==Ext.global[t]);Ext.global[t]=Ext,this.uniqueGlobalNamespace=t}return t},functionFactory:function(){var t=Array.prototype.slice.call(arguments),e=t.length;return e>0&&(t[e-1]="var Ext=window."+this.getUniqueGlobalNamespace()+";"+t[e-1]),Function.prototype.constructor.apply(Function.prototype,t)},globalEval:"execScript"in global?function(t){global.execScript(t)}:function(code){!function(){eval(code)}()},Logger:{log:function(t,e){"console"in global&&(e&&e in global.console||(e="log"),t="["+e.toUpperCase()+"] "+t,global.console[e](t))},verbose:function(t){this.log(t,"verbose")},info:function(t){this.log(t,"info")},warn:function(t){this.log(t,"warn")},error:function(t){throw new Error(t)},deprecate:function(t){this.log(t,"warn")}}}),Ext.type=Ext.typeOf}(),function(){var t,e="2.4.1.527";Ext.Version=t=Ext.extend(Object,{constructor:function(e){var i,n,r=this.toNumber;return e instanceof t?e:(this.version=this.shortVersion=String(e).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),n=this.version.search(/([^\d\.])/),-1!==n&&(this.release=this.version.substr(n,e.length),this.shortVersion=this.version.substr(0,n)),this.shortVersion=this.shortVersion.replace(/[^\d]/g,""),i=this.version.split("."),this.major=r(i.shift()),this.minor=r(i.shift()),this.patch=r(i.shift()),this.build=r(i.shift()),this)},toNumber:function(t){return t=parseInt(t||0,10),isNaN(t)&&(t=0),t},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(e){return 1===t.compare(this.version,e)},isGreaterThanOrEqual:function(e){return t.compare(this.version,e)>=0},isLessThan:function(e){return-1===t.compare(this.version,e)},isLessThanOrEqual:function(e){return t.compare(this.version,e)<=0},equals:function(e){return 0===t.compare(this.version,e)},match:function(t){return t=String(t),this.version.substr(0,t.length)===t},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}}),Ext.apply(t,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(t){return t?isNaN(t)?this.releaseValueMap[t]||t:parseInt(t,10):0},compare:function(e,i){var n,r,s;for(e=new t(e).toArray(),i=new t(i).toArray(),s=0;s<Math.max(e.length,i.length);s++){if(n=this.getComponentValue(e[s]),r=this.getComponentValue(i[s]),r>n)return-1;if(n>r)return 1}return 0}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(e,i){return Ext.versions[e]=new t(i),Ext.lastRegisteredVersion=Ext.versions[e],this},getVersion:function(t){return void 0===t?Ext.lastRegisteredVersion:Ext.versions[t]},deprecate:function(e,i,n,r){t.compare(Ext.getVersion(e),i)<1&&n.call(r)}}),Ext.setVersion("core",e)}(),Ext.String={trimRegex:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,escapeRe:/('|\\)/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,htmlEncode:function(){var t,e,i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;"},n=[];for(t in i)n.push(t);return e=new RegExp("("+n.join("|")+")","g"),function(t){return t?String(t).replace(e,function(t,e){return i[e]}):t}}(),htmlDecode:function(){var t,e,i={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'},n=[];for(t in i)n.push(t);return e=new RegExp("("+n.join("|")+"|&#[0-9]{1,5};)","g"),function(t){return t?String(t).replace(e,function(t,e){return e in i?i[e]:String.fromCharCode(parseInt(e.substr(2),10))}):t}}(),urlAppend:function(t,e){return Ext.isEmpty(e)?t:t+(-1===t.indexOf("?")?"?":"&")+e},trim:function(t){return t.replace(Ext.String.trimRegex,"")},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substr(1)},ellipsis:function(t,e,i){if(t&&t.length>e){if(i){var n=t.substr(0,e-2),r=Math.max(n.lastIndexOf(" "),n.lastIndexOf("."),n.lastIndexOf("!"),n.lastIndexOf("?"));if(-1!==r&&r>=e-15)return n.substr(0,r)+"..."}return t.substr(0,e-3)+"..."}return t},escapeRegex:function(t){return t.replace(Ext.String.escapeRegexRe,"\\$1")},escape:function(t){return t.replace(Ext.String.escapeRe,"\\$1")},toggle:function(t,e,i){return t===e?i:e},leftPad:function(t,e,i){var n=String(t);for(i=i||" ";n.length<e;)n=i+n;return n},format:function(t){var e=Ext.Array.toArray(arguments,1);return t.replace(Ext.String.formatRe,function(t,i){return e[i]})},repeat:function(t,e,i){for(var n=[],r=e;r--;)n.push(t);return n.join(i||"")}},Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,function(){function t(t,e){return 0>e?Math.max(0,t.length+e):Math.min(t.length,e)}function e(e,i,n,r){var s=r?r.length:0,a=e.length,o=t(e,i);if(o===a)s&&e.push.apply(e,r);else{var l,u=Math.min(n,a-o),h=o+u,c=h+s-u,d=a-h,f=a-u;if(h>c)for(l=0;d>l;++l)e[c+l]=e[h+l];else if(c>h)for(l=d;l--;)e[c+l]=e[h+l];if(s&&o===f)e.length=f,e.push.apply(e,r);else for(e.length=f+s,l=0;s>l;++l)e[o+l]=r[l]}return e}function i(t,e,i,n){return n&&n.length?e<t.length?t.splice.apply(t,[e,i].concat(n)):t.push.apply(t,n):t.splice(e,i),t}function n(t,i,n){return e(t,i,n)}function r(t,e,i){return t.splice(e,i),t}function s(i,n,r){var s=t(i,n),a=i.slice(n,t(i,s+r));return arguments.length<4?e(i,s,r):e(i,s,r,u.call(arguments,3)),a}function a(t){return t.splice.apply(t,u.call(arguments,1))}var o,l=Array.prototype,u=l.slice,h=function(){var t,e=[],i=20;if(!e.splice)return!1;for(;i--;)e.push("A");return e.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),t=e.length,e.splice(13,0,"XXX"),t+1!=e.length?!1:!0}(),c="forEach"in l,d="map"in l,f="indexOf"in l,g="every"in l,p="some"in l,m="filter"in l,x=function(){var t=[1,2,3,4,5].sort(function(){return 0});return 1===t[0]&&2===t[1]&&3===t[2]&&4===t[3]&&5===t[4]}(),E=!0;try{"undefined"!=typeof document&&u.call(document.getElementsByTagName("body"))}catch(y){E=!1}var v=h?r:n,b=h?i:e,S=h?a:s;o=Ext.Array={each:function(t,e,i,n){t=o.from(t);var r,s=t.length;if(n!==!0){for(r=0;s>r;r++)if(e.call(i||t[r],t[r],r,t)===!1)return r}else for(r=s-1;r>-1;r--)if(e.call(i||t[r],t[r],r,t)===!1)return r;return!0},forEach:c?function(t,e,i){return t.forEach(e,i)}:function(t,e,i){for(var n=0,r=t.length;r>n;n++)e.call(i,t[n],n,t)},indexOf:f?function(t,e,i){return t.indexOf(e,i)}:function(t,e,i){var n,r=t.length;for(n=0>i?Math.max(0,r+i):i||0;r>n;n++)if(t[n]===e)return n;return-1},contains:f?function(t,e){return-1!==t.indexOf(e)}:function(t,e){var i,n;for(i=0,n=t.length;n>i;i++)if(t[i]===e)return!0;return!1},toArray:function(t,e,i){if(!t||!t.length)return[];if("string"==typeof t&&(t=t.split("")),E)return u.call(t,e||0,i||t.length);var n,r=[];for(e=e||0,i=i?0>i?t.length+i:i:t.length,n=e;i>n;n++)r.push(t[n]);return r},pluck:function(t,e){var i,n,r,s=[];for(i=0,n=t.length;n>i;i++)r=t[i],s.push(r[e]);return s},map:d?function(t,e,i){return t.map(e,i)}:function(t,e,i){for(var n=[],r=0,s=t.length;s>r;r++)n[r]=e.call(i,t[r],r,t);return n},every:function(t,e,i){if(e||Ext.Error.raise("Ext.Array.every must have a callback function passed as second argument."),g)return t.every(e,i);for(var n=0,r=t.length;r>n;++n)if(!e.call(i,t[n],n,t))return!1;return!0},some:function(t,e,i){if(e||Ext.Error.raise("Ext.Array.some must have a callback function passed as second argument."),p)return t.some(e,i);for(var n=0,r=t.length;r>n;++n)if(e.call(i,t[n],n,t))return!0;return!1},clean:function(t){for(var e,i=[],n=0,r=t.length;r>n;n++)e=t[n],Ext.isEmpty(e)||i.push(e);return i},unique:function(t){for(var e,i=[],n=0,r=t.length;r>n;n++)e=t[n],-1===o.indexOf(i,e)&&i.push(e);return i},filter:function(t,e,i){if(m)return t.filter(e,i);for(var n=[],r=0,s=t.length;s>r;r++)e.call(i,t[r],r,t)&&n.push(t[r]);return n},from:function(t,e){return void 0===t||null===t?[]:Ext.isArray(t)?e?u.call(t):t:t&&void 0!==t.length&&"string"!=typeof t?o.toArray(t):[t]},remove:function(t,e){var i=o.indexOf(t,e);return-1!==i&&v(t,i,1),t},include:function(t,e){o.contains(t,e)||t.push(e)},clone:function(t){return u.call(t)},merge:function(){var t,e,i=u.call(arguments),n=[];for(t=0,e=i.length;e>t;t++)n=n.concat(i[t]);return o.unique(n)},intersect:function(){var t,e,i,n,r=[],s=u.call(arguments);if(!s.length)return r;for(s=s.sort(function(t,e){return t.length>e.length?1:t.length<e.length?-1:0}),e=o.unique(s[0]),i=0;i<e.length;i++)for(t=e[i],n=1;n<s.length&&-1!==s[n].indexOf(t);n++)n==s.length-1&&r.push(t);return r},difference:function(t,e){var i,n,r,s=u.call(t),a=s.length;for(i=0,r=e.length;r>i;i++)for(n=0;a>n;n++)s[n]===e[i]&&(v(s,n,1),n--,a--);return s},slice:function(t,e,i){return u.call(t,e,i)},sort:function(t,e){if(x)return e?t.sort(e):t.sort();for(var i,n,r,s,a=t.length,o=0;a>o;o++){for(r=o,n=o+1;a>n;n++)e?(i=e(t[n],t[r]),0>i&&(r=n)):t[n]<t[r]&&(r=n);r!==o&&(s=t[o],t[o]=t[r],t[r]=s)}return t},flatten:function(t){function e(t){var n,r,s;for(n=0,r=t.length;r>n;n++)s=t[n],Ext.isArray(s)?e(s):i.push(s);return i}var i=[];return e(t)},min:function(t,e){var i,n,r,s=t[0];for(i=0,n=t.length;n>i;i++)r=t[i],e?1===e(s,r)&&(s=r):s>r&&(s=r);return s},max:function(t,e){var i,n,r,s=t[0];for(i=0,n=t.length;n>i;i++)r=t[i],e?-1===e(s,r)&&(s=r):r>s&&(s=r);return s},mean:function(t){return t.length>0?o.sum(t)/t.length:void 0},sum:function(t){var e,i,n,r=0;for(e=0,i=t.length;i>e;e++)n=t[e],r+=n;return r},_replaceSim:e,_spliceSim:s,erase:v,insert:function(t,e,i){return b(t,e,0,i)},replace:b,splice:S},Ext.each=o.each,o.union=o.merge,Ext.min=o.min,Ext.max=o.max,Ext.sum=o.sum,Ext.mean=o.mean,Ext.flatten=o.flatten,Ext.clean=o.clean,Ext.unique=o.unique,Ext.pluck=o.pluck,Ext.toArray=function(){return o.toArray.apply(o,arguments)}}(),function(){var t="1"!==.9.toFixed();Ext.Number={constrain:function(t,e,i){return t=parseFloat(t),isNaN(e)||(t=Math.max(t,e)),isNaN(i)||(t=Math.min(t,i)),t},snap:function(t,e,i,n){var r,s=t;return e&&t?(r=t%e,0!==r&&(s-=r,2*r>=e?s+=e:-e>2*r&&(s-=e)),Ext.Number.constrain(s,i,n)):t},toFixed:function(e,i){if(t){i=i||0;var n=Math.pow(10,i);return(Math.round(e*n)/n).toFixed(i)}return e.toFixed(i)},from:function(t,e){return isFinite(t)&&(t=parseFloat(t)),isNaN(t)?e:t}}}(),Ext.num=function(){return Ext.Number.from.apply(this,arguments)},function(){var t=function(){},e=Ext.Object={chain:"create"in Object?function(t){return Object.create(t)}:function(e){t.prototype=e;var i=new t;return t.prototype=null,i},toQueryObjects:function(t,i,n){var r,s,a=e.toQueryObjects,o=[];if(Ext.isArray(i))for(r=0,s=i.length;s>r;r++)n?o=o.concat(a(t+"["+r+"]",i[r],!0)):o.push({name:t,value:i[r]});else if(Ext.isObject(i))for(r in i)i.hasOwnProperty(r)&&(n?o=o.concat(a(t+"["+r+"]",i[r],!0)):o.push({name:t,value:i[r]}));else o.push({name:t,value:i});return o},toQueryString:function(t,i){var n,r,s,a,o,l=[],u=[];for(n in t)t.hasOwnProperty(n)&&(l=l.concat(e.toQueryObjects(n,t[n],i)));for(r=0,s=l.length;s>r;r++)a=l[r],o=a.value,Ext.isEmpty(o)?o="":Ext.isDate(o)&&(o=Ext.Date.toString(o)),u.push(encodeURIComponent(a.name)+"="+encodeURIComponent(String(o)));return u.join("&")},fromQueryString:function(t,e){var i,n,r,s,a,o,l,u,h,c,d,f,g,p,m=t.replace(/^\?/,"").split("&"),x={};for(a=0,o=m.length;o>a;a++)if(l=m[a],l.length>0)if(n=l.split("="),r=decodeURIComponent(n[0]),s=void 0!==n[1]?decodeURIComponent(n[1]):"",e){if(c=r.match(/(\[):?([^\]]*)\]/g),d=r.match(/^([^\[]+)/),!d)throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+l+'"');if(r=d[0],f=[],null===c){x[r]=s;continue}for(u=0,h=c.length;h>u;u++)g=c[u],g=2===g.length?"":g.substring(1,g.length-1),f.push(g);for(f.unshift(r),i=x,u=0,h=f.length;h>u;u++)g=f[u],u===h-1?Ext.isArray(i)&&""===g?i.push(s):i[g]=s:((void 0===i[g]||"string"==typeof i[g])&&(p=f[u+1],i[g]=Ext.isNumeric(p)||""===p?[]:{}),i=i[g])}else x.hasOwnProperty(r)?(Ext.isArray(x[r])||(x[r]=[x[r]]),x[r].push(s)):x[r]=s;return x},each:function(t,e,i){for(var n in t)if(t.hasOwnProperty(n)&&e.call(i||t,n,t[n],t)===!1)return},merge:function(t){for(var i,n,r,s,a=1,o=arguments.length,l=e.merge,u=Ext.clone;o>a;a++){i=arguments[a];for(n in i)r=i[n],r&&r.constructor===Object?(s=t[n],s&&s.constructor===Object?l(s,r):t[n]=u(r)):t[n]=r}return t},mergeIf:function(t){for(var e,i,n,r=1,s=arguments.length,a=Ext.clone;s>r;r++){e=arguments[r];for(i in e)i in t||(n=e[i],t[i]=n&&n.constructor===Object?a(n):n)}return t},getKey:function(t,e){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e)return i;return null},getValues:function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i},getKeys:"keys"in Object?Object.keys:function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);return i},getSize:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i},classify:function(t){var i,n,r,s=[],a=[],o={},l=function(){for(var e,i=0,n=s.length;n>i;i++)e=s[i],this[e]=new o[e];for(n=a.length,i=0;n>i;i++)e=a[i],this[e]=t[e].slice()};for(i in t)t.hasOwnProperty(i)&&(n=t[i],n&&(r=n.constructor,r===Object?(s.push(i),o[i]=e.classify(n)):r===Array&&a.push(i)));return l.prototype=t,l},equals:function(t,i){var n,r=typeof t,s=typeof i;if(s===s){if("object"===r){for(n in t){if(!(n in i))return!1;if(!e.equals(t[n],i[n]))return!1}for(n in i)if(!(n in t))return!1;return!0}return t===i}return!1},defineProperty:"defineProperty"in Object?Object.defineProperty:function(t,e,i){i.get&&t.__defineGetter__(e,i.get),i.set&&t.__defineSetter__(e,i.set)}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var t=Ext.Array.from(arguments),i="";return"string"==typeof t[1]&&(i=t[1]+"&",t[1]=!1),i+e.toQueryString.apply(e,t)},Ext.urlDecode=function(){return e.fromQueryString.apply(e,arguments)}}(),Ext.Function={flexSetter:function(t){return function(e,i){var n,r;if(null===e)return this;if("string"!=typeof e){for(n in e)e.hasOwnProperty(n)&&t.call(this,n,e[n]);if(Ext.enumerables)for(r=Ext.enumerables.length;r--;)n=Ext.enumerables[r],e.hasOwnProperty(n)&&t.call(this,n,e[n])}else t.call(this,e,i);return this}},bind:function(t,e,i,n){if(2===arguments.length)return function(){return t.apply(e,arguments)};var r=t,s=Array.prototype.slice;return function(){var t=i||arguments;return n===!0?(t=s.call(arguments,0),t=t.concat(i)):"number"==typeof n&&(t=s.call(arguments,0),Ext.Array.insert(t,n,i)),r.apply(e||window,t)}},pass:function(t,e,i){return Ext.isArray(e)||(e=Ext.Array.clone(e)),function(){return e.push.apply(e,arguments),t.apply(i||this,e)}},alias:function(t,e){return function(){return t[e].apply(t,arguments)}},clone:function(t){return function(){return t.apply(this,arguments)}},createInterceptor:function(t,e,i,n){return Ext.isFunction(e)?function(){var r=this,s=arguments;return e.target=r,e.method=t,e.apply(i||r||window,s)!==!1?t.apply(r||window,s):n||null}:t},createDelayed:function(t,e,i,n,r){return(i||n)&&(t=Ext.Function.bind(t,i,n,r)),function(){var i=this,n=Array.prototype.slice.call(arguments);setTimeout(function(){t.apply(i,n)},e)}},defer:function(t,e,i,n,r){return t=Ext.Function.bind(t,i,n,r),e>0?setTimeout(t,e):(t(),0)},createSequence:function(t,e,i){return e?function(){var n=t.apply(this,arguments);return e.apply(i||this,arguments),n}:t},createBuffered:function(t,e,i,n){var r;return function(){var s=n||Array.prototype.slice.call(arguments,0),a=i||this;r&&clearTimeout(r),r=setTimeout(function(){t.apply(a,s)},e)}},createThrottled:function(t,e,i){var n,r,s,a,o=function(){t.apply(i||this,s),n=(new Date).getTime()};return function(){r=(new Date).getTime()-n,s=arguments,clearTimeout(a),!n||r>=e?o():a=setTimeout(o,e-r)}},interceptBefore:function(t,e,i,n){var r=t[e]||Ext.emptyFn;return t[e]=function(){var t=i.apply(n||this,arguments);return r.apply(this,arguments),t}},interceptAfter:function(t,e,i,n){var r=t[e]||Ext.emptyFn;return t[e]=function(){return r.apply(this,arguments),i.apply(n||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),Ext.JSON=new function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var t=null;return function(){return null===t&&(t=Ext.USE_NATIVE_JSON&&window.JSON&&"[object JSON]"==JSON.toString()),t}}(),pad=function(t){return 10>t?"0"+t:t},doDecode=function(json){return eval("("+json+")")},doEncode=function(t){return Ext.isDefined(t)&&null!==t?Ext.isArray(t)?encodeArray(t):Ext.isDate(t)?Ext.JSON.encodeDate(t):Ext.isString(t)?Ext.isMSDate(t)?encodeMSDate(t):encodeString(t):"number"==typeof t?isFinite(t)?String(t):"null":Ext.isBoolean(t)?String(t):Ext.isObject(t)?encodeObject(t):"function"==typeof t?"null":"undefined":"null"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(t){return'"'+t.replace(charToReplace,function(t){var e=m[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(t){var e,i=["[",""],n=t.length;for(e=0;n>e;e+=1)i.push(doEncode(t[e]),",");return i[i.length-1]="]",i.join("")},encodeObject=function(t){var e,i=["{",""];for(e in t)(!useHasOwn||t.hasOwnProperty(e))&&i.push(doEncode(e),":",doEncode(t[e]),",");return i[i.length-1]="}",i.join("")},encodeMSDate=function(t){return'"'+t+'"'};this.encodeDate=function(t){return'"'+t.getFullYear()+"-"+pad(t.getMonth()+1)+"-"+pad(t.getDate())+"T"+pad(t.getHours())+":"+pad(t.getMinutes())+":"+pad(t.getSeconds())+'"'},this.encode=function(){var t;return function(e){return t||(t=isNative()?JSON.stringify:doEncode),t(e)}}(),this.decode=function(){var t;return function(e,i){t||(t=isNative()?JSON.parse:doDecode);try{return t(e)}catch(n){if(i===!0)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}}}()},Ext.util||(Ext.util={}),Ext.util.JSON=Ext.JSON,Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.Error={raise:function(t){throw new Error(t.msg)}},Ext.Date={now:Date.now,toString:function(t){t||(t=new Date);var e=Ext.String.leftPad;return t.getFullYear()+"-"+e(t.getMonth()+1,2,"0")+"-"+e(t.getDate(),2,"0")+"T"+e(t.getHours(),2,"0")+":"+e(t.getMinutes(),2,"0")+":"+e(t.getSeconds(),2,"0")}},function(t){var e=[],i=function(){};Ext.apply(i,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(t){var e,i,n,r,s,a=t.prototype;if(e=this.prototype=Ext.Object.chain(a),e.self=this,this.superclass=e.superclass=a,t.$isClass||(Ext.apply(e,Ext.Base.prototype),e.constructor=function(){a.constructor.apply(this,arguments)}),s=a.$inheritableStatics)for(i=0,n=s.length;n>i;i++)r=s[i],this.hasOwnProperty(r)||(this[r]=t[r]);t.$onExtended&&(this.$onExtended=t.$onExtended.slice()),e.config=e.defaultConfig=new e.configClass,e.initConfigList=e.initConfigList.slice(),e.initConfigMap=Ext.Object.chain(e.initConfigMap)},$onExtended:[],triggerExtended:function(){var t,e,i=this.$onExtended,n=i.length;if(n>0)for(t=0;n>t;t++)e=i[t],e.fn.apply(e.scope||this,arguments)},onExtended:function(t,e){return this.$onExtended.push({fn:t,scope:e}),this},addConfig:function(t,e){var i,n,r,s=this.prototype,a=s.initConfigList,o=s.initConfigMap,l=s.defaultConfig;e=Boolean(e);for(n in t)!t.hasOwnProperty(n)||!e&&n in l||(r=t[n],i=o[n],null!==r?i||(o[n]=!0,a.push(n)):i&&(o[n]=!1,Ext.Array.remove(a,n)));e?Ext.merge(l,t):Ext.mergeIf(l,t),s.configClass=Ext.Object.classify(l)},addStatics:function(t){var e,i,n=Ext.getClassName(this);for(i in t)t.hasOwnProperty(i)&&(e=t[i],"function"==typeof e&&(e.displayName=n+"."+i),this[i]=e);return this},addInheritableStatics:function(t){var e,i,n,r,s=this.prototype;e=s.$inheritableStatics,i=s.$hasInheritableStatics,e||(e=s.$inheritableStatics=[],i=s.$hasInheritableStatics={});var a=Ext.getClassName(this);for(n in t)t.hasOwnProperty(n)&&(r=t[n],"function"==typeof r&&(r.displayName=a+"."+n),this[n]=r,i[n]||(i[n]=!0,e.push(n)));return this},addMembers:function(t){var e,i,n=this.prototype,r=this.$className||"";for(e in t)t.hasOwnProperty(e)&&(i=t[e],"function"!=typeof i||i.$isClass||i===Ext.emptyFn||(i.$owner=this,i.$name=e,i.displayName=r+"#"+e),n[e]=i);return this},addMember:function(t,e){return"function"!=typeof e||e.$isClass||e===Ext.emptyFn||(e.$owner=this,e.$name=t,e.displayName=(this.$className||"")+"#"+t),this.prototype[t]=e,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(t,e){var i,n,r,s,a,o=this.prototype,l=t.prototype,u=Ext.getClassName(this);for(e=Ext.Array.from(e),i=0,n=e.length;n>i;i++)r=e[i],a=l[r],"function"==typeof a?(s=function(){return a.apply(this,arguments)},u&&(s.displayName=u+"#"+r),s.$owner=this,s.$name=r,o[r]=s):o[r]=a;return this},override:function(t){var e,i,n,r,s,a,o,l,u=this,h=Ext.enumerables,c=u.prototype,d=Ext.Function.clone,f=c.config;2===arguments.length&&(e=t,t={},t[e]=arguments[1],h=null);do{s=[],r=null;for(e in t)if("statics"==e)r=t[e];else if("config"==e){o=t[e];for(l in o)if(!(l in f))throw new Error("Attempting to override a non-existant config property. This is not supported, you must extend the Class.");u.addConfig(o,!0)}else s.push(e);for(h&&s.push.apply(s,h),i=s.length;i--;)if(e=s[i],t.hasOwnProperty(e)){if(n=t[e],"function"==typeof n&&!n.$className&&n!==Ext.emptyFn){"undefined"!=typeof n.$owner&&(n=d(n));var g=u.$className;g&&(n.displayName=g+"#"+e),n.$owner=u,n.$name=e,a=c[e],a&&(n.$previous=a)}c[e]=n}c=u,t=r}while(t);return this},callParent:function(t){var i;return(i=this.callParent.caller)&&(i.$previous||(i=i.$owner?i:i.caller)&&i.$owner.superclass.$class[i.$name]).apply(this,t||e)},mixin:function(t,e){var i,n=e.prototype,r=this.prototype;"undefined"!=typeof n.onClassMixedIn&&n.onClassMixedIn.call(e,this),r.hasOwnProperty("mixins")||(r.mixins="mixins"in r?Ext.Object.chain(r.mixins):{});for(i in n)"mixins"===i?Ext.merge(r.mixins,n[i]):"undefined"==typeof r[i]&&"mixinId"!=i&&"config"!=i&&(r[i]=n[i]);"config"in n&&this.addConfig(n.config,!1),r.mixins[t]=n},getName:function(){return Ext.getClassName(this)},createAlias:t(function(t,e){this.override(t,function(){return this[e].apply(this,arguments)})}),addXtype:function(t){var e=this.prototype,i=e.xtypesMap,n=e.xtypes,r=e.xtypesChain;return e.hasOwnProperty("xtypesMap")||(i=e.xtypesMap=Ext.merge({},e.xtypesMap||{}),n=e.xtypes=e.xtypes?[].concat(e.xtypes):[],r=e.xtypesChain=e.xtypesChain?[].concat(e.xtypesChain):[],e.xtype=t),i[t]||(i[t]=!0,n.push(t),r.push(t),Ext.ClassManager.setAlias(this,"widget."+t)),this}}),i.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],initConfigMap:{},statics:function(){var t=this.statics.caller,e=this.self;return t?t.$owner:e},callParent:function(t){var i,n=(i=this.callParent.caller)&&(i.$previous||(i=i.$owner?i:i.caller)&&i.$owner.superclass[i.$name]);if(!n){i=this.callParent.caller;var r,s;if(!i.$owner){if(!i.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");i=i.caller}if(r=i.$owner.superclass,s=i.$name,!(s in r))throw new Error("this.callParent() was called but there's no such method ("+s+") found in the parent class ("+(Ext.getClassName(r)||"Object")+")")}return n.apply(this,t||e)},callSuper:function(t){var i,n=(i=this.callSuper.caller)&&(i=i.$owner?i:i.caller)&&i.$owner.superclass[i.$name];if(!n){i=this.callSuper.caller;var r,s;if(!i.$owner){if(!i.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");i=i.caller}if(r=i.$owner.superclass,s=i.$name,!(s in r))throw new Error("this.callSuper() was called but there's no such method ("+s+") found in the parent class ("+(Ext.getClassName(r)||"Object")+")")}return n.apply(this,t||e)},callOverridden:function(t){var i=this.callOverridden.caller;return i&&i.$previous.apply(this,t||e)},self:i,constructor:function(){return this},wasInstantiated:!1,initConfig:function(t){var e,i,n,r,s,a,o=Ext.Class.configNameCache,l=this.self.prototype,u=this.initConfigList,h=this.initConfigMap,c=new this.configClass,d=this.defaultConfig;if(this.initConfig=Ext.emptyFn,this.initialConfig=t||{},t&&Ext.merge(c,t),this.config=c,!l.hasOwnProperty("wasInstantiated"))for(l.wasInstantiated=!0,e=0,i=u.length;i>e;e++)n=u[e],s=o[n],r=d[n],s.apply in l||s.update in l||!l[s.set].$isDefault||"object"==typeof r||(l[s.internal]=d[n],h[n]=!1,Ext.Array.remove(u,n),e--,i--);if(t){u=u.slice();for(n in t)n in d&&!h[n]&&u.push(n)}for(e=0,i=u.length;i>e;e++)n=u[e],s=o[n],this[s.get]=this[s.initGet];for(this.beforeInitConfig(c),e=0,i=u.length;i>e;e++)n=u[e],s=o[n],a=s.get,this.hasOwnProperty(a)&&(this[s.set].call(this,c[n]),delete this[a]);return this},beforeInitConfig:Ext.emptyFn,getCurrentConfig:function(){var t,e,i=this.defaultConfig,n=Ext.Class.configNameCache,r={};for(t in i)e=n[t],r[t]=this[e.get].call(this);return r},setConfig:function(t,e){if(!t)return this;var i,n,r,s,a=Ext.Class.configNameCache,o=this.config,l=this.defaultConfig,u=this.initialConfig,h=[];e=Boolean(e);for(i in t)e&&i in u||(o[i]=t[i],i in l&&(h.push(i),s=a[i],this[s.get]=this[s.initGet]));for(n=0,r=h.length;r>n;n++)i=h[n],s=a[i],this[s.set].call(this,t[i]),delete this[s.get];return this},set:function(t,e){return this[Ext.Class.configNameCache[t].set].call(this,e)},get:function(t){return this[Ext.Class.configNameCache[t].get].call(this)},getConfig:function(t){return this[Ext.Class.configNameCache[t].get].call(this)},hasConfig:function(t){return t in this.defaultConfig},getInitialConfig:function(t){var e=this.config;return t?e[t]:e},onConfigUpdate:function(t,e,i){var n,r,s,a,o,l,u=this.self,h=u.$className;for(t=Ext.Array.from(t),i=i||this,n=0,r=t.length;r>n;n++)s=t[n],a="update"+Ext.String.capitalize(s),o=this[a]||Ext.emptyFn,l=function(){o.apply(this,arguments),i[e].apply(i,arguments)},l.$name=a,l.$owner=u,l.displayName=h+"#"+a,this[a]=l},link:function(){return this.$links={},this.link=this.doLink,this.link.apply(this,arguments)},doLink:function(t,e){return this.$links[t]=!0,this[t]=e,e},unlink:function(){var t,e,i,n;for(t=0,e=arguments.length;e>t;t++)i=arguments[t],this.hasOwnProperty(i)&&(n=this[i],n&&(n.isInstance&&!n.isDestroyed?n.destroy():n.parentNode&&"nodeType"in n&&n.parentNode.removeChild(n)),delete this[i]);return this},destroy:function(){this.destroy=Ext.emptyFn,this.isDestroyed=!0,this.hasOwnProperty("$links")&&(this.unlink.apply(this,Ext.Object.getKeys(this.$links)),delete this.$links)}}),Ext.Base=i}(Ext.Function.flexSetter),function(){var t,e,i,n=Ext.Base,r=[];for(e in n)n.hasOwnProperty(e)&&r.push(e);i=r.length,Ext.Class=t=function(e,i,n){return"function"!=typeof e&&(n=i,i=e,e=null),i||(i={}),e=t.create(e),t.process(e,i,n),e},Ext.apply(t,{onBeforeCreated:function(t,e,i){t.addMembers(e),i.onCreated.call(t,t)},create:function(t){var e,s;for(t||(t=function(){return this.constructor.apply(this,arguments)}),s=0;i>s;s++)e=r[s],t[e]=n[e];return t},process:function(e,i,n){var r,s,a,o,l,u,h,c,d=i.preprocessors||t.defaultPreprocessors,f=this.preprocessors,g={onBeforeCreated:this.onBeforeCreated,onCreated:n||Ext.emptyFn},p=0;
delete i.preprocessors,c=function(t,e,i){for(u=null;null===u;){if(r=d[p++],!r)return void i.onBeforeCreated.apply(this,arguments);if(s=f[r],a=s.properties,a===!0)u=s.fn;else for(o=0,l=a.length;l>o;o++)if(h=a[o],e.hasOwnProperty(h)){u=s.fn;break}}u.call(this,t,e,i,c)!==!1&&c.apply(this,arguments)},c.call(this,e,i,g)},preprocessors:{},registerPreprocessor:function(t,e,i,n,r){return n||(n="last"),i||(i=[t]),this.preprocessors[t]={name:t,properties:i||!1,fn:e},this.setDefaultPreprocessorPosition(t,n,r),this},getPreprocessor:function(t){return this.preprocessors[t]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(t){return this.defaultPreprocessors=Ext.Array.from(t),this},setDefaultPreprocessorPosition:function(t,e,i){var n,r=this.defaultPreprocessors;if("string"==typeof e){if("first"===e)return r.unshift(t),this;if("last"===e)return r.push(t),this;e="after"===e?1:-1}return n=Ext.Array.indexOf(r,i),-1!==n&&Ext.Array.splice(r,Math.max(0,n+e),0,t),this},configNameCache:{},getConfigNameMap:function(t){var e,i=this.configNameCache,n=i[t];return n||(e=t.charAt(0).toUpperCase()+t.substr(1),n=i[t]={name:t,internal:"_"+t,initializing:"is"+e+"Initializing",apply:"apply"+e,update:"update"+e,set:"set"+e,get:"get"+e,initGet:"initGet"+e,doSet:"doSet"+e,changeEvent:t.toLowerCase()+"change"}),n},generateSetter:function(t){var e,i=t.internal,n=t.get,r=t.apply,s=t.update;return e=function(t){var e=this[i],a=this[r],o=this[s];return delete this[n],a&&(t=a.call(this,t,e),"undefined"==typeof t)?this:(this[i]=t,o&&t!==e&&o.call(this,t,e),this)},e.$isDefault=!0,e},generateInitGetter:function(t){var e=t.name,i=t.set,n=t.get,r=t.initializing;return function(){return this[r]=!0,delete this[n],this[i].call(this,this.config[e]),delete this[r],this[n].apply(this,arguments)}},generateGetter:function(t){var e=t.internal;return function(){return this[e]}}}),t.registerPreprocessor("extend",function(t,e){var i,n=Ext.Base,r=e.extend;delete e.extend,i=r&&r!==Object?r:n,t.extend(i),t.triggerExtended.apply(t,arguments),e.onClassExtended&&(t.onExtended(e.onClassExtended,t),delete e.onClassExtended)},!0),t.registerPreprocessor("statics",function(t,e){t.addStatics(e.statics),delete e.statics}),t.registerPreprocessor("inheritableStatics",function(t,e){t.addInheritableStatics(e.inheritableStatics),delete e.inheritableStatics}),t.registerPreprocessor("platformConfig",function(t,e){var i,n,r,s,a,o,l,u,h=e.platformConfig,c=e.config||{};for(delete e.platformConfig,Ext.filterPlatform||(Ext.filterPlatform=function(t){function e(t){var e=/Mobile(\/|\s)/.test(t);return/(iPhone|iPod)/.test(t)||!/(Silk)/.test(t)&&/(Android)/.test(t)&&(/(Android 2)/.test(t)||e)||/(BlackBerry|BB)/.test(t)&&e||/(Windows Phone)/.test(t)}function i(t){return!e(t)&&(/iPad/.test(t)||/Android/.test(t)||/(RIM Tablet OS)/.test(t)||/MSIE 10/.test(t)&&/; Touch/.test(t))}var n,r,s=!1,a=navigator.userAgent;t=[].concat(t);var o,l,u=window.location.search.substr(1),h=u.split("&"),c={};for(l=0;l<h.length;l++){var d=h[l].split("=");c[d[0]]=d[1]}if(o=c.platform)return-1!=t.indexOf(o);for(n=0,r=t.length;r>n;n++){switch(t[n]){case"phone":s=e(a);break;case"tablet":s=i(a);break;case"desktop":s=!e(a)&&!i(a);break;case"ios":s=/(iPad|iPhone|iPod)/.test(a);break;case"android":s=/(Android|Silk)/.test(a);break;case"blackberry":s=/(BlackBerry|BB)/.test(a);break;case"safari":s=/Safari/.test(a)&&!/(BlackBerry|BB)/.test(a);break;case"chrome":s=/Chrome/.test(a);break;case"ie10":s=/MSIE 10/.test(a);break;case"windows":s=/MSIE 10/.test(a)||/Trident/.test(a);break;case"tizen":s=/Tizen/.test(a);break;case"firefox":s=/Firefox/.test(a)}if(s)return!0}return!1}),s=0,a=h.length;a>s;s++)if(r=h[s],i=r.platform,u=r.exclude||[],delete r.platform,n=[].concat(r.theme),l=n.length,delete r.theme,i&&Ext.filterPlatform(i)&&!Ext.filterPlatform(u)&&Ext.merge(c,r),l)for(o=0;l>o;o++)Ext.theme.name==n[o]&&Ext.merge(c,r)}),t.registerPreprocessor("config",function(t,e){var i,n,r,s,a,o,l,u=e.config,h=t.prototype,c=h.config;delete e.config;for(n in u)!u.hasOwnProperty(n)||n in c||(l=u[n],i=this.getConfigNameMap(n),r=i.set,s=i.get,a=i.initGet,o=i.internal,e[a]=this.generateInitGetter(i),null!==l||e.hasOwnProperty(o)||(e[o]=null),e.hasOwnProperty(s)||(e[s]=this.generateGetter(i)),e.hasOwnProperty(r)||(e[r]=this.generateSetter(i)));t.addConfig(u,!0)}),t.registerPreprocessor("mixins",function(t,e,i){var n,r,s,a,o=e.mixins;delete e.mixins,Ext.Function.interceptBefore(i,"onCreated",function(){if(o instanceof Array)for(s=0,a=o.length;a>s;s++)r=o[s],n=r.prototype.mixinId||r.$className,t.mixin(n,r);else for(n in o)o.hasOwnProperty(n)&&t.mixin(n,o[n])})}),Ext.extend=function(e,i,n){2===arguments.length&&Ext.isObject(i)&&(n=i,i=e,e=null);var r;if(!i)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return n.extend=i,n.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"],r=e?new t(e,n):new t(n),r.prototype.override=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},r}}(),function(t,e,i,n,r){var s=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(t){var e,i,n,s,a,o=this.existCache;if("string"!=typeof t||t.length<1)throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty");if(this.classes[t]||o[t])return!0;for(s=r,a=this.parseNamespace(t),e=0,i=a.length;i>e;e++)if(n=a[e],"string"!=typeof n)s=n;else{if(!s||!s[n])return!1;s=s[n]}return o[t]=!0,this.triggerCreated(t),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(t){var e,i,n,r,s,a,o=this.createdListeners,l=this.nameCreatedListeners,u=this.maps.nameToAlternates[t],h=[t];for(e=0,i=o.length;i>e;e++)s=o[e],s.fn.call(s.scope,t);for(u&&h.push.apply(h,u),e=0,i=h.length;i>e;e++)if(a=h[e],o=l[a]){for(n=0,r=o.length;r>n;n++)s=o[n],s.fn.call(s.scope,a);delete l[a]}},onCreated:function(t,e,i){var n=this.createdListeners,r=this.nameCreatedListeners,s={fn:t,scope:e};if(i){if(this.isCreated(i))return void t.call(e,i);r[i]||(r[i]=[]),r[i].push(s)}else n.push(s)},parseNamespace:function(t){if("string"!=typeof t)throw new Error("[Ext.ClassManager] Invalid namespace, must be a string");var e=this.namespaceParseCache;if(this.enableNamespaceParseCache&&e.hasOwnProperty(t))return e[t];var i,n,s,a,o,l=[],u=this.namespaceRewrites,h=r,c=t;for(a=0,o=u.length;o>a;a++)if(i=u[a],n=i.from,s=i.to,c===n||c.substring(0,n.length)===n){c=c.substring(n.length),"string"!=typeof s?h=s:l=l.concat(s.split("."));break}return l.push(h),l=l.concat(c.split(".")),this.enableNamespaceParseCache&&(e[t]=l),l},setNamespace:function(t,e){var i,n,s=r,a=this.parseNamespace(t),o=a.length-1,l=a[o];for(i=0;o>i;i++)n=a[i],"string"!=typeof n?s=n:(s[n]||(s[n]={}),s=s[n]);return s[l]=e,s[l]},createNamespaces:function(){var t,e,i,n,s,a,o=r;for(i=0,s=arguments.length;s>i;i++)for(t=this.parseNamespace(arguments[i]),n=0,a=t.length;a>n;n++)e=t[n],"string"!=typeof e?o=e:(o[e]||(o[e]={}),o=o[e]);return o},set:function(t,e){var i,n=this,r=n.maps,s=r.nameToAlternates,a=n.getName(e);return n.classes[t]=n.setNamespace(t,e),a&&a!==t&&(r.alternateToName[t]=a,i=s[a]||(s[a]=[]),i.push(t)),this},get:function(t){var e=this.classes;if(e[t])return e[t];var i,n,s,a=r,o=this.parseNamespace(t);for(n=0,s=o.length;s>n;n++)if(i=o[n],"string"!=typeof i)a=i;else{if(!a||!a[i])return null;a=a[i]}return a},setAlias:function(t,e){var i,n=this.maps.aliasToName,r=this.maps.nameToAliases;return i="string"==typeof t?t:this.getName(t),e&&n[e]!==i&&(n[e]&&Ext.Logger.info("[Ext.ClassManager] Overriding existing alias: '"+e+"' of: '"+n[e]+"' with: '"+i+"'. Be sure it's intentional."),n[e]=i),r[i]||(r[i]=[]),e&&Ext.Array.include(r[i],e),this},addNameAliasMappings:function(t){var e,i,n,r,s=this.maps.aliasToName,a=this.maps.nameToAliases;for(e in t)for(i=a[e]||(a[e]=[]),r=0;r<t[e].length;r++)n=t[e][r],s[n]||(s[n]=e,i.push(n));return this},addNameAlternateMappings:function(t){var e,i,n,r,s=this.maps.alternateToName,a=this.maps.nameToAlternates;for(e in t)for(i=a[e]||(a[e]=[]),r=0;r<t[e].length;r++)n=t[e],s[n]||(s[n]=e,i.push(n));return this},getByAlias:function(t){return this.get(this.getNameByAlias(t))},getNameByAlias:function(t){return this.maps.aliasToName[t]||""},getNameByAlternate:function(t){return this.maps.alternateToName[t]||""},getAliasesByName:function(t){return this.maps.nameToAliases[t]||[]},getName:function(t){return t&&t.$className||""},getClass:function(t){return t&&t.self||null},create:function(e,i,n){if("string"!=typeof e)throw new Error("[Ext.define] Invalid class name '"+e+"' specified, must be a non-empty string");return i.$className=e,new t(i,function(){var t,r,a,o,l,u,h,c,d=i.postprocessors||s.defaultPostprocessors,f=s.postprocessors,g=0,p=[];for(delete i.postprocessors,a=0,o=d.length;o>a;a++)if(t=d[a],"string"==typeof t){if(t=f[t],h=t.properties,h===!0)p.push(t.fn);else if(h)for(l=0,u=h.length;u>l;l++)if(c=h[l],i.hasOwnProperty(c)){p.push(t.fn);break}}else p.push(t);r=function(i,a,o){return(t=p[g++])?void(t.call(this,i,a,o,r)!==!1&&r.apply(this,arguments)):(s.set(e,a),n&&n.call(a,a),void s.triggerCreated(e))},r.call(s,e,this,i)})},createOverride:function(t,e,i){var n=e.override,r=Ext.Array.from(e.requires);return delete e.override,delete e.requires,this.existCache[t]=!0,Ext.require(r,function(){this.onCreated(function(){var r=this.get(n);r.singleton?r.self.override(e):r.override(e),i&&i.call(r,r),this.triggerCreated(t)},this,n)},this),this},instantiateByAlias:function(){var t=arguments[0],e=i.call(arguments),n=this.getNameByAlias(t);if(!n){if(n=this.maps.aliasToName[t],!n)throw new Error("[Ext.createByAlias] Cannot create an instance of unrecognized alias: "+t);Ext.Logger.warn("[Ext.Loader] Synchronously loading '"+n+"'; consider adding Ext.require('"+t+"') above Ext.onReady"),Ext.syncRequire(n)}return e[0]=n,this.instantiate.apply(this,e)},instantiate:function(){var t,e,n=arguments[0],r=i.call(arguments,1),s=n;if("function"!=typeof n){if("string"!=typeof n||n.length<1)throw new Error("[Ext.create] Invalid class name or alias '"+n+"' specified, must be a non-empty string");e=this.get(n)}else e=n;if(e||(t=this.getNameByAlias(n),t&&(n=t,e=this.get(n))),e||(t=this.getNameByAlternate(n),t&&(n=t,e=this.get(n))),e||(Ext.Logger.warn("[Ext.Loader] Synchronously loading '"+n+"'; consider adding '"+(t?s:n)+"' explicitly as a require of the corresponding class"),Ext.syncRequire(n),e=this.get(n)),!e)throw new Error("[Ext.create] Cannot create an instance of unrecognized class name / alias: "+s);if("function"!=typeof e)throw new Error("[Ext.create] '"+n+"' is a singleton and cannot be instantiated");return this.getInstantiator(r.length)(e,r)},dynInstantiate:function(t,e){return e=n(e,!0),e.unshift(t),this.instantiate.apply(this,e)},getInstantiator:function(t){var e,i=this.instantiators;if(e=i[t],!e){var n=t,r=[];for(n=0;t>n;n++)r.push("a["+n+"]");e=i[t]=new Function("c","a","return new c("+r.join(",")+")"),e.displayName="Ext.ClassManager.instantiate"+t}return e},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(t,e,i,n,r){return n||(n="last"),i||(i=[t]),this.postprocessors[t]={name:t,properties:i||!1,fn:e},this.setDefaultPostprocessorPosition(t,n,r),this},setDefaultPostprocessors:function(t){return this.defaultPostprocessors=n(t),this},setDefaultPostprocessorPosition:function(t,e,i){var n,r=this.defaultPostprocessors;if("string"==typeof e){if("first"===e)return r.unshift(t),this;if("last"===e)return r.push(t),this;e="after"===e?1:-1}return n=Ext.Array.indexOf(r,i),-1!==n&&Ext.Array.splice(r,Math.max(0,n+e),0,t),this},getNamesByExpression:function(t){var e,i,n,r,s,a,o,l=this.maps.nameToAliases,u=[];if("string"!=typeof t||t.length<1)throw new Error("[Ext.ClassManager.getNamesByExpression] Expression "+t+" is invalid, must be a non-empty string");if(-1!==t.indexOf("*")){t=t.replace(/\*/g,"(.*?)"),s=new RegExp("^"+t+"$");for(e in l)if(l.hasOwnProperty(e))if(n=l[e],-1!==e.search(s))u.push(e);else for(a=0,o=n.length;o>a;a++)if(i=n[a],-1!==i.search(s)){u.push(e);break}}else r=this.getNameByAlias(t),r?u.push(r):(r=this.getNameByAlternate(t),u.push(r?r:t));return u}};s.registerPostprocessor("alias",function(t,i,n){var r,s,a=n.alias;for(r=0,s=a.length;s>r;r++)e=a[r],this.setAlias(i,e)},["xtype","alias"]),s.registerPostprocessor("singleton",function(t,e,i,n){return n.call(this,t,new e,i),!1}),s.registerPostprocessor("alternateClassName",function(t,e,i){var n,r,s,a=i.alternateClassName;for(a instanceof Array||(a=[a]),n=0,r=a.length;r>n;n++){if(s=a[n],"string"!=typeof s)throw new Error("[Ext.define] Invalid alternate of: '"+s+"' for class: '"+t+"'; must be a valid string");this.set(s,e)}}),Ext.apply(Ext,{create:e(s,"instantiate"),widget:function(t){var e=i.call(arguments);return e[0]="widget."+t,s.instantiateByAlias.apply(s,e)},createByAlias:e(s,"instantiateByAlias"),define:function(t,e){return"override"in e?s.createOverride.apply(s,arguments):s.create.apply(s,arguments)},getClassName:e(s,"getName"),getDisplayName:function(t){if(t){if(t.displayName)return t.displayName;if(t.$name&&t.$class)return Ext.getClassName(t.$class)+"#"+t.$name;if(t.$className)return t.$className}return"Anonymous"},getClass:e(s,"getClass"),namespace:e(s,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,t.registerPreprocessor("className",function(t,e){e.$className&&(t.$className=e.$className,t.displayName=t.$className)},!0,"first"),t.registerPreprocessor("alias",function(t,e){var i,r,s,a,o=t.prototype,l=n(e.xtype),u=n(e.alias),h="widget.",c=h.length,d=Array.prototype.slice.call(o.xtypesChain||[]),f=Ext.merge({},o.xtypesMap||{});for(i=0,r=u.length;r>i;i++){if(s=u[i],"string"!=typeof s||s.length<1)throw new Error("[Ext.define] Invalid alias of: '"+s+"' for class: '"+name+"'; must be a valid string");s.substring(0,c)===h&&(a=s.substring(c),Ext.Array.include(l,a))}for(t.xtype=e.xtype=l[0],e.xtypes=l,i=0,r=l.length;r>i;i++)a=l[i],f[a]||(f[a]=!0,d.push(a));for(e.xtypesChain=d,e.xtypesMap=f,Ext.Function.interceptAfter(e,"onClassCreated",function(){var t,e,n=o.mixins;for(t in n)if(n.hasOwnProperty(t)&&(e=n[t],l=e.xtypes))for(i=0,r=l.length;r>i;i++)a=l[i],f[a]||(f[a]=!0,d.push(a))}),i=0,r=l.length;r>i;i++){if(a=l[i],"string"!=typeof a||a.length<1)throw new Error("[Ext.define] Invalid xtype of: '"+a+"' for class: '"+name+"'; must be a valid non-empty string");Ext.Array.include(u,h+a)}e.alias=u},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),function(t,e,i,n,r,s,a,o){var l,u=["extend","mixins","requires"],h=0;l=Ext.Loader={isInHistory:{},history:[],config:{enabled:!0,disableCaching:!0,disableCachingParam:"_dc",paths:{Ext:"."}},setConfig:function(t,e){return Ext.isObject(t)&&1===arguments.length?Ext.merge(this.config,t):this.config[t]=Ext.isObject(e)?Ext.merge(this.config[t],e):e,h+=1,this},getConfig:function(t){return t?this.config[t]:this.config},setPath:i(function(t,e){return this.config.paths[t]=e,h+=1,this}),addClassPathMappings:function(t){var e;if(0==h)l.config.paths=t;else for(e in t)l.config.paths[e]=t[e];return h++,l},getPath:function(t){var e="",i=this.config.paths,n=this.getPrefix(t);if(n.length>0){if(n===t)return i[n];e=i[n],t=t.substring(n.length+1)}return e.length>0&&(e+="/"),e.replace(/\/\.\//g,"/")+t.replace(/\./g,"/")+".js"},getPrefix:function(t){var e,i=this.config.paths,n="";if(i.hasOwnProperty(t))return t;for(e in i)i.hasOwnProperty(e)&&e+"."===t.substring(0,e.length+1)&&e.length>n.length&&(n=e);return n},require:function(t,e,i){e&&e.call(i)},syncRequire:function(){},exclude:function(t){var e=this;return{require:function(i,n,r){return e.require(i,n,r,t)},syncRequire:function(i,n,r){return e.syncRequire(i,n,r,t)}}},onReady:function(t,e,i,n){var r;i!==!1&&Ext.onDocumentReady&&(r=t,t=function(){Ext.onDocumentReady(r,e,n)}),t.call(e)}},Ext.apply(l,{documentHead:"undefined"!=typeof document&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:[],isClassFileLoaded:{},isFileLoaded:{},readyListeners:[],optionalRequires:[],requiresMap:{},numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:{},syncModeEnabled:!1,scriptElements:{},refreshQueue:function(){var e,i,n,r,s,o=this.queue,l=o.length;if(0===l)return void this.triggerReady();for(e=0;l>e;e++)if(i=o[e]){if(r=i.requires,s=i.references,r.length>this.numLoadedFiles)continue;n=0;do t.isCreated(r[n])?a(r,n,1):n++;while(n<r.length);if(0===i.requires.length){a(o,e,1),i.callback.call(i.scope),this.refreshQueue();break}}return this},injectScriptElement:function(t,e,i,n,r){var s=document.createElement("script"),a=this,o=function(){a.cleanupScriptElement(s),e.call(n)},l=function(){a.cleanupScriptElement(s),i.call(n)};return s.type="text/javascript",s.src=t,s.onload=o,s.onerror=l,s.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&o()},r&&(s.charset=r),this.documentHead.appendChild(s),s},removeScriptElement:function(t){var e=this.scriptElements;return e[t]&&(this.cleanupScriptElement(e[t],!0),delete e[t]),this},cleanupScriptElement:function(t,e){return t.onload=null,t.onreadystatechange=null,t.onerror=null,e&&this.documentHead.removeChild(t),this},loadScriptFile:function(t,e,i,n,r){var s,a,o,l,u=this,h=this.isFileLoaded,c=this.scriptElements,d=t+(this.getConfig("disableCaching")?"?"+this.getConfig("disableCachingParam")+"="+Ext.Date.now():"");if(h[t])return this;if(n=n||this,this.isLoading=!0,r){s="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");try{s.open("GET",d,!1),s.send(null)}catch(f){i.call(this,"Failed loading synchronously via XHR: '"+t+"'; It's likely that the file is either being loaded from a different domain or from the local file system whereby cross origin requests are not allowed due to security reasons. Use asynchronous loading with Ext.require instead.",r)}a=1223==s.status?204:s.status,o=s.responseText,a>=200&&300>a||304==a||0==a&&o.length>0?(Ext.globalEval(o+"\n//@ sourceURL="+t),e.call(n)):i.call(this,"Failed loading synchronously via XHR: '"+t+"'; please verify that the file exists. XHR status code: "+a,r),s=null}else l=function(){i.call(n,"Failed loading '"+t+"', please verify that the file exists",r)},!Ext.isReady&&Ext.onDocumentReady?Ext.onDocumentReady(function(){h[t]||(c[t]=u.injectScriptElement(d,e,l,n))}):c[t]=this.injectScriptElement(d,e,l,n)},syncRequire:function(){var t=this.syncModeEnabled;t||(this.syncModeEnabled=!0),this.require.apply(this,arguments),t||(this.syncModeEnabled=!1),this.refreshQueue()},require:function(e,i,n,a){var o,l,u,h,c,d,f,g,p,m,x,E={},y={},v=this.queue,b=this.classNameToFilePathMap,S=this.isClassFileLoaded,C=[],w=[],T=[],I=[];if(a)for(a=s(a),g=0,m=a.length;m>g;g++)if(c=a[g],"string"==typeof c&&c.length>0)for(C=t.getNamesByExpression(c),p=0,x=C.length;x>p;p++)E[C[p]]=!0;for(e=s(e),o=i?i.length>0?function(){var e,n,r,s=[];for(e=0,n=I.length;n>e;e++)r=I[e],s.push(t.get(r));return i.apply(this,s)}:i:Ext.emptyFn,n=n||Ext.global,g=0,m=e.length;m>g;g++)if(h=e[g],"string"==typeof h&&h.length>0)for(w=t.getNamesByExpression(h),x=w.length,p=0;x>p;p++)f=w[p],E[f]!==!0&&(I.push(f),t.isCreated(f)||y[f]||(y[f]=!0,T.push(f)));if(!(T.length>0))return o.call(n),this;if(!this.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(T.length>1?"es":"")+": "+T.join(", "));for(l=this.syncModeEnabled,l||v.push({requires:T.slice(),callback:o,scope:n}),m=T.length,g=0;m>g;g++)d=T[g],u=this.getPath(d),l&&S.hasOwnProperty(d)&&(this.numPendingFiles--,this.removeScriptElement(u),delete S[d]),S.hasOwnProperty(d)||(S[d]=!1,b[d]=u,this.numPendingFiles++,this.loadScriptFile(u,r(this.onFileLoaded,[d,u],this),r(this.onFileLoadError,[d,u]),this,l));return l&&(o.call(n),1===m)?t.get(d):this},onFileLoaded:function(t,e){if(this.numLoadedFiles++,this.isClassFileLoaded[t]=!0,this.isFileLoaded[e]=!0,this.numPendingFiles--,0===this.numPendingFiles&&this.refreshQueue(),!this.syncModeEnabled&&0===this.numPendingFiles&&this.isLoading&&!this.hasFileLoadError){var i,n,r,s,a,o=this.queue,l=[],u=[];for(n=0,r=o.length;r>n;n++)for(i=o[n].requires,s=0,a=i.length;a>s;s++)this.isClassFileLoaded[i[s]]&&l.push(i[s]);if(l.length<1)return;for(l=Ext.Array.filter(Ext.Array.unique(l),function(t){return!this.requiresMap.hasOwnProperty(t)},this),n=0,r=l.length;r>n;n++)u.push(this.classNameToFilePathMap[l[n]]);throw new Error("The following classes are not declared even if their files have been loaded: '"+l.join("', '")+"'. Please check the source code of their corresponding files for possible typos: '"+u.join("', '"))}},onFileLoadError:function(t,e,i){throw this.numPendingFiles--,this.hasFileLoadError=!0,new Error("[Ext.Loader] "+i)},addOptionalRequires:function(t){var e,i,n,r=this.optionalRequires;for(t=s(t),e=0,i=t.length;i>e;e++)n=t[e],o(r,n);return this},triggerReady:function(t){var e,i=this.readyListeners,n=this.optionalRequires;if(this.isLoading||t){if(this.isLoading=!1,0!==n.length)return n=n.slice(),this.optionalRequires.length=0,this.require(n,r(this.triggerReady,[!0],this),this),this;for(;i.length;)if(e=i.shift(),e.fn.call(e.scope),this.isLoading)return this}return this},onReady:function(t,e,i,n){var r;i!==!1&&Ext.onDocumentReady&&(r=t,t=function(){Ext.onDocumentReady(r,e,n)}),this.isLoading?this.readyListeners.push({fn:t,scope:e}):t.call(e)},historyPush:function(t){var e=this.isInHistory;return t&&this.isClassFileLoaded.hasOwnProperty(t)&&!e[t]&&(e[t]=!0,this.history.push(t)),this}}),Ext.require=n(l,"require"),Ext.syncRequire=n(l,"syncRequire"),Ext.exclude=n(l,"exclude"),Ext.onReady=function(t,e,i){l.onReady(t,e,!0,i)},e.registerPreprocessor("loader",function(e,i,n,r){var s,a,o,h,c,d,f,g=this,p=[],m=t.getName(e);for(s=0,o=u.length;o>s;s++)if(d=u[s],i.hasOwnProperty(d))if(f=i[d],"string"==typeof f)p.push(f);else if(f instanceof Array)for(a=0,h=f.length;h>a;a++)c=f[a],"string"==typeof c&&p.push(c);else if("function"!=typeof f)for(a in f)f.hasOwnProperty(a)&&(c=f[a],"string"==typeof c&&p.push(c));if(0!==p.length){var x,E=[],y=l.requiresMap;return m&&(y[m]=p,l.requiredByMap||(l.requiredByMap={}),Ext.Array.each(p,function(t){l.requiredByMap[t]||(l.requiredByMap[t]=[]),l.requiredByMap[t].push(m)}),(x=function(t){if(E.push(t),y[t]){if(Ext.Array.contains(y[t],m))throw new Error("Deadlock detected while loading dependencies! '"+m+"' and '"+E[1]+"' mutually require each other. Path: "+E.join(" -> ")+" -> "+E[0]);for(s=0,o=y[t].length;o>s;s++)x(y[t][s])}})(m)),l.require(p,function(){for(s=0,o=u.length;o>s;s++)if(d=u[s],i.hasOwnProperty(d))if(f=i[d],"string"==typeof f)i[d]=t.get(f);else if(f instanceof Array)for(a=0,h=f.length;h>a;a++)c=f[a],"string"==typeof c&&(i[d][a]=t.get(c));else if("function"!=typeof f)for(var l in f)f.hasOwnProperty(l)&&(c=f[l],"string"==typeof c&&(i[d][l]=t.get(c)));r.call(g,e,i,n)}),!1}},!0,"after","className"),t.registerPostprocessor("uses",function(t,e,i){var n,r,a,o=s(i.uses),u=[];for(n=0,r=o.length;r>n;n++)a=o[n],"string"==typeof a&&u.push(a);l.addOptionalRequires(u)}),t.onCreated(function(t){this.historyPush(t)},l)}(Ext.ClassManager,Ext.Class,Ext.Function.flexSetter,Ext.Function.alias,Ext.Function.pass,Ext.Array.from,Ext.Array.erase,Ext.Array.include),function(){var t=document.getElementsByTagName("script"),e=t[t.length-1],i=e.src,n=i.substring(0,i.lastIndexOf("/")+1),r=Ext.Loader;-1!=i.indexOf("src/core/class/")&&(n+="../../../"),r.setConfig({enabled:!0,disableCaching:!/[?&](cache|breakpoint)/i.test(location.search),paths:{Ext:n+"src"}})}(),Ext.setVersion("touch","2.4.1.527"),Ext.apply(Ext,{version:Ext.getVersion("touch"),idSeed:0,repaint:function(){var t=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask "+Ext.baseCSSPrefix+"mask-transparent"});setTimeout(function(){t.destroy()},0)},id:function(t,e){return t&&t.id?t.id:(t=Ext.getDom(t)||{},t===document||t===document.documentElement?t.id="ext-app":t===document.body?t.id="ext-body":t===window&&(t.id="ext-window"),t.id=t.id||(e||"ext-")+ ++Ext.idSeed,t.id)},getBody:function(){if(!Ext.documentBodyElement){if(!document.body)throw new Error("[Ext.getBody] document.body does not exist at this point");Ext.documentBodyElement=Ext.get(document.body)}return Ext.documentBodyElement},getHead:function(){return Ext.documentHeadElement||(Ext.documentHeadElement=Ext.get(document.head||document.getElementsByTagName("head")[0])),Ext.documentHeadElement},getDoc:function(){return Ext.documentElement||(Ext.documentElement=Ext.get(document)),Ext.documentElement},getCmp:function(t){return Ext.ComponentMgr.get(t)},copyTo:function(t,e,i,n){return"string"==typeof i&&(i=i.split(/[,;\s]/)),Ext.each(i,function(i){(n||e.hasOwnProperty(i))&&(t[i]=e[i])},this),t},destroy:function(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)e=i[t],e&&(Ext.isArray(e)?this.destroy.apply(this,e):Ext.isFunction(e.destroy)&&e.destroy())},getDom:function(t){return t&&document?t.dom?t.dom:"string"==typeof t?document.getElementById(t):t:null},removeNode:function(t){t&&t.parentNode&&"BODY"!=t.tagName&&(Ext.get(t).clearListeners(),t.parentNode.removeChild(t),delete Ext.cache[t.id])},defaultSetupConfig:{eventPublishers:{dom:{xclass:"Ext.event.publisher.Dom"},touchGesture:{xclass:"Ext.event.publisher.TouchGesture",recognizers:{drag:{xclass:"Ext.event.recognizer.Drag"},tap:{xclass:"Ext.event.recognizer.Tap"},doubleTap:{xclass:"Ext.event.recognizer.DoubleTap"},longPress:{xclass:"Ext.event.recognizer.LongPress"},swipe:{xclass:"Ext.event.recognizer.Swipe"},pinch:{xclass:"Ext.event.recognizer.Pinch"},rotate:{xclass:"Ext.event.recognizer.Rotate"},edgeSwipe:{xclass:"Ext.event.recognizer.EdgeSwipe"}}},componentDelegation:{xclass:"Ext.event.publisher.ComponentDelegation"},componentPaint:{xclass:"Ext.event.publisher.ComponentPaint"},elementPaint:{xclass:"Ext.event.publisher.ElementPaint"},elementSize:{xclass:"Ext.event.publisher.ElementSize"},seriesItemEvents:{xclass:"Ext.chart.series.ItemPublisher"}},logger:{enabled:!0,xclass:"Ext.log.Logger",minPriority:"deprecate",writers:{console:{xclass:"Ext.log.writer.Console",throwOnErrors:!0,formatter:{xclass:"Ext.log.formatter.Default"}}}},animator:{xclass:"Ext.fx.Runner"},viewport:{xclass:"Ext.viewport.Viewport"}},isSetup:!1,frameStartTime:+new Date,setupListeners:[],onSetup:function(t,e){Ext.isSetup?t.call(e):Ext.setupListeners.push({fn:t,scope:e})},setup:function(t){function e(t,e){var i=document.createElement("meta");i.setAttribute("name",t),i.setAttribute("content",e),f.append(i)}function i(t,e,i){var n=document.createElement("link");n.setAttribute("rel","apple-touch-icon"+(i?"-precomposed":"")),n.setAttribute("href",t),e&&n.setAttribute("sizes",e),f.append(n)}function n(t,e){var i=document.createElement("link");i.setAttribute("rel","apple-touch-startup-image"),i.setAttribute("href",t),e&&i.setAttribute("media",e),f.append(i)}var r,s,a=Ext.defaultSetupConfig,o=Ext.emptyFn,l=t.onReady||o,u=t.onUpdated||o,h=t.scope,c=Ext.Array.from(t.requires),d=Ext.onReady,f=Ext.getHead();Ext.setup=function(){throw new Error("Ext.setup has already been called before")},delete t.requires,delete t.onReady,delete t.onUpdated,delete t.scope,Ext.require(["Ext.event.Dispatcher"]),r=function(){var t,e,i=Ext.setupListeners,n=i.length;for(delete Ext.setupListeners,Ext.isSetup=!0,t=0;n>t;t++)e=i[t],e.fn.call(e.scope);Ext.onReady=d,Ext.onReady(l,h)},Ext.onUpdated=u,Ext.onReady=function(t,e){var i=l;l=function(){i(),Ext.onReady(t,e)}},t=Ext.merge({},a,t),Ext.onDocumentReady(function(){if(Ext.factoryConfig(t,function(t){Ext.event.Dispatcher.getInstance().setPublishers(t.eventPublishers),t.logger&&(Ext.Logger=t.logger),t.animator&&(Ext.Animator=t.animator),t.viewport?(Ext.Viewport=s=t.viewport,h||(h=s),Ext.require(c,function(){Ext.Viewport.on("ready",r,null,{single:!0})})):Ext.require(c,r)}),!Ext.microloaded&&navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@media screen and (orientation: portrait) {@-ms-viewport {width: 320px !important;}}@media screen and (orientation: landscape) {@-ms-viewport {width: 560px !important;}}")),f.appendChild(e)}});var g=t.icon,p=Boolean(t.isIconPrecomposed),m=t.startupImage||{},x=t.statusBarStyle||"black",E=window.devicePixelRatio||1;navigator.standalone?e("viewport","width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"):e("viewport","initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, minimum-ui"),e("apple-mobile-web-app-capable","yes"),e("apple-touch-fullscreen","yes"),Ext.browser.is.ie&&e("msapplication-tap-highlight","no"),x&&e("apple-mobile-web-app-status-bar-style",x),Ext.isString(g)?g={57:g,72:g,114:g,144:g}:g||(g={}),Ext.os.is.iPad?E>=2?("1496x2048"in m&&n(m["1496x2048"],"(orientation: landscape)"),"1536x2008"in m&&n(m["1536x2008"],"(orientation: portrait)"),"144"in g&&i(g[144],"144x144",p)):("748x1024"in m&&n(m["748x1024"],"(orientation: landscape)"),"768x1004"in m&&n(m["768x1004"],"(orientation: portrait)"),"72"in g&&i(g[72],"72x72",p)):E>=2&&Ext.os.version.gtEq("4.3")?(n(Ext.os.is.iPhone5?m["640x1096"]:m["640x920"]),"114"in g&&i(g[114],"114x114",p)):(n(m["320x460"]),"57"in g&&i(g[57],null,p))},application:function(t){var e,i,n,r=t.name;t||(t={}),Ext.Loader.config.paths[r]||Ext.Loader.setPath(r,t.appFolder||"app"),n=Ext.Array.from(t.requires),t.requires=["Ext.app.Application"],e=t.onReady,i=t.scope,t.onReady=function(){t.requires=n,new Ext.app.Application(t),e&&e.call(i)},Ext.setup(t)},factoryConfig:function(t,e){function i(e){t[a]=e,l++,n()}function n(){return l>=u?void e(t):(a=c[l],o=t[a],void Ext.factoryConfig(o,i))}var r=Ext.isSimpleObject(t);if(r&&t.xclass){var s=t.xclass;return delete t.xclass,void Ext.require(s,function(){Ext.factoryConfig(t,function(t){e(Ext.create(s,t))})})}var a,o,l,u,h=Ext.isArray(t),c=[];if(r||h){if(r)for(a in t)t.hasOwnProperty(a)&&(o=t[a],(Ext.isSimpleObject(o)||Ext.isArray(o))&&c.push(a));else for(l=0,u=t.length;u>l;l++)o=t[l],(Ext.isSimpleObject(o)||Ext.isArray(o))&&c.push(l);return l=0,u=c.length,0===u?void e(t):void n()}e(t)},factory:function(t,e,i,n){var r,s=Ext.ClassManager;if(!t||t.isInstance)return i&&i!==t&&i.destroy(),t;if(n){if("string"==typeof t)return s.instantiateByAlias(n+"."+t);if(Ext.isObject(t)&&"type"in t)return s.instantiateByAlias(n+"."+t.type,t)}return t===!0?i||s.instantiate(e):(Ext.isObject(t)||Ext.Logger.error("Invalid config, must be a valid config object"),"xtype"in t?r=s.instantiateByAlias("widget."+t.xtype,t):"xclass"in t&&(r=s.instantiate(t.xclass,t)),r?(i&&i.destroy(),r):i?i.setConfig(t):s.instantiate(e,t))},deprecateClassMember:function(t,e,i,n){return this.deprecateProperty(t.prototype,e,i,n)},deprecateClassMembers:function(t,e){var i,n,r=t.prototype;for(i in e)e.hasOwnProperty(i)&&(n=e[i],this.deprecateProperty(r,i,n))},deprecateProperty:function(t,e,i,n){n||(n="'"+e+"' is deprecated"),i&&(n+=", please use '"+i+"' instead"),i&&Ext.Object.defineProperty(t,e,{get:function(){return Ext.Logger.deprecate(n,1),this[i]},set:function(t){Ext.Logger.deprecate(n,1),this[i]=t},configurable:!0})},deprecatePropertyValue:function(t,e,i,n){Ext.Object.defineProperty(t,e,{get:function(){return Ext.Logger.deprecate(n,1),i},configurable:!0})},deprecateMethod:function(t,e,i,n){t[e]=function(){return Ext.Logger.deprecate(n,2),i?i.apply(this,arguments):void 0}},deprecateClassMethod:function(t,e,i,n){if("string"==typeof e){var r,s="string"==typeof i;n||(n="'"+e+"()' is deprecated, please use '"+(s?i:i.name)+"()' instead"),r=s?function(){return Ext.Logger.deprecate(n,this),this[i].apply(this,arguments)}:function(){return Ext.Logger.deprecate(n,this),i.apply(this,arguments)},e in t.prototype&&Ext.Object.defineProperty(t.prototype,e,{value:null,writable:!0,configurable:!0}),t.addMember(e,r)
}else{var a,o;for(a in e)e.hasOwnProperty(a)&&(o=e[a],Ext.deprecateClassMethod(t,a,o))}},showLeaks:function(){var t,e=Ext.ComponentManager.all.map,i=[];Ext.Object.each(e,function(n,r){for(;(t=r.getParent())&&e.hasOwnProperty(t.getId());)r=t;-1===i.indexOf(r)&&i.push(r)}),console.log(i)},isReady:!1,readyListeners:[],triggerReady:function(){var t,e,i,n=Ext.readyListeners;if(!Ext.isReady){for(Ext.isReady=!0,t=0,e=n.length;e>t;t++)i=n[t],i.fn.call(i.scope);delete Ext.readyListeners}},onDocumentReady:function(t,e){if(Ext.isReady)t.call(e);else{var i=Ext.triggerReady;if(Ext.readyListeners.push({fn:t,scope:e}),!Ext.browser.is.WebWorks&&!Ext.browser.is.PhoneGap||Ext.os.is.Desktop){var n=/MSIE 10/.test(navigator.userAgent)?/complete|loaded/:/interactive|complete|loaded/;null!==document.readyState.match(n)?i():Ext.readyListenerAttached||(Ext.readyListenerAttached=!0,window.addEventListener("DOMContentLoaded",function(){navigator.standalone?setTimeout(function(){setTimeout(function(){i()},1)},1):setTimeout(function(){i()},1)},!1))}else Ext.readyListenerAttached||(Ext.readyListenerAttached=!0,document.addEventListener(Ext.browser.is.PhoneGap?"deviceready":"webworksready",i,!1))}},callback:function(t,e,i,n){Ext.isFunction(t)&&(i=i||[],e=e||window,n?Ext.defer(t,n,e,i):t.apply(e,i))}}),Ext.Object.defineProperty(Ext,"Msg",{get:function(){return Ext.Logger.error("Using Ext.Msg without requiring Ext.MessageBox"),null},set:function(t){return Ext.Object.defineProperty(Ext,"Msg",{value:t}),t},configurable:!0}),Ext.define("Ext.env.Browser",{statics:{browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},browserPrefixes:{ie:"MSIE ",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"}},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:Ext.emptyFn,name:null,version:null,engineName:null,engineVersion:null,setFlag:function(t,e){return"undefined"==typeof e&&(e=!0),this.is[t]=e,this.is[t.toLowerCase()]=e,this},constructor:function(t){this.userAgent=t;var e,i,n,r=this.statics(),s=t.match(new RegExp("((?:"+Ext.Object.getValues(r.browserPrefixes).join(")|(?:")+"))([\\w\\._]+)")),a=t.match(new RegExp("((?:"+Ext.Object.getValues(r.enginePrefixes).join(")|(?:")+"))([\\w\\._]+)")),o=r.browserNames,l=o.other,u=r.engineNames,h=u.other,c="",d="",f=!1;if(e=this.is=function(t){return e[t]===!0},s&&(l=o[Ext.Object.getKey(r.browserPrefixes,s[1])],c=new Ext.Version(s[2])),a&&(h=u[Ext.Object.getKey(r.enginePrefixes,a[1])],d=new Ext.Version(a[2])),"Trident"==h&&"IE"!=l){l="IE";var g=t.match(/.*rv:(\d+.\d+)/);g&&g.length&&(g=g[1],c=new Ext.Version(g))}t.match(/FB/)&&"Other"==l&&(l=o.safari,h=u.webkit),t.match(/Android.*Chrome/g)&&(l="ChromeMobile"),t.match(/OPR/)&&(l="Opera",s=t.match(/OPR\/(\d+.\d+)/),c=new Ext.Version(s[1])),"Safari"===l&&t.match(/BB10/)&&(l="BlackBerry"),Ext.apply(this,{engineName:h,engineVersion:d,name:l,version:c}),this.setFlag(l),c&&(this.setFlag(l+(c.getMajor()||"")),this.setFlag(l+c.getShortVersion()));for(i in o)o.hasOwnProperty(i)&&(n=o[i],this.setFlag(n,l===n));this.setFlag(n),d&&(this.setFlag(h+(d.getMajor()||"")),this.setFlag(h+d.getShortVersion()));for(i in u)u.hasOwnProperty(i)&&(n=u[i],this.setFlag(n,h===n));return this.setFlag("Standalone",!!navigator.standalone),this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple)),this.setFlag("WebWorks",!!window.blackberry),"undefined"!=typeof window.PhoneGap||"undefined"!=typeof window.Cordova||"undefined"!=typeof window.cordova?(f=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova")):window.isNK&&(f=!0,this.setFlag("Sencha")),/(Glass)/i.test(t)&&this.setFlag("GoogleGlass"),/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(t)&&(f=!0),this.setFlag("WebView",f),this.isStrict="CSS1Compat"==document.compatMode,this.isSecure=/^https/i.test(window.location.protocol),this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(t){var e=this.propertyPrefixes[this.engineName];return e.length>0?e+Ext.String.capitalize(t):t},getPreferredTranslationMethod:function(t){return"object"==typeof t&&"translationMethod"in t&&"auto"!==t.translationMethod?t.translationMethod:this.is.AndroidStock2||this.is.IE?"scrollposition":"csstransform"}},function(){Ext.browser=new this(Ext.global.navigator.userAgent)}),Ext.define("Ext.env.OS",{statics:{names:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chrome:"ChromeOS",other:"Other"},prefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chrome:"CrOS "}},is:Ext.emptyFn,name:null,version:null,setFlag:function(t,e){return"undefined"==typeof e&&(e=!0),this.is[t]=e,this.is[t.toLowerCase()]=e,this},constructor:function(t,e,i){var n,r,s,a,o,l,u,h=this.statics(),c=h.names,d=h.prefixes,f="";i=i||Ext.browser,l=this.is=function(t){return this.is[t]===!0};for(r in d)if(d.hasOwnProperty(r)&&(s=d[r],a=t.match(new RegExp("(?:"+s+")([^\\s;]+)")))){n=c[r],u=a[1],f=new Ext.Version(u&&"HTC_"==u?"2.3":u&&"Silk/"==u?"2.3":a[a.length-1]);break}n||(n=c[(t.toLowerCase().match(/mac|win|linux/)||["other"])[0]],f=new Ext.Version("")),this.name=n,this.version=f,e&&this.setFlag(e.replace(/ simulator$/i,"")),this.setFlag(n),f&&(this.setFlag(n+(f.getMajor()||"")),this.setFlag(n+f.getShortVersion()));for(r in c)c.hasOwnProperty(r)&&(o=c[r],l.hasOwnProperty(n)||this.setFlag(o,n===o));return"iOS"==this.name&&568==window.screen.height&&this.setFlag("iPhone5"),(i.is.Safari||i.is.Silk)&&((this.is.Android2||this.is.Android3||501==i.version.shortVersion)&&(i.setFlag("AndroidStock"),i.setFlag("AndroidStock2")),this.is.Android4&&(i.setFlag("AndroidStock"),i.setFlag("AndroidStock4"))),this}},function(){var t,e,i,n=Ext.global.navigator,r=n.userAgent;Ext.os=t=new this(r,n.platform),e=t.name;var s=window.location.search.match(/deviceType=(Tablet|Phone)/),a=window.deviceType;s&&s[1]?i=s[1]:"iPhone"===a?i="Phone":"iPad"===a?i="Tablet":t.is.Android||t.is.iOS||t.is.WindowsPhone||!/Windows|Linux|MacOS/.test(e)?i=t.is.iPad||t.is.RIMTablet||t.is.Android3||Ext.browser.is.Silk||t.is.Android4&&-1==r.search(/mobile/i)?"Tablet":"Phone":(i="Desktop",Ext.browser.is.WebView=Ext.browser.is.Ripple?!0:!1),t.setFlag(i,!0),t.deviceType=i}),Ext.define("Ext.env.Feature",{constructor:function(){this.testElements={},this.has=function(t){return!!this.has[t]},Ext.theme||(Ext.theme={name:"Default"}),Ext.theme.is={},Ext.theme.is[Ext.theme.name]=!0,Ext.onDocumentReady(function(){this.registerTest({ProperHBoxStretching:function(){var t,e=document.createElement("div"),i=e.appendChild(document.createElement("div")),n=i.appendChild(document.createElement("div"));return e.setAttribute("style","width: 100px; height: 100px; position: relative;"),i.setAttribute("style","position: absolute; display: -ms-flexbox; display: -webkit-flex; display: -moz-flexbox; display: flex; -ms-flex-direction: row; -webkit-flex-direction: row; -moz-flex-direction: row; flex-direction: row; min-width: 100%;"),n.setAttribute("style","width: 200px; height: 50px;"),document.body.appendChild(e),t=i.offsetWidth,document.body.removeChild(e),t>100}})},this)},getTestElement:function(t,e){if(void 0===t)t="div";else if("string"!=typeof t)return t;return e?document.createElement(t):(this.testElements[t]||(this.testElements[t]=document.createElement(t)),this.testElements[t])},isStyleSupported:function(t,e){var i=this.getTestElement(e).style,n=Ext.String.capitalize(t);return"undefined"!=typeof i[t]||"undefined"!=typeof i[Ext.browser.getStylePrefix(t)+n]?!0:!1},isStyleSupportedWithoutPrefix:function(t,e){var i=this.getTestElement(e).style;return"undefined"!=typeof i[t]?!0:!1},isEventSupported:function(t,e){void 0===e&&(e=window);var i=this.getTestElement(e),n="on"+t.toLowerCase(),r=n in i;return r||i.setAttribute&&i.removeAttribute&&(i.setAttribute(n,""),r="function"==typeof i[n],"undefined"!=typeof i[n]&&(i[n]=void 0),i.removeAttribute(n)),r},getSupportedPropertyName:function(t,e){var i=Ext.browser.getVendorProperyName(e);return i in t?i:e in t?e:null},registerTest:Ext.Function.flexSetter(function(t,e){return this.has[t]=e.call(this),this})},function(){Ext.feature=new this;Ext.feature.has;Ext.feature.registerTest({Canvas:function(){var t=this.getTestElement("canvas");return!!(t&&t.getContext&&t.getContext("2d"))},Svg:function(){var t=document;return!(!t.createElementNS||!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)},Vml:function(){var t=this.getTestElement(),e=!1;return t.innerHTML="<!--[if vml]><br><![endif]-->",e=1===t.childNodes.length,t.innerHTML="",e},Touch:function(){return Ext.browser.is.Ripple||this.isEventSupported("touchstart")&&!(Ext.os&&Ext.os.name.match(/Windows|MacOS|Linux/)&&!Ext.os.is.BlackBerry6)},Pointer:function(){return!!window.navigator.msPointerEnabled},Orientation:function(){return"orientation"in window&&this.isEventSupported("orientationchange")},OrientationChange:function(){return this.isEventSupported("orientationchange")},DeviceMotion:function(){return this.isEventSupported("devicemotion")},Geolocation:function(){return"geolocation"in window.navigator},SqlDatabase:function(){return"openDatabase"in window},WebSockets:function(){return"WebSocket"in window},Range:function(){return!!document.createRange},CreateContextualFragment:function(){var t=document.createRange?document.createRange():!1;return t&&!!t.createContextualFragment},History:function(){return"history"in window&&"pushState"in window.history},CssTransforms:function(){return this.isStyleSupported("transform")},CssTransformNoPrefix:function(){return Ext.browser.is.AndroidStock?this.isStyleSupportedWithoutPrefix("transform")&&!this.isStyleSupportedWithoutPrefix("-webkit-transform"):this.isStyleSupportedWithoutPrefix("transform")},Css3dTransforms:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")&&!Ext.browser.is.AndroidStock2},CssAnimations:function(){return this.isStyleSupported("animationName")},CssTransitions:function(){return this.isStyleSupported("transitionProperty")},Audio:function(){return!!this.getTestElement("audio").canPlayType},Video:function(){return!!this.getTestElement("video").canPlayType},ClassList:function(){return"classList"in this.getTestElement()},LocalStorage:function(){var t=!1;try{"localStorage"in window&&null!==window.localStorage&&(localStorage.setItem("sencha-localstorage-test","test success"),localStorage.removeItem("sencha-localstorage-test"),t=!0)}catch(e){}return t},XHR2:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest},XHRUploadProgress:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var t=new XMLHttpRequest;return t&&"upload"in t&&"onprogress"in t.upload}return!1},NumericInputPlaceHolder:function(){return!(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}})}),Ext.define("Ext.dom.Query",{select:function(t,e){var i,n,r,s,a,o=[];for(e=e||document,"string"==typeof e&&(e=document.getElementById(e)),t=t.split(","),n=0,s=t.length;s>n;n++)if("string"==typeof t[n])if("@"==t[n][0])i=e.getAttributeNode(t[n].substring(1)),o.push(i);else for(i=e.querySelectorAll(t[n]),r=0,a=i.length;a>r;r++)o.push(i[r]);return o},selectNode:function(t,e){return this.select(t,e)[0]},is:function(t,e){var i,n,r,s;if("string"==typeof t&&(t=document.getElementById(t)),Ext.isArray(t)){for(n=!0,s=t.length,r=0;s>r;r++)if(!this.is(t[r],e)){n=!1;break}}else i=t.parentNode,i?n=-1!==this.select(e,i).indexOf(t):(i=document.createDocumentFragment(),i.appendChild(t),n=-1!==this.select(e,i).indexOf(t),i.removeChild(t),i=null);return n},isXml:function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1}},function(){Ext.ns("Ext.core"),Ext.core.DomQuery=Ext.DomQuery=new this,Ext.query=Ext.Function.alias(Ext.DomQuery,"select")}),Ext.define("Ext.dom.Helper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/tag|children|cn|html|tpl|tplData$/i,endRe:/end/i,attribXlat:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function t(t,e,i){return e+"-"+i.toLowerCase()}var e=/([a-z])([A-Z])/g,i={};return function(n){return i[n]||(i[n]=n.replace(e,t))}}(),generateMarkup:function(t,e){var i,n,r,s,a,o=this;if("string"==typeof t)e.push(t);else if(Ext.isArray(t))for(s=0;s<t.length;s++)t[s]&&o.generateMarkup(t[s],e);else{r=t.tag||"div",e.push("<",r);for(i in t)t.hasOwnProperty(i)&&(n=t[i],o.confRe.test(i)||("object"==typeof n?(e.push(" ",i,'="'),o.generateStyles(n,e).push('"')):e.push(" ",o.attribXlat[i]||i,'="',n,'"')));o.emptyTags.test(r)?e.push("/>"):(e.push(">"),(n=t.tpl)&&n.applyOut(t.tplData,e),(n=t.html)&&e.push(n),(n=t.cn||t.children)&&o.generateMarkup(n,e),a=o.closeTags,e.push(a[r]||(a[r]="</"+r+">")))}return e},generateStyles:function(t,e){var i,n=e||[];for(i in t)t.hasOwnProperty(i)&&n.push(this.decamelizeName(i),":",t[i],";");return e||n.join("")},markup:function(t){if("string"==typeof t)return t;var e=this.generateMarkup(t,[]);return e.join("")},applyStyles:function(t,e){Ext.fly(t).applyStyles(e)},createContextualFragment:function(t){var e,i,n=document.createElement("div"),r=document.createDocumentFragment(),s=0;for(n.innerHTML=t,i=n.childNodes,e=i.length;e>s;s++)r.appendChild(i[s].cloneNode(!0));return r},insertHtml:function(t,e,i){var n,r,s,a,o,l;if(t=t.toLowerCase(),Ext.isTextNode(e)&&("afterbegin"==t?t="beforebegin":"beforeend"==t&&(t="afterend")),o="beforebegin"==t,l="afterbegin"==t,r=Ext.feature.has.CreateContextualFragment?e.ownerDocument.createRange():void 0,n="setStart"+(this.endRe.test(t)?"After":"Before"),o||"afterend"==t)return r?(r[n](e),s=r.createContextualFragment(i)):s=this.createContextualFragment(i),e.parentNode.insertBefore(s,o?e:e.nextSibling),e[(o?"previous":"next")+"Sibling"];if(a=(l?"first":"last")+"Child",e.firstChild){if(r)try{r[n](e[a]),s=r.createContextualFragment(i)}catch(u){s=this.createContextualFragment(i)}else s=this.createContextualFragment(i);l?e.insertBefore(s,e.firstChild):e.appendChild(s)}else e.innerHTML=i;return e[a]},insertBefore:function(t,e,i){return this.doInsert(t,e,i,"beforebegin")},insertAfter:function(t,e,i){return this.doInsert(t,e,i,"afterend")},insertFirst:function(t,e,i){return this.doInsert(t,e,i,"afterbegin")},append:function(t,e,i){return this.doInsert(t,e,i,"beforeend")},overwrite:function(t,e,i){return t=Ext.getDom(t),t.innerHTML=this.markup(e),i?Ext.get(t.firstChild):t.firstChild},doInsert:function(t,e,i,n){var r=this.insertHtml(n,Ext.getDom(t),this.markup(e));return i?Ext.get(r,!0):r},createTemplate:function(t){var e=this.markup(t);return new Ext.Template(e)}},function(){Ext.ns("Ext.core"),Ext.core.DomHelper=Ext.DomHelper=new this}),Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var t,e,i,n,r,s=this.id;return s||(t=this.self.prototype,e=this.defaultIdSeparator,n=Ext.mixin.Identifiable.uniqueIds,t.hasOwnProperty("identifiablePrefix")||(i=this.xtype,r=i?this.defaultIdPrefix+i+e:t.$className.replace(this.idCleanRegex,e).toLowerCase()+e,t.identifiablePrefix=r),r=this.identifiablePrefix,n.hasOwnProperty(r)||(n[r]=0),s=this.id=r+ ++n[r]),this.getUniqueId=this.getOptimizedId,s},setId:function(t){this.id=t},getId:function(){var t=this.id;return t||(t=this.getUniqueId()),this.getId=this.getOptimizedId,t}}),Ext.define("Ext.dom.Element",{alternateClassName:"Ext.Element",mixins:[Ext.mixin.Identifiable],observableType:"element",xtype:"element",statics:{CREATE_ATTRIBUTES:{style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},create:function(t,e){var i,n,r,s,a,o,l,u=this.CREATE_ATTRIBUTES;if(t||(t={}),t.isElement)return t.dom;if("nodeType"in t)return t;if("string"==typeof t)return document.createTextNode(t);r=t.tag,r||(r="div"),i=t.namespace?document.createElementNS(t.namespace,r):document.createElement(r),n=i.style;for(a in t)if("tag"!=a)switch(s=t[a],a){case u.style:if("string"==typeof s)i.setAttribute(a,s);else for(o in s)s.hasOwnProperty(o)&&(n[o]=s[o]);break;case u.className:case u.cls:i.className=s;break;case u.classList:i.className=s.join(" ");break;case u.text:i.textContent=s;break;case u.hidden:s&&(i.style.display="none");break;case u.html:i.innerHTML=s;break;case u.children:for(o=0,l=s.length;l>o;o++)i.appendChild(this.create(s[o],!0));break;default:i.setAttribute(a,s)}return e?i:this.get(i)},documentElement:null,cache:{},get:function(t){var e,i,n,r=this.cache;return t?"string"==typeof t?(i=document.getElementById(t),r.hasOwnProperty(t)&&(e=r[t]),i?e?e.dom=i:e=r[t]=new this(i):e||(e=null),e):"tagName"in t?(n=t.id,r.hasOwnProperty(n)?(e=r[n],e.dom=t,e):(e=new this(t),r[e.getId()]=e,e)):t.isElement?t:t.isComposite?t:Ext.isArray(t)?this.select(t):t===document?(this.documentElement||(this.documentElement=new this(document.documentElement),this.documentElement.setId("ext-application")),this.documentElement):null:null},data:function(t,e,i){var n,r,s=Ext.cache;return(t=this.get(t))?(n=t.id,r=s[n].data,r||(s[n].data=r={}),2==arguments.length?r[e]:r[e]=i):null},serializeForm:function(t){var e,i,n,r,s,a,o,l,u,h=t.elements||(document.forms[t]||Ext.getDom(t)).elements,c=!1,d=encodeURIComponent,f="",g=h.length;for(a=0;g>a;a++)if(e=h[a],i=e.name,n=e.type,r=e.options,!e.disabled&&i)if(/select-(one|multiple)/i.test(n))for(l=r.length,o=0;l>o;o++)u=r[o],u.selected&&(s=u.hasAttribute?u.hasAttribute("value"):u.getAttributeNode("value").specified,f+=Ext.String.format("{0}={1}&",d(i),d(s?u.value:u.text)));else/file|undefined|reset|button/i.test(n)||/radio|checkbox/i.test(n)&&!e.checked||"submit"==n&&c||(f+=d(i)+"="+d(e.value)+"&",c=/submit/i.test(n));return f.substr(0,f.length-1)},serializeNode:function(t){var e,i,n,r,s="";if(t.nodeType===document.TEXT_NODE)return t.nodeValue;if(s+="<"+t.nodeName,t.attributes.length)for(e=0,i=t.attributes.length;i>e;e++)n=t.attributes[e],s+=" "+n.name+'="'+n.value+'"';if(s+=">",t.childNodes&&t.childNodes.length)for(e=0,i=t.childNodes.length;i>e;e++)r=t.childNodes[e],s+=this.serializeNode(r);return s+="</"+t.nodeName+">"}},isElement:!0,constructor:function(t){if("string"==typeof t&&(t=document.getElementById(t)),!t)throw new Error("Invalid domNode reference or an id of an existing domNode: "+t);this.dom=t,this.getUniqueId()},attach:function(t){return this.dom=t,this.id=t.id,this},getUniqueId:function(){var t,e=this.id;return e||(t=this.dom,t.id.length>0?this.id=e=t.id:t.id=e=this.mixins.identifiable.getUniqueId.call(this),Ext.Element.cache[e]=this),e},setId:function(t){var e=this.id,i=Ext.Element.cache;return e&&delete i[e],this.dom.id=t,this.id=t,i[t]=this,this},setHtml:function(t){this.dom.innerHTML=t},getHtml:function(){return this.dom.innerHTML},setText:function(t){this.dom.textContent=t},redraw:function(){var t=this.dom,e=t.style;e.display="none",t.offsetHeight,e.display=""},isPainted:function(){return Ext.browser.is.IE?function(){var t=this.dom;return Boolean(t&&0!==t.offsetHeight&&0!==t.offsetWidth)}:function(){var t=this.dom;return Boolean(t&&t.offsetParent)}}(),set:function(t,e){var i,n,r=this.dom;for(i in t)t.hasOwnProperty(i)&&(n=t[i],"style"==i?this.applyStyles(n):"cls"==i?r.className=n:e!==!1?void 0===n?r.removeAttribute(i):r.setAttribute(i,n):r[i]=n);return this},is:function(t){return Ext.DomQuery.is(this.dom,t)},getValue:function(t){var e=this.dom.value;return t?parseInt(e,10):e},getAttribute:function(t,e){var i=this.dom;return i.getAttributeNS(e,t)||i.getAttribute(e+":"+t)||i.getAttribute(t)||i[t]},setSizeState:function(t){var e,i=["x-sized","x-unsized","x-stretched"],n=[!0,!1,null],r=n.indexOf(t);return-1!==r&&(e=i[r],i.splice(r,1),this.addCls(e)),this.removeCls(i),this},destroy:function(){this.isDestroyed=!0;var t=Ext.Element.cache,e=this.dom;e&&e.parentNode&&"BODY"!=e.tagName&&e.parentNode.removeChild(e),delete t[this.id],delete this.dom}},function(t){Ext.elements=Ext.cache=t.cache,this.addStatics({Fly:new Ext.Class({extend:t,constructor:function(t){this.dom=t}}),_flyweights:{},fly:function(e,i){var n,r=null,s=t._flyweights;return i=i||"_global",e=Ext.getDom(e),e&&(r=s[i]||(s[i]=new t.Fly),r.dom=e,r.isSynchronized=!1,n=Ext.cache[e.id],n&&n.isElement&&(n.isSynchronized=!1)),r}}),Ext.get=function(e){return t.get(e)},Ext.fly=function(){return t.fly.apply(t,arguments)},Ext.ClassManager.onCreated(function(){t.mixin("observable",Ext.mixin.Observable)},null,"Ext.mixin.Observable")}),Ext.dom.Element.addStatics({numberRe:/\d+$/,unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,cssRe:/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(t,e){return""===t||"auto"==t||void 0===t||null===t?t||"":Ext.isNumber(t)||this.numberRe.test(t)?t+(e||this.defaultUnit||"px"):this.unitRe.test(t)?t:(Ext.Logger.warn("Warning, size detected ("+t+") not a valid property value on Element.addUnits."),t||"")},isAncestor:function(t,e){var i=!1;if(t=Ext.getDom(t),e=Ext.getDom(e),t&&e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));for(;e=e.parentNode;)i=e==t||i}return i},parseBox:function(t){"string"!=typeof t&&(t=t.toString());var e=t.split(" "),i=e.length;return 1==i?e[1]=e[2]=e[3]=e[0]:2==i?(e[2]=e[0],e[3]=e[1]):3==i&&(e[3]=e[1]),{top:e[0]||0,right:e[1]||0,bottom:e[2]||0,left:e[3]||0}},unitizeBox:function(t,e){var i=this;return t=i.parseBox(t),i.addUnits(t.top,e)+" "+i.addUnits(t.right,e)+" "+i.addUnits(t.bottom,e)+" "+i.addUnits(t.left,e)},camelReplaceFn:function(t,e){return e.charAt(1).toUpperCase()},normalize:function(t){return this.propertyCache[t]||(this.propertyCache[t]=t.replace(this.camelRe,this.camelReplaceFn))},fromPoint:function(t,e){return Ext.get(document.elementFromPoint(t,e))},parseStyles:function(t){var e,i={},n=this.cssRe;if(t)for(n.lastIndex=0;e=n.exec(t);)i[e[1]]=e[2];return i}}),Ext.dom.Element.addMembers({appendChild:function(t){return this.dom.appendChild(Ext.getDom(t)),this},removeChild:function(t){return this.dom.removeChild(Ext.getDom(t)),this},append:function(){this.appendChild.apply(this,arguments)},appendTo:function(t){return Ext.getDom(t).appendChild(this.dom),this},insertBefore:function(t){return t=Ext.getDom(t),t.parentNode.insertBefore(this.dom,t),this},insertAfter:function(t){return t=Ext.getDom(t),t.parentNode.insertBefore(this.dom,t.nextSibling),this},insertFirst:function(t){var e=Ext.getDom(t),i=this.dom,n=i.firstChild;return n?i.insertBefore(e,n):i.appendChild(e),this},insertSibling:function(t,e,i){var n,r,s=this,a="after"==(e||"before").toLowerCase();return Ext.isArray(t)?(r=s,Ext.each(t,function(t){n=Ext.fly(r,"_internal").insertSibling(t,e,i),a&&(r=n)}),n):(t=t||{},t.nodeType||t.dom?(n=s.dom.parentNode.insertBefore(Ext.getDom(t),a?s.dom.nextSibling:s.dom),i||(n=Ext.get(n))):n=a&&!s.dom.nextSibling?Ext.core.DomHelper.append(s.dom.parentNode,t,!i):Ext.core.DomHelper[a?"insertAfter":"insertBefore"](s.dom,t,!i),n)},replace:function(t){return t=Ext.getDom(t),t.parentNode.replaceChild(this.dom,t),this},replaceWith:function(t){var e=this;return t.nodeType||t.dom||"string"==typeof t?(t=Ext.get(t),e.dom.parentNode.insertBefore(t.dom,e.dom)):t=Ext.core.DomHelper.insertBefore(e.dom,t),delete Ext.cache[e.id],Ext.removeNode(e.dom),e.id=Ext.id(e.dom=t),e},doReplaceWith:function(t){var e=this.dom;e.parentNode.replaceChild(Ext.getDom(t),e)},createChild:function(t,e,i){return t=t||{tag:"div"},e?Ext.core.DomHelper.insertBefore(e,t,i!==!0):Ext.core.DomHelper[this.dom.firstChild?"append":"insertFirst"](this.dom,t,i!==!0)},wrap:function(t,e){var i=this.dom,n=this.self.create(t,e),r=e?n:n.dom,s=i.parentNode;return s&&s.insertBefore(r,i),r.appendChild(i),n},wrapAllChildren:function(t){for(var e=this.dom,i=e.childNodes,n=this.self.create(t),r=n.dom;i.length>0;)r.appendChild(e.firstChild);return e.appendChild(r),n},unwrapAllChildren:function(){var t=this.dom,e=t.childNodes,i=t.parentNode;if(i){for(;e.length>0;)i.insertBefore(t,t.firstChild);this.destroy()}},unwrap:function(){var t,e=this.dom,i=e.parentNode;return i?(t=i.parentNode,t.insertBefore(e,i),t.removeChild(i)):(t=document.createDocumentFragment(),t.appendChild(e)),this},detach:function(){var t=this.dom;return t&&t.parentNode&&"BODY"!==t.tagName&&t.parentNode.removeChild(t),this},insertHtml:function(t,e,i){var n=Ext.core.DomHelper.insertHtml(t,this.dom,e);return i?Ext.get(n):n}}),Ext.dom.Element.override({getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){var t=this.dom.getBoundingClientRect(),e=Math.round;return[e(t.left+window.pageXOffset),e(t.top+window.pageYOffset)]},getOffsetsTo:function(t){var e=this.getXY(),i=Ext.fly(t,"_internal").getXY();return[e[0]-i[0],e[1]-i[1]]},setX:function(t){return this.setXY([t,this.getY()])},setY:function(t){return this.setXY([this.getX(),t])},setXY:function(t){var e=this;arguments.length>1&&(t=[t,arguments[1]]);var i=e.translatePoints(t),n=e.dom.style;for(t in i)i.hasOwnProperty(t)&&(isNaN(i[t])||(n[t]=i[t]+"px"));return e},getLeft:function(){return parseInt(this.getStyle("left"),10)||0},getRight:function(){return parseInt(this.getStyle("right"),10)||0},getTop:function(){return parseInt(this.getStyle("top"),10)||0},getBottom:function(){return parseInt(this.getStyle("bottom"),10)||0},translatePoints:function(t,e){e=isNaN(t[1])?e:t[1],t=isNaN(t[0])?t:t[0];var i=this,n=i.isStyle("position","relative"),r=i.getXY(),s=parseInt(i.getStyle("left"),10),a=parseInt(i.getStyle("top"),10);return s=isNaN(s)?n?0:i.dom.offsetLeft:s,a=isNaN(a)?n?0:i.dom.offsetTop:a,{left:t-r[0]+s,top:e-r[1]+a}},setBox:function(t){var e=this,i=t.width,n=t.height,r=t.top,s=t.left;return void 0!==s&&e.setLeft(s),void 0!==r&&e.setTop(r),void 0!==i&&e.setWidth(i),void 0!==n&&e.setHeight(n),this},getBox:function(t,e){var i,n,r,s,a,o,l=this,u=l.dom,h=u.offsetWidth,c=u.offsetHeight;return i=e?t?[0,0]:[parseInt(l.getStyle("left"),10)||0,parseInt(l.getStyle("top"),10)||0]:l.getXY(),t?(r=l.getBorderWidth.call(l,"l")+l.getPadding.call(l,"l"),s=l.getBorderWidth.call(l,"r")+l.getPadding.call(l,"r"),a=l.getBorderWidth.call(l,"t")+l.getPadding.call(l,"t"),o=l.getBorderWidth.call(l,"b")+l.getPadding.call(l,"b"),n={x:i[0]+r,y:i[1]+a,0:i[0]+r,1:i[1]+a,width:h-(r+s),height:c-(a+o)}):n={x:i[0],y:i[1],0:i[0],1:i[1],width:h,height:c},n.left=n.x,n.top=n.y,n.right=n.x+n.width,n.bottom=n.y+n.height,n},getPageBox:function(t){var e=this,i=e.dom;if(!i)return new Ext.util.Region;var n=i.offsetWidth,r=i.offsetHeight,s=e.getXY(),a=s[1],o=s[0]+n,l=s[1]+r,u=s[0];return t?new Ext.util.Region(a,o,l,u):{left:u,top:a,width:n,height:r,right:o,bottom:l}}}),Ext.dom.Element.addMembers({WIDTH:"width",HEIGHT:"height",MIN_WIDTH:"min-width",MIN_HEIGHT:"min-height",MAX_WIDTH:"max-width",MAX_HEIGHT:"max-height",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",VISIBILITY:1,DISPLAY:2,OFFSETS:3,SEPARATOR:"-",trimRe:/^\s+|\s+$/g,wordsRe:/\w/g,spacesRe:/\s+/,styleSplitRe:/\s*(?::|;)\s*/,transparentRe:/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,classNameSplitRegex:/[\s]+/,borders:{t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},paddings:{t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},margins:{t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},defaultUnit:"px",isSynchronized:!1,synchronize:function(){var t,e,i,n,r=this.dom,s={},a=r.className;if(a.length>0)for(t=r.className.split(this.classNameSplitRegex),e=0,i=t.length;i>e;e++)n=t[e],s[n]=!0;else t=[];return this.classList=t,this.hasClassMap=s,this.isSynchronized=!0,this},addCls:function(t,e,i){if(!t)return this;this.isSynchronized||this.synchronize();var n,r,s,a=this.dom,o=this.hasClassMap,l=this.classList,u=this.SEPARATOR;for(e=e?e+u:"",i=i?u+i:"","string"==typeof t&&(t=t.split(this.spacesRe)),n=0,r=t.length;r>n;n++)s=e+t[n]+i,o[s]||(o[s]=!0,l.push(s));return a.className=l.join(" "),this},removeCls:function(t,e,i){if(!t)return this;this.isSynchronized||this.synchronize(),i||(i="");var n,r,s,a=this.dom,o=this.hasClassMap,l=this.classList,u=this.SEPARATOR;for(e=e?e+u:"",i=i?u+i:"","string"==typeof t&&(t=t.split(this.spacesRe)),n=0,r=t.length;r>n;n++)s=e+t[n]+i,o[s]&&(delete o[s],Ext.Array.remove(l,s));return a.className=l.join(" "),this},replaceCls:function(t,e,i,n){if(!t&&!e)return this;t=t||[],e=e||[],this.isSynchronized||this.synchronize(),n||(n="");var r,s,a,o=this.dom,l=this.hasClassMap,u=this.classList,h=this.SEPARATOR;for(i=i?i+h:"",n=n?h+n:"","string"==typeof t&&(t=t.split(this.spacesRe)),"string"==typeof e&&(e=e.split(this.spacesRe)),r=0,s=t.length;s>r;r++)a=i+t[r]+n,l[a]&&(delete l[a],Ext.Array.remove(u,a));for(r=0,s=e.length;s>r;r++)a=i+e[r]+n,l[a]||(l[a]=!0,u.push(a));return o.className=u.join(" "),this},hasCls:function(t){return this.isSynchronized||this.synchronize(),this.hasClassMap.hasOwnProperty(t)},setCls:function(t){var e,i,n,r=this.hasClassMap;for("string"==typeof t&&(t=t.split(this.spacesRe)),e=0,i=t.length;i>e;e++)n=t[e],r[n]||(r[n]=!0);this.classList=t.slice(),this.dom.className=t.join(" ")},toggleCls:function(t,e){return"boolean"!=typeof e&&(e=!this.hasCls(t)),e?this.addCls(t):this.removeCls(t)},swapCls:function(t,e,i,n){void 0===i&&(i=!0);var r=i?t:e,s=i?e:t;return s&&this.removeCls(n?n+"-"+s:s),r&&this.addCls(n?n+"-"+r:r),this},setWidth:function(t){return this.setLengthValue(this.WIDTH,t)},setHeight:function(t){return this.setLengthValue(this.HEIGHT,t)},setSize:function(t,e){return Ext.isObject(t)&&(e=t.height,t=t.width),this.setWidth(t),this.setHeight(e),this},setMinWidth:function(t){return this.setLengthValue(this.MIN_WIDTH,t)},setMinHeight:function(t){return this.setLengthValue(this.MIN_HEIGHT,t)},setMaxWidth:function(t){return this.setLengthValue(this.MAX_WIDTH,t)},setMaxHeight:function(t){return this.setLengthValue(this.MAX_HEIGHT,t)},setTop:function(t){return this.setLengthValue(this.TOP,t)},setRight:function(t){return this.setLengthValue(this.RIGHT,t)},setBottom:function(t){return this.setLengthValue(this.BOTTOM,t)},setLeft:function(t){return this.setLengthValue(this.LEFT,t)},setMargin:function(t){var e=this.dom.style;t||0===t?(t=this.self.unitizeBox(t===!0?5:t),e.setProperty("margin",t,"important")):(e.removeProperty("margin-top"),e.removeProperty("margin-right"),e.removeProperty("margin-bottom"),e.removeProperty("margin-left"))},setPadding:function(t){var e=this.dom.style;t||0===t?(t=this.self.unitizeBox(t===!0?5:t),e.setProperty("padding",t,"important")):(e.removeProperty("padding-top"),e.removeProperty("padding-right"),e.removeProperty("padding-bottom"),e.removeProperty("padding-left"))},setBorder:function(t){var e=this.dom.style;t||0===t?(t=this.self.unitizeBox(t===!0?1:t),e.setProperty("border-width",t,"important")):(e.removeProperty("border-top-width"),e.removeProperty("border-right-width"),e.removeProperty("border-bottom-width"),e.removeProperty("border-left-width"))
},setLengthValue:function(t,e){var i=this.dom.style;return null===e?(i.removeProperty(t),this):("number"==typeof e&&(e+="px"),i.setProperty(t,e,"important"),this)},setVisible:function(t){var e=this.getVisibilityMode(),i=t?"removeCls":"addCls";switch(e){case this.VISIBILITY:this.removeCls(["x-hidden-display","x-hidden-offsets"]),this[i]("x-hidden-visibility");break;case this.DISPLAY:this.removeCls(["x-hidden-visibility","x-hidden-offsets"]),this[i]("x-hidden-display");break;case this.OFFSETS:this.removeCls(["x-hidden-visibility","x-hidden-display"]),this[i]("x-hidden-offsets")}return this},getVisibilityMode:function(){var t=this.dom,e=Ext.dom.Element.data(t,"visibilityMode");return void 0===e&&Ext.dom.Element.data(t,"visibilityMode",e=this.DISPLAY),e},setVisibilityMode:function(t){return this.self.data(this.dom,"visibilityMode",t),this},show:function(){var t=this.dom;t&&t.style.removeProperty("display")},hide:function(){this.dom.style.setProperty("display","none","important")},setVisibility:function(t){var e=this.dom.style;t?e.removeProperty("visibility"):e.setProperty("visibility","hidden","important")},styleHooks:{},addStyles:function(t,e){for(var i,n,r=0,s=t.match(this.wordsRe),a=0,o=s.length;o>a;a++)i=s[a],n=i&&parseInt(this.getStyle(e[i]),10),n&&(r+=Math.abs(n));return r},isStyle:function(t,e){return this.getStyle(t)==e},getStyleValue:function(t){return this.dom.style.getPropertyValue(t)},getStyle:function(t){var e,i,n=this,r=n.dom,s=n.styleHooks[t];return r==document?null:(s||(n.styleHooks[t]=s={name:Ext.dom.Element.normalize(t)}),s.get?s.get(r,n):(e=window.getComputedStyle(r,""),i=e&&e[s.name]))},setStyle:function(t,e){var i,n,r=this,s=r.dom,a=r.styleHooks,o=s.style,l=Ext.valueFrom;if("string"==typeof t)n=a[t],n||(a[t]=n={name:Ext.dom.Element.normalize(t)}),e=l(e,""),n.set?n.set(s,e,r):o[n.name]=e;else for(i in t)t.hasOwnProperty(i)&&(n=a[i],n||(a[i]=n={name:Ext.dom.Element.normalize(i)}),e=l(t[i],""),n.set?n.set(s,e,r):o[n.name]=e);return r},getHeight:function(t){var e=this.dom,i=t?e.clientHeight-this.getPadding("tb"):e.offsetHeight;return i>0?i:0},getWidth:function(t){var e=this.dom,i=t?e.clientWidth-this.getPadding("lr"):e.offsetWidth;return i>0?i:0},getBorderWidth:function(t){return this.addStyles(t,this.borders)},getPadding:function(t){return this.addStyles(t,this.paddings)},applyStyles:function(t){if(t){var e,i,n,r=this.dom;if("function"==typeof t&&(t=t.call()),e=typeof t,"string"==e)for(t=Ext.util.Format.trim(t).split(this.styleSplitRe),i=0,n=t.length;n>i;)r.style[Ext.dom.Element.normalize(t[i++])]=t[i++];else"object"==e&&this.setStyle(t)}return this},getSize:function(t){var e=this.dom;return{width:Math.max(0,t?e.clientWidth-this.getPadding("lr"):e.offsetWidth),height:Math.max(0,t?e.clientHeight-this.getPadding("tb"):e.offsetHeight)}},repaint:function(){var t=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){Ext.fly(t).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(t){var e,i=this,n={t:"top",l:"left",r:"right",b:"bottom"},r={};if(t)return i.addStyles.call(i,t,i.margins);for(e in i.margins)r[n[e]]=parseFloat(i.getStyle(i.margins[e]))||0;return r},translate:function(){var t="webkitTransform"in document.createElement("div").style?"webkitTransform":"transform";return function(e,i,n){this.dom.style[t]="translate3d("+(e||0)+"px, "+(i||0)+"px, "+(n||0)+"px)"}}()}),Ext.dom.Element.addMembers({getParent:function(){return Ext.get(this.dom.parentNode)},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},contains:function(t){if(!t)return!1;var e=Ext.getDom(t);return e===this.dom||this.self.isAncestor(this.dom,e)},findParent:function(t,e,i){var n,r=this.dom,s=document.body,a=0;for(e=e||50,isNaN(e)&&(n=Ext.getDom(e),e=Number.MAX_VALUE);r&&1==r.nodeType&&e>a&&r!=s&&r!=n;){if(Ext.DomQuery.is(r,t))return i?Ext.get(r):r;a++,r=r.parentNode}return null},findParentNode:function(t,e,i){var n=Ext.fly(this.dom.parentNode,"_internal");return n?n.findParent(t,e,i):null},up:function(t,e){return this.findParentNode(t,e,!0)},select:function(t,e){return Ext.dom.Element.select(t,e,this.dom)},query:function(t){return Ext.DomQuery.select(t,this.dom)},down:function(t,e){var i=Ext.DomQuery.selectNode(t,this.dom);return e?i:Ext.get(i)},child:function(t,e){var i,n,r=this;return n=Ext.get(r).id,n=n.replace(/[\.:]/g,"\\$0"),i=Ext.DomQuery.selectNode("#"+n+" > "+t,r.dom),e?i:Ext.get(i)},parent:function(t,e){return this.matchNode("parentNode","parentNode",t,e)},next:function(t,e){return this.matchNode("nextSibling","nextSibling",t,e)},prev:function(t,e){return this.matchNode("previousSibling","previousSibling",t,e)},first:function(t,e){return this.matchNode("nextSibling","firstChild",t,e)},last:function(t,e){return this.matchNode("previousSibling","lastChild",t,e)},matchNode:function(t,e,i,n){if(!this.dom)return null;for(var r=this.dom[e];r;){if(1==r.nodeType&&(!i||Ext.DomQuery.is(r,i)))return n?r:Ext.get(r);r=r[t]}return null},isAncestor:function(t){return this.self.isAncestor.call(this.self,this.dom,t)}}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite","Ext.CompositeElement"],statics:{importElementMethods:function(){}},constructor:function(t,e){this.elements=[],this.add(t,e),this.el=new Ext.dom.Element.Fly},isComposite:!0,getElement:function(t){return this.el.attach(t).synchronize()},transformElement:function(t){return Ext.getDom(t)},getCount:function(){return this.elements.length},add:function(t,e){var i,n,r=this.elements;if(!t)return this;for("string"==typeof t?t=Ext.dom.Element.selectorFunction(t,e):t.isComposite?t=t.elements:Ext.isIterable(t)||(t=[t]),i=0,n=t.length;n>i;++i)r.push(this.transformElement(t[i]));return this},invoke:function(t,e){var i,n,r=this.elements,s=r.length;for(n=0;s>n;n++)i=r[n],i&&Ext.dom.Element.prototype[t].apply(this.getElement(i),e);return this},item:function(t){var e=this.elements[t],i=null;return e&&(i=this.getElement(e)),i},addListener:function(t,e,i,n){var r,s,a=this.elements,o=a.length;for(r=0;o>r;r++)s=a[r],s&&s.on(t,e,i||s,n);return this},each:function(t,e){var i,n,r=this,s=r.elements,a=s.length;for(i=0;a>i&&(n=s[i],!n||(n=this.getElement(n),t.call(e||n,n,r,i)!==!1));i++);return r},fill:function(t){var e=this;return e.elements=[],e.add(t),e},filter:function(t){var e=[],i=this,n=Ext.isFunction(t)?t:function(e){return e.is(t)};return i.each(function(t,r,s){n(t,s)!==!1&&(e[e.length]=i.transformElement(t))}),i.elements=e,i},indexOf:function(t){return Ext.Array.indexOf(this.elements,this.transformElement(t))},replaceElement:function(t,e,i){var n,r=isNaN(t)?this.indexOf(t):t;return r>-1&&(e=Ext.getDom(e),i&&(n=this.elements[r],n.parentNode.insertBefore(e,n),Ext.removeNode(n)),Ext.Array.splice(this.elements,r,1,e)),this},clear:function(){this.elements=[]},addElements:function(t,e){if(!t)return this;"string"==typeof t&&(t=Ext.dom.Element.selectorFunction(t,e));var i=this.elements;return Ext.each(t,function(t){i.push(Ext.get(t))}),this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(t){return-1!=this.indexOf(t)},removeElement:function(t,e){var i,n=this,r=this.elements;return Ext.each(t,function(t){(i=r[t]||r[t=n.indexOf(t)])&&(e&&(i.dom?i.remove():Ext.removeNode(i)),Ext.Array.erase(r,t,1))}),this}},function(){var t,e=Ext.dom.Element,i=e.prototype,n=this.prototype;for(t in i)"function"==typeof i[t]&&function(t){n[t]="destroy"===t?function(){return this.invoke(t,arguments)}:n[t]||function(){return this.invoke(t,arguments)}}.call(n,t);n.on=n.addListener,e.selectorFunction=Ext.DomQuery.select,Ext.dom.Element.select=function(t,e,i){var n;if("string"==typeof t)n=Ext.dom.Element.selectorFunction(t,i);else{if(void 0===t.length)throw new Error("[Ext.select] Invalid selector specified: "+t);n=t}return e===!0?new Ext.dom.CompositeElement(n):new Ext.dom.CompositeElementLite(n)},Ext.select=function(){return e.select.apply(e,arguments)}}),Ext.define("Ext.event.ListenerStack",{currentOrder:"current",length:0,constructor:function(){return this.listeners={before:[],current:[],after:[]},this.lateBindingMap={},this},add:function(t,e,i,n){var r,s,a,o=this.lateBindingMap,l=this.getAll(n),u=l.length;if("string"==typeof t&&e.isIdentifiable)if(a=e.getId(),r=o[a]){if(r[t])return!1;r[t]=!0}else o[a]=r={},r[t]=!0;else if(u>0)for(;u--;)if(s=l[u],s.fn===t&&s.scope===e)return s.options=i,!1;return s=this.create(t,e,i,n),i&&i.prepend?(delete i.prepend,l.unshift(s)):l.push(s),this.length++,!0},getAt:function(t,e){return this.getAll(e)[t]},getAll:function(t){return t||(t=this.currentOrder),this.listeners[t]},count:function(t){return this.getAll(t).length},create:function(t,e,i,n){return{stack:this,fn:t,firingFn:!1,boundFn:!1,isLateBinding:"string"==typeof t,scope:e,options:i||{},order:n}},remove:function(t,e,i){var n,r,s=this.getAll(i),a=s.length,o=!1,l=this.lateBindingMap;if(a>0)for(;a--;)if(n=s[a],n.fn===t&&n.scope===e){s.splice(a,1),o=!0,this.length--,"string"==typeof t&&e.isIdentifiable&&(r=e.getId(),l[r]&&l[r][t]&&delete l[r][t]);break}return o}}),Ext.define("Ext.event.Controller",{isFiring:!1,listenerStack:null,constructor:function(t){return this.firingListeners=[],this.firingArguments=[],this.setInfo(t),this},setInfo:function(t){this.info=t},getInfo:function(){return this.info},setListenerStacks:function(t){this.listenerStacks=t},fire:function(t,e){var i,n,r,s,a,o=this.listenerStacks,l=this.firingListeners,u=this.firingArguments,h=l.push,c=o.length,d=!1,f=!1;if(l.length=0,e&&("after"!==e.order?d=!0:f=!0),1===c)i=o[0].listeners,n=i.before,r=i.current,s=i.after,n.length>0&&h.apply(l,n),d&&h.call(l,e),r.length>0&&h.apply(l,r),f&&h.call(l,e),s.length>0&&h.apply(l,s);else{for(a=0;c>a;a++)n=o[a].listeners.before,n.length>0&&h.apply(l,n);for(d&&h.call(l,e),a=0;c>a;a++)r=o[a].listeners.current,r.length>0&&h.apply(l,r);for(f&&h.call(l,e),a=0;c>a;a++)s=o[a].listeners.after,s.length>0&&h.apply(l,s)}return 0===l.length?this:(t||(t=[]),u.length=0,u.push.apply(u,t),u.push(null,this),this.doFire(),this)},doFire:function(){var t,e,i,n,r,s,a,o,l,u,h,c=this.firingListeners,d=this.firingArguments,f=d.length-2;for(this.isPausing=!1,this.isPaused=!1,this.isStopped=!1,this.isFiring=!0,t=0,e=c.length;e>t;t++){if(i=c[t],n=i.options,r=i.fn,s=i.firingFn,a=i.boundFn,o=i.isLateBinding,l=i.scope,o&&a&&a!==l[r]&&(a=!1,s=!1),!a){if(o){if(a=l[r],!a)continue}else a=r;i.boundFn=a}if(s||(s=a,n.buffer&&(s=Ext.Function.createBuffered(s,n.buffer,l)),n.delay&&(s=Ext.Function.createDelayed(s,n.delay,l)),i.firingFn=s),d[f]=n,u=d,n.args&&(u=n.args.concat(u)),n.single===!0&&i.stack.remove(r,l,i.order),h=s.apply(l,u),h===!1&&this.stop(),this.isStopped)break;if(this.isPausing)return this.isPaused=!0,void c.splice(0,t+1)}this.isFiring=!1,this.listenerStacks=null,c.length=0,d.length=0,this.connectingController=null},connect:function(t){this.connectingController=t},resume:function(){var t=this.connectingController;return this.isPausing=!1,this.isPaused&&this.firingListeners.length>0&&(this.isPaused=!1,this.doFire()),t&&t.resume(),this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var t=this.connectingController;return this.isStopped=!0,t&&(this.connectingController=null,t.stop()),this.isFiring=!1,this.listenerStacks=null,this},pause:function(){var t=this.connectingController;return this.isPausing=!0,t&&t.pause(),this}}),Ext.define("Ext.event.Dispatcher",{statics:{getInstance:function(){return this.instance||(this.instance=new this),this.instance},setInstance:function(t){return this.instance=t,this}},config:{publishers:{}},wildcard:"*",constructor:function(t){return this.listenerStacks={},this.activePublishers={},this.publishersCache={},this.noActivePublishers=[],this.controller=null,this.initConfig(t),this},getListenerStack:function(t,e,i,n){var r,s=this.listenerStacks,a=s[t];if(n=Boolean(n),!a){if(!n)return null;s[t]=a={}}if(a=a[e],!a){if(!n)return null;s[t][e]=a={}}if(r=a[i],!r){if(!n)return null;a[i]=r=new Ext.event.ListenerStack}return r},getController:function(t,e,i,n){var r=this.controller,s={targetType:t,target:e,eventName:i};return r||(this.controller=r=new Ext.event.Controller),r.isFiring&&(r=new Ext.event.Controller),r.setInfo(s),n&&r!==n&&r.connect(n),r},applyPublishers:function(t){var e,i;this.publishersCache={};for(e in t)t.hasOwnProperty(e)&&(i=t[e],this.registerPublisher(i));return t},registerPublisher:function(t){var e=this.activePublishers,i=t.getTargetType(),n=e[i];return n||(e[i]=n=[]),n.push(t),t.setDispatcher(this),this},getCachedActivePublishers:function(t,e){var i,n=this.publishersCache;return(i=n[t])&&(i=i[e])?i:null},cacheActivePublishers:function(t,e,i){var n=this.publishersCache;return n[t]||(n[t]={}),n[t][e]=i,i},getActivePublishers:function(t,e){var i,n,r,s,a;if(i=this.getCachedActivePublishers(t,e))return i;if(n=this.activePublishers[t])for(i=[],r=0,s=n.length;s>r;r++)a=n[r],a.handles(e)&&i.push(a);else i=this.noActivePublishers;return this.cacheActivePublishers(t,e,i)},hasListener:function(t,e,i){var n=this.getListenerStack(t,e,i);return n?n.count()>0:!1},addListener:function(t,e,i){var n,r,s=this.getActivePublishers(t,i),a=s.length;if(r=this.doAddListener.apply(this,arguments),r&&a>0)for(n=0;a>n;n++)s[n].subscribe(e,i);return r},doAddListener:function(t,e,i,n,r,s,a){var o=this.getListenerStack(t,e,i,!0);return o.add(n,r,s,a)},removeListener:function(t,e,i){var n,r,s=this.getActivePublishers(t,i),a=s.length;if(r=this.doRemoveListener.apply(this,arguments),r&&a>0)for(n=0;a>n;n++)s[n].unsubscribe(e,i);return r},doRemoveListener:function(t,e,i,n,r,s){var a=this.getListenerStack(t,e,i);return null===a?!1:a.remove(n,r,s)},clearListeners:function(t,e,i){var n,r,s,a,o=this.listenerStacks,l=arguments.length;if(3===l)o[t]&&o[t][e]&&(this.removeListener(t,e,i),delete o[t][e][i]);else if(2===l){if(o[t]&&(n=o[t][e])){for(i in n)if(n.hasOwnProperty(i))for(r=this.getActivePublishers(t,i),s=0,l=r.length;l>s;s++)r[s].unsubscribe(e,i,!0);delete o[t][e]}}else if(1===l){for(r=this.activePublishers[t],s=0,l=r.length;l>s;s++)r[s].unsubscribeAll();delete o[t]}else{r=this.activePublishers;for(t in r)if(r.hasOwnProperty(t))for(a=r[t],s=0,l=a.length;l>s;s++)a[s].unsubscribeAll();delete this.listenerStacks,this.listenerStacks={}}return this},dispatchEvent:function(t,e,i){var n,r=this.getActivePublishers(t,i),s=r.length;if(s>0)for(n=0;s>n;n++)r[n].notify(e,i);return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(t,e,i,n,r,s){var a,o=this.getListenerStack(t,e,i),l=this.getWildcardListenerStacks(t,e,i);if(null===o||0==o.length){if(0==l.length&&!r)return}else l.push(o);return a=this.getController(t,e,i,s),a.setListenerStacks(l),a.fire(n,r),!a.isInterrupted()},getWildcardListenerStacks:function(t,e,i){var n,r=[],s=this.wildcard,a=i!==s,o=e!==s;return a&&(n=this.getListenerStack(t,e,s))&&r.push(n),o&&(n=this.getListenerStack(t,s,i))&&r.push(n),r},getPublisher:function(t){return this.getPublishers()[t]}}),Ext.define("Ext.mixin.Mixin",{onClassExtended:function(t,e){var i,n,r,s=e.mixinConfig;s&&(i=t.superclass.mixinConfig,i&&(s=e.mixinConfig=Ext.merge({},i,s)),e.mixinId=s.id,n=s.beforeHooks,r=s.hooks||s.afterHooks,(n||r)&&Ext.Function.interceptBefore(e,"onClassMixedIn",function(t){var e=this.prototype;n&&Ext.Object.each(n,function(i,n){t.override(n,function(){return e[i].apply(this,arguments)!==!1?this.callOverridden(arguments):void 0})}),r&&Ext.Object.each(r,function(i,n){t.override(n,function(){var t=this.callOverridden(arguments);return e[i].apply(this,arguments),t})})}))}}),Ext.define("Ext.mixin.Observable",{extend:Ext.mixin.Mixin,mixins:[Ext.mixin.Identifiable],mixinConfig:{id:"observable",hooks:{destroy:"destroy"}},alternateClassName:"Ext.util.Observable",isObservable:!0,observableType:"observable",validIdRegex:/^([\w\-]+)$/,observableIdPrefix:"#",listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend)$/,eventFiringSuspended:!1,config:{listeners:null,bubbleEvents:null},constructor:function(t){this.initConfig(t)},applyListeners:function(t){t&&this.addListener(t)},applyBubbleEvents:function(t){t&&this.enableBubble(t)},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){if(!this.observableId){var t=this.getUniqueId();t.match(this.validIdRegex)||Ext.Logger.error("Invalid unique id of '"+t+"' for this object",this),this.observableId=this.observableIdPrefix+t,this.getObservableId=this.getOptimizedObservableId}return this.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},getEventDispatcher:function(){return this.eventDispatcher||(this.eventDispatcher=Ext.event.Dispatcher.getInstance(),this.getEventDispatcher=this.getOptimizedEventDispatcher,this.getListeners(),this.getBubbleEvents()),this.eventDispatcher},getManagedListeners:function(t,e){var i=t.getUniqueId(),n=this.managedListeners;return n||(this.managedListeners=n={}),n[i]||(n[i]={},t.doAddListener("destroy","clearManagedListeners",this,{single:!0,args:[t]})),n[i][e]||(n[i][e]=[]),n[i][e]},getUsedSelectors:function(){var t=this.usedSelectors;return t||(t=this.usedSelectors=[],t.$map={}),t},fireEvent:function(t){var e=Array.prototype.slice.call(arguments,1);return this.doFireEvent(t,e)},fireAction:function(t,e,i,n,r,s){var a,o=typeof i;return void 0===e&&(e=[]),"undefined"!=o&&(a={fn:i,isLateBinding:"string"==o,scope:n||this,options:r||{},order:s}),this.doFireEvent(t,e,a)},doFireEvent:function(t,e,i,n){var r,s=this,a=!0;return s.eventFiringSuspended?(r=s.eventQueue,r||(s.eventQueue=r=[]),r.push([t,e,i,n])):a=s.getEventDispatcher().dispatchEvent(s.observableType,s.getObservableId(),t,e,i,n),a},doAddListener:function(t,e,i,n,r){var s,a,o,l=i&&i!==this&&i.isIdentifiable,u=this.getUsedSelectors(),h=u.$map,c=this.getObservableId();return n||(n={}),i||(i=this),n.delegate&&(o=n.delegate,c+=" "+o),c in h||(h[c]=!0,u.push(c)),s=this.addDispatcherListener(c,t,e,i,n,r),s&&l&&(a=this.getManagedListeners(i,t),a.push({delegate:o,scope:i,fn:e,order:r})),s},addDispatcherListener:function(t,e,i,n,r,s){return this.getEventDispatcher().addListener(this.observableType,t,e,i,n,r,s)},doRemoveListener:function(t,e,i,n,r){var s,a,o,l,u,h,c=i&&i!==this&&i.isIdentifiable,d=this.getObservableId();if(n&&n.delegate&&(h=n.delegate,d+=" "+h),i||(i=this),s=this.removeDispatcherListener(d,t,e,i,r),s&&c)for(a=this.getManagedListeners(i,t),o=0,l=a.length;l>o;o++)if(u=a[o],u.fn===e&&u.scope===i&&u.delegate===h&&u.order===r){a.splice(o,1);break}return s},removeDispatcherListener:function(t,e,i,n,r){return this.getEventDispatcher().removeListener(this.observableType,t,e,i,n,r)},clearManagedListeners:function(t){var e,i,n,r,s,a,o,l,u=this.managedListeners;if(!u)return this;if(t){e="string"!=typeof t?t.getUniqueId():t,i=u[e];for(r in i)if(i.hasOwnProperty(r))for(n=i[r],s=0,a=n.length;a>s;s++)o=n[s],l={},o.delegate&&(l.delegate=o.delegate),this.doRemoveListener(r,o.fn,o.scope,l,o.order)&&(s--,a--);return delete u[e],this}for(e in u)u.hasOwnProperty(e)&&this.clearManagedListeners(e)},changeListener:function(t,e,i,n,r,s){var a,o,l,u,h,c,d,f,g,p;if("undefined"!=typeof i){if("string"!=typeof e){for(d=0,f=e.length;f>d;d++)h=e[d],t.call(this,h,i,n,r,s);return this}t.call(this,e,i,n,r,s)}else if(Ext.isArray(e))for(o=e,d=0,f=o.length;f>d;d++)g=o[d],t.call(this,g.event,g.fn,g.scope,g,g.order);else{l=this.listenerOptionsRegex,r=e,a=[],o=[],u={};for(h in r)if(c=r[h],"scope"!==h)if("order"!==h)if(l.test(h))u[h]=c;else{if(p=typeof c,"string"!=p&&"function"!=p){t.call(this,h,c.fn,c.scope||n,c,c.order||s);continue}a.push(h),o.push(c)}else s=c;else n=c;for(d=0,f=a.length;f>d;d++)t.call(this,a[d],o[d],n,u,s)}return this},addListener:function(t,e,i,n,r){return this.changeListener(this.doAddListener,t,e,i,n,r)},toggleListener:function(t,e,i,n,r,s){return this.changeListener(t?this.doAddListener:this.doRemoveListener,e,i,n,r,s)},addBeforeListener:function(t,e,i,n){return this.addListener(t,e,i,n,"before")},addAfterListener:function(t,e,i,n){return this.addListener(t,e,i,n,"after")},removeListener:function(t,e,i,n,r){return this.changeListener(this.doRemoveListener,t,e,i,n,r)},removeBeforeListener:function(t,e,i,n){return this.removeListener(t,e,i,n,"before")},removeAfterListener:function(t,e,i,n){return this.removeListener(t,e,i,n,"after")},clearListeners:function(){var t,e,i,n=this.getUsedSelectors(),r=this.getEventDispatcher();for(t=0,e=n.length;e>t;t++)i=n[t],r.clearListeners(this.observableType,i)},hasListener:function(t){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),t)},suspendEvents:function(){this.eventFiringSuspended=!0},resumeEvents:function(t){var e,i,n=this,r=n.eventQueue||[];if(n.eventFiringSuspended=!1,!t)for(e=0,i=r.length;i>e;e++)n.doFireEvent.apply(n,r[e]);n.eventQueue=[]},relayEvents:function(t,e,i){var n,r,s,a;if("undefined"==typeof i&&(i=""),"string"==typeof e&&(e=[e]),Ext.isArray(e))for(n=0,r=e.length;r>n;n++)s=e[n],a=i+s,t.addListener(s,this.createEventRelayer(a),this);else for(s in e)e.hasOwnProperty(s)&&(a=i+e[s],t.addListener(s,this.createEventRelayer(a),this));return this},relayEvent:function(t,e,i,n,r){var s,a=typeof e,o=t[t.length-1],l=o.getInfo().eventName;return t=Array.prototype.slice.call(t,0,-2),t[0]=this,"undefined"!=a&&(s={fn:e,scope:i||this,options:n||{},order:r,isLateBinding:"string"==a}),this.doFireEvent(l,t,s,o)},createEventRelayer:function(t){return function(){return this.doFireEvent(t,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(t){var e,i,n,r=this.isBubblingEnabled;for(r||(r=this.isBubblingEnabled={}),"string"==typeof t&&(t=Ext.Array.clone(arguments)),e=0,i=t.length;i>e;e++)n=t[e],r[n]||(r[n]=!0,this.addListener(n,this.createEventBubbler(n),this))},createEventBubbler:function(t){return function e(){var i="getBubbleTarget"in this?this.getBubbleTarget():null;i&&i!==this&&i.isObservable&&i.fireAction(t,Array.prototype.slice.call(arguments,0,-2),e,i,null,"after")}},getBubbleTarget:function(){return!1},destroy:function(){this.observableId&&(this.fireEvent("destroy",this),this.clearListeners(),this.clearManagedListeners())},addEvents:Ext.emptyFn},function(){this.createAlias({on:"addListener",un:"removeListener",onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"})}),Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:[Ext.mixin.Observable],statics:{generateSetter:function(t){var e=t.internal,i=t.apply,n=t.changeEvent,r=t.doSet;return function(s){var a=this.initialized,o=this[e],l=this[i];return l&&(s=l.call(this,s,o),"undefined"==typeof s)?this:(o=this[e],s!==o&&(a?this.fireAction(n,[this,s,o],this.doSet,this,{nameMap:t}):(this[e]=s,this[r]&&this[r].call(this,s,o))),this)}}},initialized:!1,constructor:function(t){this.initialConfig=t,this.initialize()},initialize:function(){this.initConfig(this.initialConfig),this.initialized=!0},doSet:function(t,e,i,n){var r=n.nameMap;t[r.internal]=e,t[r.doSet]&&t[r.doSet].call(this,e,i)},onClassExtended:function(t,e){if(e.hasOwnProperty("eventedConfig")){var i,n,r=Ext.Class,s=e.config,a=e.eventedConfig;e.config=s?Ext.applyIf(s,a):a;for(i in a)a.hasOwnProperty(i)&&(n=r.getConfigNameMap(i),e[n.set]=this.generateSetter(n))}}}),Ext.define("Ext.AbstractComponent",{extend:Ext.Evented,onClassExtended:function(t,e){if(e.hasOwnProperty("cachedConfig")){var i,n,r=t.prototype,s=e.config,a=e.cachedConfig,o=r.cachedConfigList,l=r.hasCachedConfig;delete e.cachedConfig,r.cachedConfigList=o=o?o.slice():[],r.hasCachedConfig=l=l?Ext.Object.chain(l):{},s||(e.config=s={});for(i in a)a.hasOwnProperty(i)&&(n=a[i],l[i]||(l[i]=!0,o.push(i)),s[i]=n)}},getElementConfig:Ext.emptyFn,referenceAttributeName:"reference",referenceSelector:"[reference]",addReferenceNode:function(t,e){Ext.Object.defineProperty(this,t,{get:function(){var i;return delete this[t],this[t]=i=new Ext.Element(e),i},configurable:!0})},initElement:function(){var t,e,i,n,r,s,a,o,l,u,h,c,d,f,g,p,m,x,E=this.self.prototype,y=this.getId(),v=[],b=!0,S=this.referenceAttributeName,C=!1;for(E.hasOwnProperty("renderTemplate")?(t=this.renderTemplate.cloneNode(!0),e=t.firstChild):(b=!1,C=!0,t=document.createDocumentFragment(),e=Ext.Element.create(this.getElementConfig(),!0),t.appendChild(e)),n=t.querySelectorAll(this.referenceSelector),r=0,s=n.length;s>r;r++)a=n[r],o=a.getAttribute(S),b&&a.removeAttribute(S),"element"==o?(a.id=y,this.element=i=new Ext.Element(a)):this.addReferenceNode(o,a),v.push(o);if(this.referenceList=v,this.innerElement||(this.innerElement=i),this.bodyElement||(this.bodyElement=this.innerElement),e===i.dom?this.renderElement=i:this.addReferenceNode("renderElement",e),C){for(l=Ext.Class.configNameCache,u=this.config,h=this.cachedConfigList,c=this.initConfigList,d=this.initConfigMap,f=[],r=0,s=h.length;s>r;r++)p=h[r],m=l[p],d[p]&&(d[p]=!1,Ext.Array.remove(c,p)),null!==u[p]&&(f.push(p),this[m.get]=this[m.initGet]);for(r=0,s=f.length;s>r;r++)p=f[r],m=l[p],x=m.internal,this[x]=null,this[m.set].call(this,u[p]),delete this[m.get],E[x]=this[x];for(e=this.renderElement.dom,E.renderTemplate=t=document.createDocumentFragment(),t.appendChild(e.cloneNode(!0)),g=t.querySelectorAll("[id]"),r=0,s=g.length;s>r;r++)i=g[r],i.removeAttribute("id");for(r=0,s=v.length;s>r;r++)o=v[r],this[o].dom.removeAttribute("reference")}return this}}),Ext.define("Ext.util.HashMap",{mixins:{observable:Ext.mixin.Observable},constructor:function(){this.callParent(),this.mixins.observable.constructor.call(this),this.clear(!0)},getCount:function(){return this.length},getData:function(t,e){return void 0===e&&(e=t,t=this.getKey(e)),[t,e]},getKey:function(t){return t.id},add:function(t,e){var i,n=this;if(n.containsKey(t))throw new Error("This key already exists in the HashMap");return i=this.getData(t,e),t=i[0],e=i[1],n.map[t]=e,++n.length,n.fireEvent("add",n,t,e),e},replace:function(t,e){var i,n=this,r=n.map;return n.containsKey(t)||n.add(t,e),i=r[t],r[t]=e,n.fireEvent("replace",n,t,e,i),e},remove:function(t){var e=this.findKey(t);return void 0!==e?this.removeByKey(e):!1},removeByKey:function(t){var e,i=this;return i.containsKey(t)?(e=i.map[t],delete i.map[t],--i.length,i.fireEvent("remove",i,t,e),!0):!1},get:function(t){return this.map[t]},clear:function(t){var e=this;return e.map={},e.length=0,t!==!0&&e.fireEvent("clear",e),e},containsKey:function(t){return void 0!==this.map[t]},contains:function(t){return this.containsKey(this.findKey(t))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(t){var e,i=[],n=this.map;for(e in n)n.hasOwnProperty(e)&&i.push(t?e:n[e]);return i},each:function(t,e){var i,n=Ext.apply({},this.map),r=this.length;e=e||this;for(i in n)if(n.hasOwnProperty(i)&&t.call(e,i,n[i],r)===!1)break;return this},clone:function(){var t,e=new Ext.util.HashMap,i=this.map;e.suspendEvents();for(t in i)i.hasOwnProperty(t)&&e.add(t,i[t]);return e.resumeEvents(),e},findKey:function(t){var e,i=this.map;for(e in i)if(i.hasOwnProperty(e)&&i[e]===t)return e;return void 0}}),Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(t){Ext.apply(this,t||{}),this.all=Ext.create("Ext.util.HashMap"),this.types={}},get:function(t){return this.all.get(t)},register:function(t){this.all.add(t)},unregister:function(t){this.all.remove(t)},registerType:function(t,e){this.types[t]=e,e[this.typeName]=t},isRegistered:function(t){return void 0!==this.types[t]},create:function(t,e){var i=t[this.typeName]||t.type||e,n=this.types[i];return void 0==n&&Ext.Error.raise("The '"+i+"' type has not been registered with this manager"),new n(t)},onAvailable:function(t,e,i){var n,r=this.all;r.containsKey(t)?(n=r.get(t),e.call(i||n,n)):r.on("add",function(n,s,a){s==t&&(e.call(i||a,a),r.un("add",e,i))})},each:function(t,e){this.all.each(t,e||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.AbstractPlugin",{}),Ext.define("Ext.mixin.Traversable",{extend:Ext.mixin.Mixin,mixinConfig:{id:"traversable"},setParent:function(t){return this.parent=t,this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){for(var t=[],e=this.getParent();e;)t.push(e),e=e.getParent();return t},getAncestorIds:function(){for(var t=[],e=this.getParent();e;)t.push(e.getId()),e=e.getParent();return t}}),Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:!0,constructor:function(){var t={};this.all={map:t,getArray:function(){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i}},this.map=t},register:function(t){var e=t.getId();this.map[e]&&Ext.Logger.warn("Registering a component with a id (`"+e+"`) which has already been used. Please ensure the existing component has been destroyed (`Ext.Component#destroy()`."),this.map[t.getId()]=t},unregister:function(t){delete this.map[t.getId()]},isRegistered:function(t){return void 0!==this.map[t]},get:function(t){return this.map[t]},create:function(t,e){if(t.isComponent)return t;if(Ext.isString(t))return Ext.createByAlias("widget."+t);var i=t.xtype||e;return Ext.createByAlias("widget."+i,t)},registerType:Ext.emptyFn}),function(){function t(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/\{(\d+)\}/g,function(t,i){return e[i]})}Ext.DateExtras={now:Date.now||function(){return+new Date},getElapsed:function(t,e){return Math.abs(t-(e||new Date))},useStrict:!1,formatCodeToRegex:function(i,n){var r=e.parseCodes[i];return r&&(r="function"==typeof r?r():r,e.parseCodes[i]=r),r?Ext.applyIf({c:r.c?t(r.c,n||"{0}"):r.c},r):{g:0,c:null,s:Ext.String.escapeRegex(i)}},parseFunctions:{MS:function(t){var e=new RegExp("\\\\?/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\\\?/"),i=(t||"").match(e);return i?new Date(1*((i[1]||"")+i[2])):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(t){return e.monthNames[t].substring(0,3)},getShortDayName:function(t){return e.dayNames[t].substring(0,3)},getMonthNumber:function(t){return e.monthNumbers[t.substring(0,1).toUpperCase()+t.substring(1,3).toLowerCase()]},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var t="Y-m-dTH:i:sP",i=[],n=0,r=t.length;r>n;++n){var s=t.charAt(n);i.push("T"==s?"'T'":e.getFormatCode(s))
}return i.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(t,i,n,r,s,a,o){r=r||0,s=s||0,a=a||0,o=o||0;var l=e.add(new Date(100>t?100:t,i-1,n,r,s,a,o),e.YEAR,100>t?t-100:0);return t==l.getFullYear()&&i==l.getMonth()+1&&n==l.getDate()&&r==l.getHours()&&s==l.getMinutes()&&a==l.getSeconds()&&o==l.getMilliseconds()},parse:function(t,i,n){var r=e.parseFunctions;return null==r[i]&&e.createParser(i),r[i](t,Ext.isDefined(n)?n:e.useStrict)},parseDate:function(t,i,n){return e.parse(t,i,n)},getFormatCode:function(t){var i=e.formatCodes[t];return i&&(i="function"==typeof i?i():i,e.formatCodes[t]=i),i||"'"+Ext.String.escape(t)+"'"},createFormat:function(t){for(var i=[],n=!1,r="",s=0;s<t.length;++s)r=t.charAt(s),n||"\\"!=r?n?(n=!1,i.push("'"+Ext.String.escape(r)+"'")):i.push("\n"==r?Ext.JSON.encode(r):e.getFormatCode(r)):n=!0;e.formatFunctions[t]=Ext.functionFactory("return "+i.join("+"))},createParser:function(){var i=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Ext.Date.defaults,","results = String(input).match(Ext.Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = Ext.Date.clearTime(new Date);","y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));","m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));","d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));","h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));","i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));","s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));","ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);","}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(n){for(var r=e.parseRegexes.length,s=1,a=[],o=[],l=!1,u="",h=0;h<n.length;++h)if(u=n.charAt(h),l||"\\"!=u)if(l)l=!1,o.push(Ext.String.escape(u));else{var c=e.formatCodeToRegex(u,s);s+=c.g,o.push(c.s),c.g&&c.c&&a.push(c.c)}else l=!0;e.parseRegexes[r]=new RegExp("^"+o.join("")+"$","i"),e.parseFunctions[n]=Ext.functionFactory("input","strict",t(i,r,a.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var t=[],i=0;7>i;t.push(e.getShortDayName(i)),++i);return{g:0,c:null,s:"(?:"+t.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+e.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+e.monthNames.join("|")+")"}},M:function(){for(var t=[],i=0;12>i;t.push(e.getShortMonthName(i)),++i);return Ext.applyIf({s:"("+t.join("|")+")"},e.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return e.formatCodeToRegex("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)"},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return e.formatCodeToRegex("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return e.formatCodeToRegex("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){for(var t=[],i=[e.formatCodeToRegex("Y",1),e.formatCodeToRegex("m",2),e.formatCodeToRegex("d",3),e.formatCodeToRegex("h",4),e.formatCodeToRegex("i",5),e.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",e.formatCodeToRegex("P",8).c,"}else{",e.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],n=0,r=i.length;r>n;++n)t.push(i[n].c);return{g:1,c:t.join(""),s:[i[0].s,"(?:","-",i[1].s,"(?:","-",i[2].s,"(?:","(?:T| )?",i[3].s,":",i[4].s,"(?::",i[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(t,i){return e.format(t,i)},format:function(t,i){null==e.formatFunctions[i]&&e.createFormat(i);var n=e.formatFunctions[i].call(t);return n+""},getTimezone:function(t){return t.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(t,e){var i=t.getTimezoneOffset();return(i>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(i)/60),2,"0")+(e?":":"")+Ext.String.leftPad(Math.abs(i%60),2,"0")},getDayOfYear:function(t){var i,n=0,r=Ext.Date.clone(t),s=t.getMonth();for(i=0,r.setDate(1),r.setMonth(0);s>i;r.setMonth(++i))n+=e.getDaysInMonth(r);return n+t.getDate()-1},getWeekOfYear:function(){var t=864e5,e=7*t;return function(i){var n=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()+3)/t,r=Math.floor(n/7),s=new Date(r*e).getUTCFullYear();return r-Math.floor(Date.UTC(s,0,7)/e)+1}}(),isLeapYear:function(t){var e=t.getFullYear();return!(0!=(3&e)||!(e%100||e%400==0&&e))},getFirstDayOfMonth:function(t){var e=(t.getDay()-(t.getDate()-1))%7;return 0>e?e+7:e},getLastDayOfMonth:function(t){return e.getLastDateOfMonth(t).getDay()},getFirstDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},getLastDateOfMonth:function(t){return new Date(t.getFullYear(),t.getMonth(),e.getDaysInMonth(t))},getDaysInMonth:function(){var t=[31,28,31,30,31,30,31,31,30,31,30,31];return function(i){var n=i.getMonth();return 1==n&&e.isLeapYear(i)?29:t[n]}}(),getSuffix:function(t){switch(t.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(t){return new Date(t.getTime())},isDST:function(t){return new Date(t.getFullYear(),0,1).getTimezoneOffset()!=t.getTimezoneOffset()},clearTime:function(t,i){if(i)return Ext.Date.clearTime(Ext.Date.clone(t));var n=t.getDate();if(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.getDate()!=n){for(var r=1,s=e.add(t,Ext.Date.HOUR,r);s.getDate()!=n;r++,s=e.add(t,Ext.Date.HOUR,r));t.setDate(n),t.setHours(s.getHours())}return t},add:function(t,e,i){var n=Ext.Date.clone(t);if(!e||0===i)return n;switch(e.toLowerCase()){case Ext.Date.MILLI:n=new Date(n.valueOf()+i);break;case Ext.Date.SECOND:n=new Date(n.valueOf()+1e3*i);break;case Ext.Date.MINUTE:n=new Date(n.valueOf()+6e4*i);break;case Ext.Date.HOUR:n=new Date(n.valueOf()+36e5*i);break;case Ext.Date.DAY:n=new Date(n.valueOf()+864e5*i);break;case Ext.Date.MONTH:var r=t.getDate();r>28&&(r=Math.min(r,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(t),"mo",i)).getDate())),n.setDate(r),n.setMonth(t.getMonth()+i);break;case Ext.Date.YEAR:n.setFullYear(t.getFullYear()+i)}return n},between:function(t,e,i){var n=t.getTime();return e.getTime()<=n&&n<=i.getTime()},diff:function(t,e,i){var n,r=Ext.Date,s=+e-t;switch(i){case r.MILLI:return s;case r.SECOND:return Math.floor(s/1e3);case r.MINUTE:return Math.floor(s/6e4);case r.HOUR:return Math.floor(s/36e5);case r.DAY:return Math.floor(s/864e5);case"w":return Math.floor(s/6048e5);case r.MONTH:return n=12*e.getFullYear()+e.getMonth()-(12*t.getFullYear()+t.getMonth()),Ext.Date.add(t,i,n)>e?n-1:n;case r.YEAR:return n=e.getFullYear()-t.getFullYear(),Ext.Date.add(t,i,n)>e?n-1:n}},align:function(t,e,i){var n=new Date(+t);switch(e.toLowerCase()){case Ext.Date.MILLI:return n;case Ext.Date.SECOND:return n.setUTCSeconds(n.getUTCSeconds()-n.getUTCSeconds()%i),n.setUTCMilliseconds(0),n;case Ext.Date.MINUTE:return n.setUTCMinutes(n.getUTCMinutes()-n.getUTCMinutes()%i),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n;case Ext.Date.HOUR:return n.setUTCHours(n.getUTCHours()-n.getUTCHours()%i),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n;case Ext.Date.DAY:return(7==i||14==i)&&n.setUTCDate(n.getUTCDate()-n.getUTCDay()+1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n;case Ext.Date.MONTH:return n.setUTCMonth(n.getUTCMonth()-(n.getUTCMonth()-1)%i,1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n;case Ext.Date.YEAR:return n.setUTCFullYear(n.getUTCFullYear()-n.getUTCFullYear()%i,1,1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),t}}};var e=Ext.DateExtras;Ext.apply(Ext.Date,e)}(),Ext.define("Ext.util.Format",{singleton:!0,defaultDateFormat:"m/d/Y",escapeRe:/('|\\)/g,trimRe:/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,formatRe:/\{(\d+)\}/g,escapeRegexRe:/([-.*+?^${}()|[\]\/\\])/g,dashesRe:/-/g,iso8601TestRe:/\d\dT\d\d/,iso8601SplitRe:/[- :T\.Z\+]/,ellipsis:function(t,e,i){if(t&&t.length>e){if(i){var n=t.substr(0,e-2),r=Math.max(n.lastIndexOf(" "),n.lastIndexOf("."),n.lastIndexOf("!"),n.lastIndexOf("?"));if(-1!=r&&r>=e-15)return n.substr(0,r)+"..."}return t.substr(0,e-3)+"..."}return t},escapeRegex:function(t){return t.replace(Ext.util.Format.escapeRegexRe,"\\$1")},escape:function(t){return t.replace(Ext.util.Format.escapeRe,"\\$1")},toggle:function(t,e,i){return t==e?i:e},trim:function(t){return t.replace(Ext.util.Format.trimRe,"")},leftPad:function(t,e,i){var n=String(t);for(i=i||" ";n.length<e;)n=i+n;return n},format:function(t){var e=Ext.toArray(arguments,1);return t.replace(Ext.util.Format.formatRe,function(t,i){return e[i]})},htmlEncode:function(t){return t?String(t).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"):t},htmlDecode:function(t){return t?String(t).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):t},date:function(t,e){var i=t;if(!t)return"";if(!Ext.isDate(t)){if(i=new Date(Date.parse(t)),isNaN(i)&&this.iso8601TestRe.test(t))if(Ext.os.is.Android&&Ext.os.version.isLessThan("3.0")){var n,r=[1,4,5,6,7,10,11],s=0;if(n=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(t)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(s=60*n[10]+n[11],"+"===n[9]&&(s=0-s)),i=new Date(Date.UTC(n[1],n[2],n[3],n[4],n[5]+s,n[6],n[7]))}}else i=t.split(this.iso8601SplitRe),i=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5]);isNaN(i)&&(i=new Date(Date.parse(t.replace(this.dashesRe,"/"))),isNaN(i)&&Ext.Logger.error("Cannot parse the passed value "+t+" into a valid date")),t=i}return Ext.Date.format(t,e||Ext.util.Format.defaultDateFormat)}}),Ext.define("Ext.Template",{inheritableStatics:{from:function(t,e){return t=Ext.getDom(t),new this(t.value||t.innerHTML,e||"")}},constructor:function(t){var e,i=this,n=arguments,r=[],s=0,a=n.length;if(i.initialConfig={},1===a&&Ext.isArray(t)&&(n=t,a=n.length),a>1)for(;a>s;s++)e=n[s],"object"==typeof e?(Ext.apply(i.initialConfig,e),Ext.apply(i,e)):r.push(e);else r.push(t);i.html=r.join(""),i.compiled&&i.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(t){function e(e,i,n,o){return n&&r?(o=o?[t[i]].concat(Ext.functionFactory("return ["+o+"];")()):[t[i]],"this."==n.substr(0,5)?a[n.substr(5)].apply(a,o):s[n].apply(s,o)):void 0!==t[i]?t[i]:""}var i,n=this,r=n.disableFormats!==!0,s=Ext.util.Format,a=n;return n.compiled?n.compiled(t).join(""):i=n.html.replace(n.re,e)},applyOut:function(t,e){var i=this;return i.compiled?e.push.apply(e,i.compiled(t)):e.push(i.apply(t)),e},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(t,e){var i=this;return i.html=t,i.compiled=null,e?i.compile():i},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(t,e,i,n){return i&&useFormat?(n=n?","+n:"",i="this."!=i.substr(0,5)?"fm."+i+"(":"this."+i.substr(5)+"("):(n="",i="(values['"+e+"'] == undefined ? '' : "),"',"+i+"values['"+e+"']"+n+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(t,e,i){return this.doInsert("afterBegin",t,e,i)},insertBefore:function(t,e,i){return this.doInsert("beforeBegin",t,e,i)},insertAfter:function(t,e,i){return this.doInsert("afterEnd",t,e,i)},append:function(t,e,i){return this.doInsert("beforeEnd",t,e,i)},doInsert:function(t,e,i,n){var r=Ext.DomHelper.insertHtml(t,Ext.getDom(e),this.apply(i));return n?Ext.get(r):r},overwrite:function(t,e,i){var n=Ext.DomHelper.overwrite(Ext.getDom(t),this.apply(e));return i?Ext.get(n):n}}),Ext.define("Ext.XTemplateParser",{constructor:function(t){Ext.apply(this,t)},doTpl:Ext.emptyFn,parse:function(t){var e,i,n,r,s,a,o,l,u,h,c,d,f=this,g=t.length,p={elseif:"elif"},m=f.topRe,x=f.actionsRe;for(f.level=0,f.stack=i=[],e=0;g>e;e=h){if(m.lastIndex=e,r=m.exec(t),!r){f.doText(t.substring(e,g));break}if(u=r.index,h=m.lastIndex,u>e&&f.doText(t.substring(e,u)),r[1])h=t.indexOf("%}",u+2),f.doEval(t.substring(u+2,h)),h+=2;else if(r[2])h=t.indexOf("]}",u+2),f.doExpr(t.substring(u+2,h)),h+=2;else if(r[3])f.doTag(r[3]);else if(r[4]){for(c=null;null!==(l=x.exec(r[4]));)n=l[2]||l[3],n&&(n=Ext.String.htmlDecode(n),s=l[1],s=p[s]||s,c=c||{},a=c[s],"string"==typeof a?c[s]=[a,n]:a?c[s].push(n):c[s]=n);c?c["if"]?(f.doIf(c["if"],c),i.push({type:"if"})):c["switch"]?(f.doSwitch(c["switch"],c),i.push({type:"switch"})):c["case"]?f.doCase(c["case"],c):c.elif?f.doElseIf(c.elif,c):c["for"]?(++f.level,(d=f.propRe.exec(r[4]))&&(c.propName=d[1]||d[2]),f.doFor(c["for"],c),i.push({type:"for",actions:c})):c.exec&&(f.doExec(c.exec,c),i.push({type:"exec",actions:c})):f.elseRe.test(r[4])?f.doElse():f.defaultRe.test(r[4])?f.doDefault():(f.doTpl(),i.push({type:"tpl"}))}else 5===r[0].length?i.push({type:"tpl"}):(o=i.pop(),f.doEnd(o.type,o.actions),"for"==o.type&&--f.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.XTemplateCompiler",{extend:Ext.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE6||Ext.isIE7,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(t){var e=this,i=e.generate(t);return e.useEval?e.evalTpl(i):new Function("Ext",i)(Ext)},generate:function(t){var e,i=this,n="var fm=Ext.util.Format,ts=Object.prototype.toString;";return i.maxLevel=0,i.body=["var c0=values, a0="+i.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, v;\n"],i.definitions?"string"==typeof i.definitions?i.definitions=[i.definitions,n]:i.definitions.push(n):i.definitions=[n],i.switches=[],i.parse(t),i.definitions.push((i.useEval?"$=":"return")+" function ("+i.fnArgs+") {",i.body.join(""),"}"),e=i.definitions.join("\n"),i.definitions.length=i.body.length=i.switches.length=0,delete i.definitions,delete i.body,delete i.switches,e},doText:function(t){var e=this,i=e.body;t=t.replace(e.aposRe,"\\'").replace(e.newLineRe,"\\n"),e.useIndex?i.push("out[out.length]='",t,"'\n"):i.push("out.push('",t,"')\n")},doExpr:function(t){var e=this.body;e.push("v="+t+"; if (v !== undefined && v !== null) out"),e.push(this.useIndex?"[out.length]=v+''\n":".push(v+'')\n")},doTag:function(t){this.doExpr(this.parseTag(t))},doElse:function(){this.body.push("} else {\n")},doEval:function(t){this.body.push(t,"\n")},doIf:function(t,e){var i=this;"."===t?i.body.push("if (values) {\n"):i.propNameRe.test(t)?i.body.push("if (",i.parseTag(t),") {\n"):i.body.push("if (",i.addFn(t),i.callFn,") {\n"),e.exec&&i.doExec(e.exec)},doElseIf:function(t,e){var i=this;"."===t?i.body.push("else if (values) {\n"):i.propNameRe.test(t)?i.body.push("} else if (",i.parseTag(t),") {\n"):i.body.push("} else if (",i.addFn(t),i.callFn,") {\n"),e.exec&&i.doExec(e.exec)},doSwitch:function(t){var e=this;"."===t?e.body.push("switch (values) {\n"):e.propNameRe.test(t)?e.body.push("switch (",e.parseTag(t),") {\n"):e.body.push("switch (",e.addFn(t),e.callFn,") {\n"),e.switches.push(0)},doCase:function(t){var e,i,n=this,r=Ext.isArray(t)?t:[t],s=n.switches.length-1;for(n.switches[s]?n.body.push("break;\n"):n.switches[s]++,i=0,s=r.length;s>i;++i)e=n.intRe.exec(r[i]),r[i]=e?e[1]:"'"+r[i].replace(n.aposRe,"\\'")+"'";n.body.push("case ",r.join(": case "),":\n")},doDefault:function(){var t=this,e=t.switches.length-1;t.switches[e]?t.body.push("break;\n"):t.switches[e]++,t.body.push("default:\n")},doEnd:function(t,e){var i=this,n=i.level-1;"for"==t?(e.exec&&i.doExec(e.exec),i.body.push("}\n"),i.body.push("parent=p",n,";values=r",n+1,";xcount=n",n,";xindex=i",n,"\n")):("if"==t||"switch"==t)&&i.body.push("}\n")},doFor:function(t,e){var i,n,r=this,s=r.level,a=s-1;i="."===t?"values":r.propNameRe.test(t)?r.parseTag(t):r.addFn(t)+r.callFn,r.maxLevel<s&&(r.maxLevel=s,r.body.push("var ")),n="."==t?"c"+s:"a"+a+"?c"+a+"[i"+a+"]:p"+s,r.body.push("i",s,"=0,n",s,"=0,c",s,"=",i,",a",s,"=",r.createArrayTest(s),",p",s,"=c",a,",r",s,"=values;\n","parent=",n,"\n","if (c",s,"){if(a",s,"){n",s,"=c",s,".length;}else if (c",s,".isMixedCollection){c",s,"=c",s,".items;n",s,"=c",s,".length;}else if(c",s,".isStore){c",s,"=c",s,".data.items;n",s,"=c",s,".length;}else{c",s,"=[c",s,"];n",s,"=1;}}\n","for (xcount=n",s,";i",s,"<n"+s+";++i",s,"){\n","values=c",s,"[i",s,"]"),e.propName&&r.body.push(".",e.propName),r.body.push("\n","xindex=i",s,"+1\n")},createArrayTest:"isArray"in Array?function(t){return"Array.isArray(c"+t+")"}:function(t){return"ts.call(c"+t+')==="[object Array]"'},doExec:function(t){var e=this,i="f"+e.definitions.length;e.definitions.push("function "+i+"("+e.fnArgs+") {"," try { with(values) {","  "+t," }} catch(e) {",'Ext.Logger.log("XTemplate Error: " + e.message);',"}","}"),e.body.push(i+e.callFn+"\n")},addFn:function(t){var e=this,i="f"+e.definitions.length;return"."===t?e.definitions.push("function "+i+"("+e.fnArgs+") {"," return values","}"):".."===t?e.definitions.push("function "+i+"("+e.fnArgs+") {"," return parent","}"):e.definitions.push("function "+i+"("+e.fnArgs+") {"," try { with(values) {","  return("+t+")"," }} catch(e) {",'Ext.Logger.log("XTemplate Error: " + e.message);',"}","}"),i},parseTag:function(t){var e,i=this,n=i.tagRe.exec(t),r=n[1],s=n[2],a=n[3],o=n[4];return"."==r?(i.validTypes||(i.definitions.push("var validTypes={string:1,number:1,boolean:1};"),i.validTypes=!0),e='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):e="#"==r?"xindex":"parent."==r.substr(0,7)?r:isNaN(r)&&-1==r.indexOf("-")&&-1!=r.indexOf(".")?"values."+r:"values['"+r+"']",o&&(e="("+e+o+")"),s&&i.useFormat?(a=a?","+a:"","this."!=s.substr(0,5)?s="fm."+s+"(":s+="(",s+e+a+")"):e},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var t=this.prototype;t.fnArgs="out,values,parent,xindex,xcount",t.callFn=".call(this,"+t.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},apply:function(t){return this.applyOut(t,[]).join("")},applyOut:function(t,e,i){var n,r=this,s=t.xindex,a=t.xcount;r.fn||(n=new Ext.XTemplateCompiler({useFormat:r.disableFormats!==!0,definitions:r.definitions}),r.fn=n.compile(r.html));try{s="number"==typeof s?s:1,a="number"==typeof a?a:1,r.fn.call(r,e,t,i||r.emptyObj,s,a)}catch(o){Ext.Logger.log("Error: "+o.message)}return e},compile:function(){return this},statics:{getTpl:function(t,e){var i,n=t[e];if(n&&!n.isTemplate)if(n=Ext.ClassManager.dynInstantiate("Ext.XTemplate",n),t.hasOwnProperty(e))t[e]=n;else for(i=t.self.prototype;i;i=i.superclass)if(i.hasOwnProperty(e)){i[e]=n;break}return n||null}}}),Ext.define("Ext.behavior.Behavior",{constructor:function(t){this.component=t,t.on("destroy","onComponentDestroy",this)},onComponentDestroy:Ext.emptyFn}),Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(t){return this.initConfig(t),this},applyStartTime:function(t){return t||(t=Ext.Date.now()),t},updateStartTime:function(){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn}),Ext.define("Ext.fx.easing.Linear",{extend:Ext.fx.easing.Abstract,alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(t){this.distance=this.getEndValue()-t},updateEndValue:function(t){this.distance=t-this.getStartValue()},getValue:function(){var t=Ext.Date.now()-this.getStartTime(),e=this.getDuration();return t>e?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+t/e*this.distance}}),Ext.define("Ext.util.translatable.Abstract",{extend:Ext.Evented,config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(t){this.initConfig(t)},factoryEasing:function(t){return Ext.factory(t,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(t){this.getEasingX()||this.setEasingX(this.factoryEasing(t)),this.getEasingY()||this.setEasingY(this.factoryEasing(t))},applyEasingX:function(t){return this.factoryEasing(t)},applyEasingY:function(t){return this.factoryEasing(t)},doTranslate:Ext.emptyFn,translate:function(t,e,i){return i?this.translateAnimated(t,e,i):(this.isAnimating&&this.stopAnimation(),isNaN(t)||"number"!=typeof t||(this.x=t),isNaN(e)||"number"!=typeof e||(this.y=e),void this.doTranslate(t,e))},translateAxis:function(t,e,i){var n,r;return"x"==t?n=e:r=e,this.translate(n,r,i)},animate:function(t,e){return this.activeEasingX=t,this.activeEasingY=e,this.isAnimating=!0,this.lastX=null,this.lastY=null,Ext.AnimationQueue.start(this.doAnimationFrame,this),this.fireEvent("animationstart",this,this.x,this.y),this},translateAnimated:function(t,e,i){Ext.isObject(i)||(i={}),this.isAnimating&&this.stopAnimation();var n=Ext.Date.now(),r=i.easing,s="number"==typeof t?i.easingX||r||this.getEasingX()||!0:null,a="number"==typeof e?i.easingY||r||this.getEasingY()||!0:null;return s&&(s=this.factoryEasing(s),s.setStartTime(n),s.setStartValue(this.x),s.setEndValue(t),"duration"in i&&s.setDuration(i.duration)),a&&(a=this.factoryEasing(a),a.setStartTime(n),a.setStartValue(this.y),a.setEndValue(e),"duration"in i&&a.setDuration(i.duration)),this.animate(s,a)},doAnimationFrame:function(){var t,e,i=this,n=i.activeEasingX,r=i.activeEasingY,s=Date.now();if(i.isAnimating){if(i.lastRun=s,null===n&&null===r)return void i.stopAnimation();null!==n?(i.x=t=Math.round(n.getValue()),n.isEnded&&(i.activeEasingX=null,i.fireEvent("axisanimationend",i,"x",t))):t=i.x,null!==r?(i.y=e=Math.round(r.getValue()),r.isEnded&&(i.activeEasingY=null,i.fireEvent("axisanimationend",i,"y",e))):e=i.y,(i.lastX!==t||i.lastY!==e)&&(i.doTranslate(t,e),i.lastX=t,i.lastY=e),i.fireEvent("animationframe",i,t,e)}},stopAnimation:function(){this.isAnimating&&(this.activeEasingX=null,this.activeEasingY=null,this.isAnimating=!1,Ext.AnimationQueue.stop(this.doAnimationFrame,this),this.fireEvent("animationend",this,this.x,this.y))},refresh:function(){this.translate(this.x,this.y)},destroy:function(){this.isAnimating&&this.stopAnimation(),this.callParent(arguments)}}),Ext.define("Ext.util.translatable.Dom",{extend:Ext.util.translatable.Abstract,config:{element:null},applyElement:function(t){return t?Ext.get(t):void 0},updateElement:function(){this.refresh()}}),Ext.define("Ext.util.translatable.CssTransform",{extend:Ext.util.translatable.Dom,doTranslate:function(t,e){var i=this.getElement();this.isDestroyed||i.isDestroyed||i.translate(t,e)},destroy:function(){var t=this.getElement();t&&!t.isDestroyed&&(t.dom.style.webkitTransform=null),this.callSuper()}}),Ext.define("Ext.util.translatable.ScrollPosition",{extend:Ext.util.translatable.Dom,type:"scrollposition",config:{useWrapper:!0},getWrapper:function(){var t,e=this.wrapper,i=this.getElement();if(!e){if(t=i.getParent(),!t)return null;t.hasCls(Ext.baseCSSPrefix+"translatable-hboxfix")&&(t=t.getParent()),e=this.getUseWrapper()?i.wrap():t,i.addCls("x-translatable"),e.addCls("x-translatable-container"),this.wrapper=e,e.on("painted",function(){this.isAnimating||this.refresh()},this),this.refresh()}return e},doTranslate:function(t,e){var i,n=this.getWrapper();n&&(i=n.dom,"number"==typeof t&&(i.scrollLeft=5e5-t),"number"==typeof e&&(i.scrollTop=5e5-e))},destroy:function(){var t=this.getElement(),e=this.wrapper;e&&(t.isDestroyed||(this.getUseWrapper()&&e.doReplaceWith(t),t.removeCls("x-translatable")),e.isDestroyed||(e.removeCls("x-translatable-container"),e.un("painted","refresh",this)),delete this.wrapper,delete this._element),this.callSuper()}}),Ext.define("Ext.util.translatable.CssPosition",{extend:Ext.util.translatable.Dom,doTranslate:function(t,e){var i=this.getElement().dom.style;"number"==typeof t&&(i.left=t+"px"),"number"==typeof e&&(i.top=e+"px")},destroy:function(){var t=this.getElement().dom.style;t.left=null,t.top=null,this.callParent(arguments)}}),Ext.define("Ext.util.Translatable",{constructor:function(t){var e=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(t)){case"scrollposition":return new e.ScrollPosition(t);case"csstransform":return new e.CssTransform(t);case"cssposition":return new e.CssPosition(t)}}}),Ext.define("Ext.behavior.Translatable",{extend:Ext.behavior.Behavior,setConfig:function(t){var e=this.translatable,i=this.component;return t?e?Ext.isObject(t)&&e.setConfig(t):(this.translatable=e=new Ext.util.Translatable(t),e.setElement(i.renderElement),e.on("destroy","onTranslatableDestroy",this)):e&&e.destroy(),this},getTranslatable:function(){return this.translatable},onTranslatableDestroy:function(){delete this.translatable},onComponentDestroy:function(){var t=this.translatable;t&&t.destroy()}}),Ext.define("Ext.util.Draggable",{isDraggable:!0,mixins:[Ext.mixin.Observable],config:{cls:Ext.baseCSSPrefix+"draggable",draggingCls:Ext.baseCSSPrefix+"dragging",element:null,constraint:"container",disabled:null,direction:"both",initialOffset:{x:0,y:0},translatable:{}},DIRECTION_BOTH:"both",DIRECTION_VERTICAL:"vertical",DIRECTION_HORIZONTAL:"horizontal",defaultConstraint:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}},containerWidth:0,containerHeight:0,width:0,height:0,constructor:function(t){var e;return this.extraConstraint={},this.initialConfig=t,this.offset={x:0,y:0},this.listeners={dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",resize:"onElementResize",touchstart:"onPress",touchend:"onRelease",scope:this},t&&t.element&&(e=t.element,delete t.element,this.setElement(e)),this},applyElement:function(t){return t?Ext.get(t):void 0},updateElement:function(t){t.on(this.listeners),this.initConfig(this.initialConfig)},updateInitialOffset:function(t){"number"==typeof t&&(t={x:t,y:t});var e,i,n=this.offset;n.x=e=t.x,n.y=i=t.y,this.getTranslatable().translate(e,i)},updateCls:function(t){this.getElement().addCls(t)},applyTranslatable:function(t,e){return t=Ext.factory(t,Ext.util.Translatable,e),t&&t.setElement(this.getElement()),t},setExtraConstraint:function(t){return this.extraConstraint=t||{},this.refreshConstraint(),this},addExtraConstraint:function(t){return Ext.merge(this.extraConstraint,t),this.refreshConstraint(),this},applyConstraint:function(t){return this.currentConstraint=t,t||(t=this.defaultConstraint),"container"===t?Ext.merge(this.getContainerConstraint(),this.extraConstraint):Ext.merge({},this.extraConstraint,t)},updateConstraint:function(){this.refreshOffset()},getContainerConstraint:function(){var t=this.getContainer(),e=this.getElement();return t&&e.dom?{min:{x:0,y:0},max:{x:this.containerWidth-this.width,y:this.containerHeight-this.height}}:this.defaultConstraint},getContainer:function(){var t=this.container;return t||(t=this.getElement().getParent(),t&&(this.container=t,t.on({resize:"onContainerResize",destroy:"onContainerDestroy",scope:this}))),t},onElementResize:function(t,e){this.width=e.width,this.height=e.height,this.refresh()},onContainerResize:function(t,e){this.containerWidth=e.width,this.containerHeight=e.height,this.refresh()},onContainerDestroy:function(){delete this.container,delete this.containerSizeMonitor},detachListeners:function(){this.getElement().un(this.listeners)},isAxisEnabled:function(t){var e=this.getDirection();return"x"===t?e===this.DIRECTION_BOTH||e===this.DIRECTION_HORIZONTAL:e===this.DIRECTION_BOTH||e===this.DIRECTION_VERTICAL},onPress:function(t){this.fireAction("touchstart",[this,t])},onRelease:function(t){this.fireAction("touchend",[this,t])},onDragStart:function(t){if(this.getDisabled())return!1;var e=this.offset;this.fireAction("dragstart",[this,t,e.x,e.y],this.initDragStart)},initDragStart:function(t,e,i,n){this.dragStartOffset={x:i,y:n},this.isDragging=!0,this.getElement().addCls(this.getDraggingCls())},onDrag:function(t){if(this.isDragging){var e=this.dragStartOffset;this.fireAction("drag",[this,t,e.x+t.deltaX,e.y+t.deltaY],this.doDrag)}},doDrag:function(t,e,i,n){t.setOffset(i,n)},onDragEnd:function(t){this.isDragging&&(this.onDrag(t),this.isDragging=!1,this.getElement().removeCls(this.getDraggingCls()),this.fireEvent("dragend",this,t,this.offset.x,this.offset.y))},setOffset:function(t,e,i){var n=this.offset,r=this.getConstraint(),s=r.min,a=r.max,o=Math.min,l=Math.max;t=this.isAxisEnabled("x")&&"number"==typeof t?o(l(t,s.x),a.x):n.x,e=this.isAxisEnabled("y")&&"number"==typeof e?o(l(e,s.y),a.y):n.y,n.x=t,n.y=e,this.getTranslatable().translate(t,e,i)},getOffset:function(){return this.offset},refreshConstraint:function(){this.setConstraint(this.currentConstraint)},refreshOffset:function(){var t=this.offset;this.setOffset(t.x,t.y)},refresh:function(){this.refreshConstraint(),this.getTranslatable().refresh(),this.refreshOffset()
},enable:function(){return this.setDisabled(!1)},disable:function(){return this.setDisabled(!0)},destroy:function(){var t=this.getTranslatable(),e=this.getElement();e&&!e.isDestroyed&&e.removeCls(this.getCls()),this.detachListeners(),t&&t.destroy()}},function(){}),Ext.define("Ext.behavior.Draggable",{extend:Ext.behavior.Behavior,setConfig:function(t){var e=this.draggable,i=this.component;return t?e?Ext.isObject(t)&&e.setConfig(t):(i.setTranslatable(t.translatable),this.draggable=e=new Ext.util.Draggable(t),e.setTranslatable(i.getTranslatable()),e.setElement(i.renderElement),e.on("destroy","onDraggableDestroy",this),i.on(this.listeners)):e&&e.destroy(),this},getDraggable:function(){return this.draggable},onDraggableDestroy:function(){delete this.draggable},onComponentDestroy:function(){var t=this.draggable;t&&t.destroy()}}),function(t){Ext.define("Ext.Component",{extend:Ext.AbstractComponent,alternateClassName:"Ext.lib.Component",mixins:[Ext.mixin.Traversable],xtype:"component",observableType:"component",cachedConfig:{baseCls:null,cls:null,floatingCls:t+"floating",hiddenCls:t+"item-hidden",ui:null,margin:null,padding:null,border:null,styleHtmlCls:t+"html",styleHtmlContent:null},eventedConfig:{flex:null,left:null,top:null,right:null,bottom:null,width:null,height:null,minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,docked:null,centered:null,hidden:null,disabled:null},config:{style:null,html:null,draggable:null,translatable:null,renderTo:null,zIndex:null,tpl:null,enterAnimation:null,exitAnimation:null,showAnimation:null,hideAnimation:null,tplWriteMode:"overwrite",data:null,disabledCls:t+"item-disabled",contentEl:null,itemId:void 0,record:null,plugins:null},listenerOptionsRegex:/^(?:delegate|single|delay|buffer|args|prepend|element)$/,alignmentRegex:/^([a-z]+)-([a-z]+)(\?)?$/,isComponent:!0,floating:!1,rendered:!1,isInner:!0,activeAnimation:null,dockPositions:{top:!0,right:!0,bottom:!0,left:!0},innerElement:null,element:null,template:[],widthLayoutSized:!1,heightLayoutSized:!1,layoutStretched:!1,sizeState:!1,sizeFlags:0,LAYOUT_WIDTH:1,LAYOUT_HEIGHT:2,LAYOUT_BOTH:3,LAYOUT_STRETCHED:4,constructor:function(t){var e,i=this,n=i.config;i.onInitializedListeners=[],i.initialConfig=t,e=void 0!==t&&"id"in t?t.id:"id"in n?n.id:i.getId(),i.id=e,i.setId(e),Ext.ComponentManager.register(i),i.initElement(),i.initConfig(i.initialConfig),i.refreshSizeState=i.doRefreshSizeState,i.refreshFloating=i.doRefreshFloating,i.refreshSizeStateOnInitialized&&i.refreshSizeState(),i.refreshFloatingOnInitialized&&i.refreshFloating(),i.initialize(),i.triggerInitialized(),i.config.fullscreen&&i.fireEvent("fullscreen",i),i.fireEvent("initialize",i)},beforeInitConfig:function(){this.beforeInitialize.apply(this,arguments)},beforeInitialize:Ext.emptyFn,initialize:Ext.emptyFn,getTemplate:function(){return this.template},getElementConfig:function(){return{reference:"element",classList:["x-unsized"],children:this.getTemplate()}},triggerInitialized:function(){var t,e,i,n,r,s=this.onInitializedListeners,a=s.length;if(!this.initialized&&(this.initialized=!0,a>0)){for(r=0;a>r;r++)t=s[r],e=t.fn,i=t.scope,n=t.args,"string"==typeof e?i[e].apply(i,n):e.apply(i,n);s.length=0}},onInitialized:function(t,e,i){var n=this.onInitializedListeners;e||(e=this),this.initialized?"string"==typeof t?e[t].apply(e,i):t.apply(e,i):n.push({fn:t,scope:e,args:i})},renderTo:function(t,e){var i=this.renderElement.dom,n=Ext.getDom(t),r=Ext.getDom(e);n&&(r?n.insertBefore(i,r):n.appendChild(i),this.setRendered(Boolean(i.offsetParent)))},setParent:function(t){var e=this.parent;return t&&e&&e!==t&&e.remove(this,!1),this.parent=t,this},applyPlugins:function(t){var e,i,n;if(!t)return t;for(t=[].concat(t),i=0,e=t.length;e>i;i++)n=t[i],t[i]=Ext.factory(n,"Ext.plugin.Plugin",null,"plugin");return t},updatePlugins:function(t,e){var i,n;if(t)for(n=0,i=t.length;i>n;n++)t[n].init(this);if(e)for(n=0,i=e.length;i>n;n++)Ext.destroy(e[n])},updateRenderTo:function(t){this.renderTo(t)},updateStyle:function(t){this.element.applyStyles(t)},updateBorder:function(t){this.element.setBorder(t)},updatePadding:function(t){this.innerElement.setPadding(t)},updateMargin:function(t){this.element.setMargin(t)},updateUi:function(t,e){var i=this.getBaseCls(),n=this.element,r=this.currentUi;i&&(e&&n.removeCls(r?r:i+"-"+e),t&&(n.addCls(t,i),this.currentUi=i+"-"+t,this.self.prototype.currentUi||(this.self.prototype.currentUi=this.currentUi)))},applyBaseCls:function(e){return e||t+this.xtype},updateBaseCls:function(t,e){var i=this,n=i.getUi();e&&(this.element.removeCls(e),n&&this.element.removeCls(this.currentUi)),t&&(this.element.addCls(t),n&&(this.element.addCls(t,null,n),this.currentUi=t+"-"+n))},addCls:function(t,e,i){var n,r,s,a=this.getCls(),o=a?a.slice():[];if(e=e||"",i=i||"","string"==typeof t&&(t=[t]),n=t.length,o.length||""!==e||""!==i)for(r=0;n>r;r++)s=e+t[r]+i,-1==o.indexOf(s)&&o.push(s);else o=t;this.setCls(o)},removeCls:function(t,e,i){var n,r,s=this.getCls(),a=s?s.slice():[];if(e=e||"",i=i||"","string"==typeof t)a=Ext.Array.remove(a,e+t+i);else for(n=t.length,r=0;n>r;r++)a=Ext.Array.remove(a,e+t[r]+i);this.setCls(a)},replaceCls:function(t,e,i,n){var r,s,a,o=this.getCls(),l=o?o.slice():[];if(i=i||"",n=n||"","string"==typeof t)l=Ext.Array.remove(l,i+t+n);else if(t)for(r=t.length,s=0;r>s;s++)l=Ext.Array.remove(l,i+t[s]+n);if("string"==typeof e)l.push(i+e+n);else if(e)if(r=e.length,l.length||""!==i||""!==n)for(s=0;r>s;s++)a=i+e[s]+n,-1==l.indexOf(a)&&l.push(a);else l=e;this.setCls(l)},toggleCls:function(t,e){var i=this.getCls(),n=i?i.slice():[];return e||-1==n.indexOf(t)?n.push(t):Ext.Array.remove(n,t),this.setCls(n),this},applyCls:function(t){return"string"==typeof t&&(t=[t]),t&&t.length||(t=null),t},updateCls:function(t,e){this.element&&(t&&!e||!t&&e||t.length!=e.length||Ext.Array.difference(t,e).length>0)&&this.element.replaceCls(e,t)},updateStyleHtmlCls:function(t,e){var i=this.innerHtmlElement,n=this.innerElement;this.getStyleHtmlContent()&&e&&(i?i.replaceCls(e,t):n.replaceCls(e,t))},applyStyleHtmlContent:function(t){return Boolean(t)},updateStyleHtmlContent:function(t){var e=this.getStyleHtmlCls(),i=this.innerElement,n=this.innerHtmlElement;t?n?n.addCls(e):i.addCls(e):n?n.removeCls(e):i.addCls(e)},applyContentEl:function(t){return t?Ext.get(t):void 0},updateContentEl:function(t,e){e&&(e.hide(),Ext.getBody().append(e)),t&&(this.setHtml(t.dom),t.show())},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},isCentered:function(){return Boolean(this.getCentered())},isFloating:function(){return this.floating},isDocked:function(){return Boolean(this.getDocked())},isInnerItem:function(){return this.isInner},setIsInner:function(t){t!==this.isInner&&(this.isInner=t,this.initialized&&this.fireEvent("innerstatechange",this,t))},filterLengthValue:function(t){return"auto"===t||!t&&0!==t?null:t},applyTop:function(t){return this.filterLengthValue(t)},applyRight:function(t){return this.filterLengthValue(t)},applyBottom:function(t){return this.filterLengthValue(t)},applyLeft:function(t){return this.filterLengthValue(t)},applyWidth:function(t){return this.filterLengthValue(t)},applyHeight:function(t){return this.filterLengthValue(t)},applyMinWidth:function(t){return this.filterLengthValue(t)},applyMinHeight:function(t){return this.filterLengthValue(t)},applyMaxWidth:function(t){return this.filterLengthValue(t)},applyMaxHeight:function(t){return this.filterLengthValue(t)},doSetTop:function(t){this.element.setTop(t),this.refreshFloating()},doSetRight:function(t){this.element.setRight(t),this.refreshFloating()},doSetBottom:function(t){this.element.setBottom(t),this.refreshFloating()},doSetLeft:function(t){this.element.setLeft(t),this.refreshFloating()},doSetWidth:function(t){this.element.setWidth(t),this.refreshSizeState()},doSetHeight:function(t){this.element.setHeight(t),this.refreshSizeState()},applyFlex:function(t){return t?(t=Number(t),isNaN(t)&&(t=null)):t=null,t},doSetFlex:Ext.emptyFn,refreshSizeState:function(){this.refreshSizeStateOnInitialized=!0},doRefreshSizeState:function(){var t=null!==this.getWidth()||this.widthLayoutSized||null!==this.getLeft()&&null!==this.getRight(),e=null!==this.getHeight()||this.heightLayoutSized||null!==this.getTop()&&null!==this.getBottom(),i=this.layoutStretched||this.hasCSSMinHeight||!e&&null!==this.getMinHeight(),n=t&&e,r=(t&&this.LAYOUT_WIDTH)|(e&&this.LAYOUT_HEIGHT)|(i&&this.LAYOUT_STRETCHED);!n&&i&&(n=null),this.setSizeState(n),this.setSizeFlags(r)},setLayoutSizeFlags:function(t){this.layoutStretched=!!(t&this.LAYOUT_STRETCHED),this.widthLayoutSized=!!(t&this.LAYOUT_WIDTH),this.heightLayoutSized=!!(t&this.LAYOUT_HEIGHT),this.refreshSizeState()},setSizeFlags:function(t){if(t!==this.sizeFlags){this.sizeFlags=t;var e=!!(t&this.LAYOUT_WIDTH),i=!!(t&this.LAYOUT_HEIGHT),n=!!(t&this.LAYOUT_STRETCHED);!e||n||i?this.element.removeCls("x-has-width"):this.element.addCls("x-has-width"),!i||n||e?this.element.removeCls("x-has-height"):this.element.addCls("x-has-height"),this.initialized&&this.fireEvent("sizeflagschange",this,t)}},getSizeFlags:function(){return this.initialized||this.doRefreshSizeState(),this.sizeFlags},setSizeState:function(t){t!==this.sizeState&&(this.sizeState=t,this.element.setSizeState(t),this.initialized&&this.fireEvent("sizestatechange",this,t))},getSizeState:function(){return this.initialized||this.doRefreshSizeState(),this.sizeState},doSetMinWidth:function(t){this.element.setMinWidth(t)},doSetMinHeight:function(t){this.element.setMinHeight(t),this.refreshSizeState()},doSetMaxWidth:function(t){this.element.setMaxWidth(t)},doSetMaxHeight:function(t){this.element.setMaxHeight(t)},applyCentered:function(t){return t=Boolean(t),t&&(this.refreshInnerState=Ext.emptyFn,this.isFloating()&&this.resetFloating(),this.isDocked()&&this.setDocked(!1),this.setIsInner(!1),delete this.refreshInnerState),t},doSetCentered:function(t){this.toggleCls(this.getFloatingCls(),t),t||this.refreshInnerState()},applyDocked:function(t){return t?/^(top|right|bottom|left)$/.test(t)?(this.refreshInnerState=Ext.emptyFn,this.isFloating()&&this.resetFloating(),this.isCentered()&&this.setCentered(!1),this.setIsInner(!1),delete this.refreshInnerState,t):void Ext.Logger.error("Invalid docking position of '"+t.position+"', must be either 'top', 'right', 'bottom', 'left' or `null` (for no docking)",this):null},doSetDocked:function(t,e){this.fireEvent("afterdockedchange",this,t,e),t||this.refreshInnerState()},resetFloating:function(){this.setTop(null),this.setRight(null),this.setBottom(null),this.setLeft(null)},refreshInnerState:function(){this.setIsInner(!this.isCentered()&&!this.isFloating()&&!this.isDocked())},refreshFloating:function(){this.refreshFloatingOnInitialized=!0},doRefreshFloating:function(){var t=!0,e=this.getFloatingCls();null===this.getTop()&&null===this.getBottom()&&null===this.getRight()&&null===this.getLeft()?t=!1:this.refreshSizeState(),t!==this.floating&&(this.floating=t,t&&(this.refreshInnerState=Ext.emptyFn,this.isCentered()&&this.setCentered(!1),this.isDocked()&&this.setDocked(!1),this.setIsInner(!1),delete this.refreshInnerState),this.element.toggleCls(e,t),this.initialized&&this.fireEvent("floatingchange",this,t),t||this.refreshInnerState())},updateFloatingCls:function(t,e){this.isFloating()&&this.replaceCls(e,t)},applyDisabled:function(t){return Boolean(t)},doSetDisabled:function(t){this.element[t?"addCls":"removeCls"](this.getDisabledCls())},updateDisabledCls:function(t,e){this.isDisabled()&&this.element.replaceCls(e,t)},disable:function(){this.setDisabled(!0)},enable:function(){this.setDisabled(!1)},isDisabled:function(){return this.getDisabled()},applyZIndex:function(t){return t||0===t||(t=null),null!==t&&(t=Number(t),isNaN(t)&&(t=null)),t},updateZIndex:function(t){var e,i=this.element;i&&!i.isDestroyed&&(e=i.dom.style,null!==t?e.setProperty("z-index",t,"important"):e.removeProperty("z-index"))},getInnerHtmlElement:function(){var t,e=this.innerHtmlElement;return e&&e.dom&&e.dom.parentNode||(this.innerHtmlElement=e=Ext.Element.create({cls:"x-innerhtml"}),this.getStyleHtmlContent()&&(t=this.getStyleHtmlCls(),this.innerHtmlElement.addCls(t),this.innerElement.removeCls(t)),this.innerElement.appendChild(e)),e},updateHtml:function(t){if(!this.isDestroyed){var e=this.getInnerHtmlElement();Ext.isElement(t)?(e.setHtml(""),e.append(t)):e.setHtml(t)}},applyHidden:function(t){return Boolean(t)},doSetHidden:function(t){var e=this.renderElement;e.isDestroyed||(t?e.hide():e.show(),this.element&&this.element[t?"addCls":"removeCls"](this.getHiddenCls()),this.fireEvent(t?"hide":"show",this))},updateHiddenCls:function(t,e){this.isHidden()&&this.element.replaceCls(e,t)},isHidden:function(){return this.getHidden()},hide:function(t){return this.setCurrentAlignmentInfo(null),this.activeAnimation?(this.activeAnimation.on({animationend:function(){this.hide(t)},scope:this,single:!0}),this):(this.getHidden()||((void 0===t||t&&t.isComponent)&&(t=this.getHideAnimation()),t&&(t===!0&&(t="fadeOut"),this.onBefore({hiddenchange:"animateFn",scope:this,single:!0,args:[t]})),this.setHidden(!0)),this)},show:function(t){if(this.activeAnimation)return this.activeAnimation.on({animationend:function(){this.show(t)},scope:this,single:!0}),this;var e=this.getHidden();return(e||null===e)&&(t===!0?t="fadeIn":(void 0===t||t&&t.isComponent)&&(t=this.getShowAnimation()),t&&(this.beforeShowAnimation(),this.onBefore({hiddenchange:"animateFn",scope:this,single:!0,args:[t]})),this.setHidden(!1)),this},beforeShowAnimation:function(){this.element&&(this.renderElement.show(),this.element.removeCls(this.getHiddenCls()))},animateFn:function(t,e,i,n,r,s){var a=this;t&&(!i||i&&this.isPainted())&&(this.activeAnimation=new Ext.fx.Animation(t),this.activeAnimation.setElement(e.element),Ext.isEmpty(i)||(this.activeAnimation.setOnEnd(function(){a.activeAnimation=null,s.resume()}),s.pause()),Ext.Animator.run(a.activeAnimation))},setVisibility:function(t){this.renderElement.setVisibility(t)},isRendered:function(){return this.rendered},isPainted:function(){return this.renderElement.isPainted()},applyTpl:function(t){return Ext.isObject(t)&&t.isTemplate?t:new Ext.XTemplate(t)},applyData:function(t){return Ext.isObject(t)?Ext.apply({},t):(t||(t={}),t)},updateData:function(t){var e=this;if(t){var i=e.getTpl(),n=e.getTplWriteMode();i&&i[n](e.getInnerHtmlElement(),t),this.fireEvent("updatedata",e,t)}},applyRecord:function(t){return t&&Ext.isObject(t)&&t.isModel?t:null},updateRecord:function(t,e){var i=this;e&&e.unjoin(i),t?(t.join(i),i.updateData(t.getData(!0))):i.updateData("")},afterEdit:function(){this.updateRecord(this.getRecord())},afterErase:function(){this.setRecord(null)},applyItemId:function(t){return t||this.getId()},isXType:function(t,e){return e?-1!=this.xtypes.indexOf(t):Boolean(this.xtypesMap[t])},getXTypes:function(){return this.xtypesChain.join("/")},getDraggableBehavior:function(){var t=this.draggableBehavior;return t||(t=this.draggableBehavior=new Ext.behavior.Draggable(this)),t},applyDraggable:function(t){this.getDraggableBehavior().setConfig(t)},getDraggable:function(){return this.getDraggableBehavior().getDraggable()},getTranslatableBehavior:function(){var t=this.translatableBehavior;return t||(t=this.translatableBehavior=new Ext.behavior.Translatable(this)),t},applyTranslatable:function(t){this.getTranslatableBehavior().setConfig(t)},getTranslatable:function(){return this.getTranslatableBehavior().getTranslatable()},translateAxis:function(t,e,i){var n,r;return"x"===t?n=e:r=e,this.translate(n,r,i)},translate:function(){var t=this.getTranslatable();t||(this.setTranslatable(!0),t=this.getTranslatable()),t.translate.apply(t,arguments)},setRendered:function(t){var e=this.rendered;return t!==e?(this.rendered=t,!0):!1},setSize:function(t,e){void 0!=t&&this.setWidth(t),void 0!=e&&this.setHeight(e)},doAddListener:function(t,e,i,n,r){return n&&"element"in n?(-1===this.referenceList.indexOf(n.element)&&Ext.Logger.error("Adding event listener with an invalid element reference of '"+n.element+"' for this component. Available values are: '"+this.referenceList.join("', '")+"'",this),this[n.element].doAddListener(t,e,i||this,n,r)):"painted"==t||"resize"==t?this.element.doAddListener(t,e,i||this,n,r):this.callParent(arguments)},doRemoveListener:function(t,e,i,n,r){return n&&"element"in n&&(-1===this.referenceList.indexOf(n.element)&&Ext.Logger.error("Removing event listener with an invalid element reference of '"+n.element+"' for this component. Available values are: '"+this.referenceList.join('", "')+"'",this),this[n.element].doRemoveListener(t,e,i||this,n,r)),this.callParent(arguments)},showBy:function(t,e){var i=this,n=Ext.Viewport,r=i.getParent();i.setVisibility(!1),r!==n&&n.add(i),i.show(),i.on({hide:"onShowByErased",destroy:"onShowByErased",single:!0,scope:i}),n.on("resize","alignTo",i,{args:[t,e]}),i.alignTo(t,e),i.setVisibility(!0)},onShowByErased:function(){Ext.Viewport.un("resize","alignTo",this)},getAlignmentInfo:function(t,e){var i=t.isComponent?t.renderElement:t,n=i.getPageBox(),r=this.renderElement,s=r.getPageBox(),a={alignToBox:n,alignment:e,top:n.top,left:n.left,alignToWidth:n.width,alignToHeight:n.height,width:s.width,height:s.height},o=this.getCurrentAlignmentInfo(),l=!0;return Ext.isEmpty(o)?l=!1:Ext.Object.each(a,function(t,e){return Ext.isObject(e)||o[t]==e?!0:(l=!1,!1)}),{isAligned:l,stats:a}},getCurrentAlignmentInfo:function(){return this.$currentAlignmentInfo},setCurrentAlignmentInfo:function(t){this.$currentAlignmentInfo=Ext.isEmpty(t)?null:Ext.merge({},t.stats?t.stats:t)},alignTo:function(t,e){var i=this.getAlignmentInfo(t,e);if(!i.isAligned){var n=i.stats.alignToBox,r=this.getParent().element.getPageBox(),s=i.stats.alignToHeight,a=i.stats.alignToWidth,o=i.stats.height,l=i.stats.width;r.bottom-=5,r.height-=10,r.left+=5,r.right-=5,r.top+=5,r.width-=10,e&&"auto"!==e||(e=r.bottom-n.bottom<o?n.top-r.top<o?n.left-r.left<l?"cl-cr?":"cr-cl?":"bc-tc?":"tc-bc?");var u=e.match(this.alignmentRegex);u||Ext.Logger.error("Invalid alignment value of '"+e+"'");var h,c,d=u[1].split(""),f=u[2].split(""),g="?"===u[3],p=d[0],m=d[1]||p,x=f[0],E=f[1]||x,y=n.top,v=n.left,b=s/2,S=a/2,C=l/2,w=o/2;switch(p){case"t":switch(x){case"c":y+=b;break;case"b":y+=s}break;case"b":switch(x){case"c":y-=o-b;break;case"t":y-=o;break;case"b":y-=o-s}break;case"c":switch(x){case"t":y-=w;break;case"c":y-=w-b;break;case"b":y-=w-s}}switch(m){case"l":switch(E){case"c":v+=b;break;case"r":v+=a}break;case"r":switch(E){case"r":v-=l-a;break;case"c":v-=l-C;break;case"l":v-=l}break;case"c":switch(E){case"l":v-=C;break;case"c":v-=C-S;break;case"r":v-=C-a}}g&&(h=r.left+r.width-l,c=r.top+r.height-o,v=Math.max(r.left,Math.min(h,v)),y=Math.max(r.top,Math.min(c,y))),this.setLeft(v),this.setTop(y),this.setCurrentAlignmentInfo(i)}},up:function(t){var e=this.parent;if(t)for(;e;e=e.parent)if(Ext.ComponentQuery.is(e,t))return e;return e},getBubbleTarget:function(){return this.getParent()},destroy:function(){this.destroy=Ext.emptyFn;var t,e,i,n=this.getParent(),r=this.referenceList;for(this.isDestroying=!0,Ext.destroy(this.getTranslatable(),this.getPlugins()),n&&n.remove(this,!1),t=0,e=r.length;e>t;t++)i=r[t],this[i].destroy(),delete this[i];Ext.destroy(this.innerHtmlElement),this.setRecord(null),this.callSuper(),Ext.ComponentManager.unregister(this)}},function(){})}(Ext.baseCSSPrefix),Ext.define("Ext.layout.wrapper.Inner",{config:{sizeState:null,container:null},constructor:function(t){this.initConfig(t)},getElement:function(){return this.getContainer().bodyElement},setInnerWrapper:Ext.emptyFn,getInnerWrapper:Ext.emptyFn}),Ext.define("Ext.layout.Abstract",{mixins:[Ext.mixin.Observable],isLayout:!0,constructor:function(t){this.initialConfig=t},setContainer:function(t){return this.container=t,this.initConfig(this.initialConfig),this},onItemAdd:function(){},onItemRemove:function(){},onItemMove:function(){},onItemCenteredChange:function(){},onItemFloatingChange:function(){},onItemDockedChange:function(){},onItemInnerStateChange:function(){}}),Ext.define("Ext.mixin.Bindable",{extend:Ext.mixin.Mixin,mixinConfig:{id:"bindable"},bind:function(t,e,i,n,r){i||(i=e);var s,a,o=t[e];return o&&o.hasOwnProperty("$binding")&&(a=o.$binding,a.bindingMethod===i&&a.bindingScope===this)?this:(t[e]=s=function(){var t=s.$binding,e=t.bindingScope,i=Array.prototype.slice.call(arguments);return i.push(arguments),r&&i.push.apply(i,r),t.preventDefault||e[t.bindingMethod].apply(e,i)===!1?void 0:t.boundFn.apply(this,arguments)},s.$binding={preventDefault:!!n,boundFn:o,bindingMethod:i,bindingScope:this},this)},unbind:function(t,e,i){i||(i=e);for(var n,r,s=t[e],a=s.$binding;a;){if(n=a.boundFn,a.bindingMethod===i&&a.bindingScope===this)return r?r.boundFn=n:t[e]=n,this;r=a,a=n.$binding}return this}}),Ext.define("Ext.util.Wrapper",{mixins:[Ext.mixin.Bindable],constructor:function(t,e){var i=this.link("element",Ext.Element.create(t));e&&(i.insertBefore(e),this.wrap(e))},bindSize:function(t){var e,i=this.wrappedElement;this.boundSizeName=t,this.boundMethodName=e="width"===t?"setWidth":"setHeight",this.bind(i,e,"onBoundSizeChange"),i[e].call(i,i.getStyleValue(t))},onBoundSizeChange:function(t,e){var i=this.element;"string"==typeof t&&"%"===t.substr(-1)?e[0]="100%":t="",i[this.boundMethodName].call(i,t)},wrap:function(t){var e,i=this.element;for(this.wrappedElement=t,e=i.dom;null!==e.firstElementChild;)e=e.firstElementChild;e.appendChild(t.dom)},destroy:function(){var t,e=this.element,i=e.dom,n=this.wrappedElement,r=this.boundMethodName,s=i.parentNode;r&&(this.unbind(n,r,"onBoundSizeChange"),t=e.getStyle(this.boundSizeName),t&&n[r].call(n,t)),s&&(n.isDestroyed||s.replaceChild(i.firstElementChild,i),delete this.wrappedElement),this.callSuper()}}),Ext.define("Ext.layout.wrapper.BoxDock",{config:{direction:"horizontal",element:{className:"x-dock"},bodyElement:{className:"x-dock-body"},innerWrapper:null,sizeState:!1,container:null},positionMap:{top:"start",left:"start",bottom:"end",right:"end"},constructor:function(t){this.items={start:[],end:[]},this.itemsCount=0,this.initConfig(t)},addItems:function(t){var e,i,n;for(e=0,i=t.length;i>e;e++)n=t[e],this.addItem(n)},addItem:function(t){var e,i,n,r,s,a=t.getDocked(),o=this.positionMap[a],l=t.$dockWrapper,u=this.getContainer(),h=u.indexOf(t),c=t.element,d=this.items,f=d[o];for(l&&l.removeItem(t),t.$dockWrapper=this,t.addCls("x-dock-item"),t.addCls("x-docked-"+a),e=0,i=f.length;i>e;e++)if(n=f[e],s=u.indexOf(n),s>h){r=n.element,f.splice(e,0,t);break}r||(f.push(t),r=this.getBodyElement()),this.itemsCount++,"start"===o?c.insertBefore(r):c.insertAfter(r)},removeItem:function(t){var e=t.getDocked(),i=this.items[this.positionMap[e]];Ext.Array.remove(i,t),t.element.detach(),delete t.$dockWrapper,t.removeCls("x-dock-item"),t.removeCls("x-docked-"+e),0===--this.itemsCount&&this.destroy()},getItemsSlice:function(t){var e,i,n,r,s=this.getContainer(),a=this.items,o=[];for(e=a.start,i=0,n=e.length;n>i;i++)r=e[i],s.indexOf(r)>t&&o.push(r);for(e=a.end,i=0,n=e.length;n>i;i++)r=e[i],s.indexOf(r)>t&&o.push(r);return o},applyElement:function(t){return Ext.Element.create(t)},updateElement:function(t){t.addCls("x-dock-"+this.getDirection())},applyBodyElement:function(t){return Ext.Element.create(t)},updateBodyElement:function(t){this.getElement().append(t)},updateInnerWrapper:function(t,e){var i=this.getBodyElement();e&&e.$outerWrapper===this&&(e.getElement().detach(),delete e.$outerWrapper),t&&(t.setSizeState(this.getSizeState()),t.$outerWrapper=this,i.append(t.getElement()))},updateSizeState:function(t){var e=this.getInnerWrapper();this.getElement().setSizeState(t),e&&e.setSizeState(t)},destroy:function(){var t,e=this.getInnerWrapper(),i=this.$outerWrapper;e&&(i?i.setInnerWrapper(e):(t=e.getElement(),t.isDestroyed||t.replace(this.getElement()),delete e.$outerWrapper)),delete this.$outerWrapper,this.setInnerWrapper(null),this.unlink("_bodyElement","_element"),this.callSuper()}}),Ext.define("Ext.layout.Default",{extend:Ext.layout.Abstract,isAuto:!0,alias:["layout.default","layout.auto"],config:{animation:null},centerWrapperClass:"x-center",dockWrapperClass:"x-dock",positionMap:{top:"start",left:"start",middle:"center",bottom:"end",right:"end"},positionDirectionMap:{top:"vertical",bottom:"vertical",left:"horizontal",right:"horizontal"},setContainer:function(t){var e={delegate:"> component"};this.dockedItems=[],this.callSuper(arguments),t.on("centeredchange","onItemCenteredChange",this,e,"before").on("floatingchange","onItemFloatingChange",this,e,"before").on("dockedchange","onBeforeItemDockedChange",this,e,"before").on("afterdockedchange","onAfterItemDockedChange",this,e)},monitorSizeStateChange:function(){this.monitorSizeStateChange=Ext.emptyFn,this.container.on("sizestatechange","onContainerSizeStateChange",this)},monitorSizeFlagsChange:function(){this.monitorSizeFlagsChange=Ext.emptyFn,this.container.on("sizeflagschange","onContainerSizeFlagsChange",this)},onItemAdd:function(t){var e=t.getDocked();null!==e?this.dockItem(t):t.isCentered()?this.onItemCenteredChange(t,!0):t.isFloating()?this.onItemFloatingChange(t,!0):this.onItemInnerStateChange(t,!0)},onItemInnerStateChange:function(t,e){e?this.insertInnerItem(t,this.container.innerIndexOf(t)):this.removeInnerItem(t)},insertInnerItem:function(t,e){var i,n=this.container,r=n.innerElement.dom,s=t.element.dom,a=-1!==e?n.getInnerAt(e+1):null,o=null;return a&&(i=a.getTranslatable(),o=i&&i.getUseWrapper()?i.getWrapper().dom:a?a.element.dom:null),r.insertBefore(s,o),this},insertBodyItem:function(t){var e=this.container.setUseBodyElement(!0),i=e.bodyElement.dom;return null===t.getZIndex()&&t.setZIndex(2*(e.indexOf(t)+1)),i.insertBefore(t.element.dom,i.firstChild),this},removeInnerItem:function(t){t.element.detach()},removeBodyItem:function(t){t.setZIndex(null),t.element.detach()},onItemRemove:function(t,e,i){var n=t.getDocked();n?this.undockItem(t):t.isCentered()?this.onItemCenteredChange(t,!1):t.isFloating()?this.onItemFloatingChange(t,!1):this.onItemInnerStateChange(t,!1,i)},onItemMove:function(t,e){t.isCentered()||t.isFloating()?t.setZIndex(2*(e+1)):t.isInnerItem()?this.insertInnerItem(t,this.container.innerIndexOf(t)):(this.undockItem(t),this.dockItem(t))},onItemCenteredChange:function(t,e){var i="$centerWrapper";e?(this.insertBodyItem(t),t.link(i,new Ext.util.Wrapper({className:this.centerWrapperClass},t.element))):(t.unlink(i),this.removeBodyItem(t))},onItemFloatingChange:function(t,e){e?this.insertBodyItem(t):this.removeBodyItem(t)},onBeforeItemDockedChange:function(t,e,i){i&&this.undockItem(t)},onAfterItemDockedChange:function(t,e){e&&this.dockItem(t)},onContainerSizeStateChange:function(){var t=this.getDockWrapper();t&&t.setSizeState(this.container.getSizeState())},onContainerSizeFlagsChange:function(){var t,e,i,n=this.dockedItems;for(t=0,e=n.length;e>t;t++)i=n[t],this.refreshDockedItemLayoutSizeFlags(i)},refreshDockedItemLayoutSizeFlags:function(t){var e=this.container,i=this.positionDirectionMap[t.getDocked()],n="horizontal"===i?e.LAYOUT_HEIGHT:e.LAYOUT_WIDTH,r=e.getSizeFlags()&n;t.setLayoutSizeFlags(r)},dockItem:function(t){var e,i,n,r,s,a,o,l,u,h,c,d,f=Ext.layout.wrapper.BoxDock,g=this.dockedItems,p=g.length,m=this.container,x=m.indexOf(t),E=this.positionDirectionMap,y=E[t.getDocked()],v=this.dockInnerWrapper;if(this.monitorSizeStateChange(),this.monitorSizeFlagsChange(),v||(v=this.link("dockInnerWrapper",new Ext.layout.wrapper.Inner({container:this.container}))),0===p)g.push(t),h=new f({container:this.container,direction:y}),h.addItem(t),h.getElement().replace(v.getElement()),h.setInnerWrapper(v),m.onInitialized("onContainerSizeStateChange",this);else{for(i=0;p>i;i++){if(n=g[i],r=m.indexOf(n),r>x){o=s||g[0],g.splice(i,0,t);break}s=n}o||(o=g[p-1],g.push(t)),l=o.getDocked(),u=o.$dockWrapper,e=E[l],y===e?u.addItem(t):(a=u.getItemsSlice(x),h=new f({container:this.container,direction:y}),a.length>0?(a.length===u.itemsCount?(c=u,h.setSizeState(c.getSizeState()),h.getElement().replace(c.getElement())):(c=new f({container:this.container,direction:e}),c.setInnerWrapper(u.getInnerWrapper()),c.addItems(a),u.setInnerWrapper(h)),h.setInnerWrapper(c)):(d=u.getInnerWrapper(),u.setInnerWrapper(null),h.setInnerWrapper(d),u.setInnerWrapper(h)),h.addItem(t))}m.onInitialized("refreshDockedItemLayoutSizeFlags",this,[t])},getDockWrapper:function(){var t=this.dockedItems;return t.length>0?t[0].$dockWrapper:null},undockItem:function(t){var e=this.dockedItems;t.$dockWrapper&&t.$dockWrapper.removeItem(t),Ext.Array.remove(e,t),t.setLayoutSizeFlags(0)},destroy:function(){this.dockedItems.length=0,delete this.dockedItems,this.callSuper()}}),Ext.define("Ext.layout.Box",{extend:Ext.layout.Default,config:{orient:"horizontal",align:"start",pack:"start"},alias:"layout.tablebox",layoutBaseClass:"x-layout-tablebox",itemClass:"x-layout-tablebox-item",setContainer:function(t){this.callSuper(arguments),t.innerElement.addCls(this.layoutBaseClass),t.on("flexchange","onItemFlexChange",this,{delegate:"> component"})},onItemInnerStateChange:function(t,e){this.callSuper(arguments),t.toggleCls(this.itemClass,e)},onItemFlexChange:function(){}}),Ext.define("Ext.layout.FlexBox",{extend:Ext.layout.Box,alias:"layout.box",config:{align:"stretch"},layoutBaseClass:"x-layout-box",itemClass:"x-layout-box-item",setContainer:function(){this.callSuper(arguments),this.monitorSizeFlagsChange()},applyOrient:function(t){return"horizontal"!==t&&"vertical"!==t&&Ext.Logger.error("Invalid box orient of: '"+t+"', must be either 'horizontal' or 'vertical'"),t},updateOrient:function(t,e){var i=this.container,n={delegate:"> component"};this.sizePropertyName="horizontal"===t?"width":"height",i.innerElement.swapCls("x-"+t,"x-"+e),e&&(i.un("horizontal"===e?"widthchange":"heightchange","onItemSizeChange",this,n),this.redrawContainer()),i.on("horizontal"===t?"widthchange":"heightchange","onItemSizeChange",this,n)},onItemInnerStateChange:function(t,e){this.callSuper(arguments);var i,n;t.toggleCls(this.itemClass,e),e&&(i=t.getFlex(),n=t.get(this.sizePropertyName),i?this.doItemFlexChange(t,i):n&&this.doItemSizeChange(t,n)),this.refreshItemSizeState(t)},refreshItemSizeState:function(t){var e=t.isInnerItem(),i=this.container,n=i.LAYOUT_HEIGHT,r=i.LAYOUT_WIDTH,s=this.sizePropertyName,a=0,o=i.getSizeFlags();e&&(a|=i.LAYOUT_STRETCHED,"stretch"===this.getAlign()&&(a|=o&("width"===s?n:r)),t.getFlex()&&(a|=o&("width"===s?r:n))),t.setLayoutSizeFlags(a)},refreshAllItemSizedStates:function(){var t,e,i,n=this.container.innerItems;for(t=0,e=n.length;e>t;t++)i=n[t],this.refreshItemSizeState(i)},onContainerSizeFlagsChange:function(){this.refreshAllItemSizedStates(),this.callSuper(arguments)},onItemSizeChange:function(t,e){t.isInnerItem()&&this.doItemSizeChange(t,e)},doItemSizeChange:function(t,e){e&&(t.setFlex(null),this.redrawContainer())},onItemFlexChange:function(t,e){t.isInnerItem()&&(this.doItemFlexChange(t,e),this.refreshItemSizeState(t))},doItemFlexChange:function(t,e){this.setItemFlex(t,e),e?t.set(this.sizePropertyName,null):this.redrawContainer()},redrawContainer:function(){var t=this.container,e=t.element.dom.parentNode;e&&11!==e.nodeType&&t.innerElement.redraw()},setItemFlex:function(t,e){var i=t.element;i.toggleCls("x-flexed",!!e),e=e?String(e):"",Ext.browser.is.WebKit?i.dom.style.setProperty("-webkit-box-flex",e,null):Ext.browser.is.IE?i.dom.style.setProperty("-ms-flex",e+" 0 0px",null):i.dom.style.setProperty("flex",e+" 0 0px",null)},convertPosition:function(t){var e=this.positionMap;return e.hasOwnProperty(t)?e[t]:t},applyAlign:function(t){return this.convertPosition(t)},updateAlign:function(t,e){var i=this.container;i.innerElement.swapCls(t,e,!0,"x-align"),void 0!==e&&this.refreshAllItemSizedStates()},applyPack:function(t){return this.convertPosition(t)},updatePack:function(t,e){this.container.innerElement.swapCls(t,e,!0,"x-pack")}}),Ext.define("Ext.layout.HBox",{extend:Ext.layout.FlexBox,alias:"layout.hbox"}),Ext.define("Ext.layout.Fit",{extend:Ext.layout.Default,isFit:!0,alias:"layout.fit",layoutClass:"x-layout-fit",itemClass:"x-layout-fit-item",setContainer:function(t){this.callSuper(arguments),t.innerElement.addCls(this.layoutClass),this.onContainerSizeFlagsChange(),this.monitorSizeFlagsChange()
},onContainerSizeFlagsChange:function(){var t,e,i,n=this.container,r=n.getSizeFlags(),s=Boolean(r&n.LAYOUT_STRETCHED),a=n.innerItems;for(this.callSuper(),t=0,e=a.length;e>t;t++)i=a[t],i.setLayoutSizeFlags(r);n.innerElement.toggleCls("x-stretched",s)},onItemInnerStateChange:function(t,e){this.callSuper(arguments),t.toggleCls(this.itemClass,e),t.setLayoutSizeFlags(e?this.container.getSizeFlags():0)}}),Ext.define("Ext.layout.Float",{extend:Ext.layout.Default,alias:"layout.float",config:{direction:"left"},layoutClass:"layout-float",itemClass:"layout-float-item",setContainer:function(t){this.callSuper(arguments),t.innerElement.addCls(this.layoutClass)},onItemInnerStateChange:function(t,e){this.callSuper(arguments),t.toggleCls(this.itemClass,e)},updateDirection:function(t,e){var i="direction-";this.container.innerElement.swapCls(i+t,i+e)}}),Ext.define("Ext.layout.wrapper.Dock",{config:{direction:"horizontal",element:{className:"x-dock"},bodyElement:{className:"x-dock-body"},innerWrapper:null,sizeState:!1,container:null},positionMap:{top:"start",left:"start",bottom:"end",right:"end"},constructor:function(t){this.items={start:[],end:[]},this.itemsCount=0,this.initConfig(t)},addItems:function(t){var e,i,n;for(e=0,i=t.length;i>e;e++)n=t[e],this.addItem(n)},addItem:function(t){var e,i,n,r,s,a,o,l=t.getDocked(),u=this.positionMap[l],h=t.$dockWrapper,c=this.getContainer(),d=c.indexOf(t),f=this.items,g=f[u];for(h&&h.removeItem(t),t.$dockWrapper=this,e=t.link("$dockItemWrapper",new Ext.util.Wrapper({className:"x-dock-item"})),t.addCls("x-docked-"+l),i=e.element,n=0,r=g.length;r>n;n++)if(s=g[n],o=c.indexOf(s),o>d){a=s.element,g.splice(n,0,t);break}a||(g.push(t),a=this.getBodyElement()),this.itemsCount++,"start"===u?i.insertBefore(a):i.insertAfter(a),e.wrap(t.element),e.bindSize("horizontal"===this.getDirection()?"width":"height")},removeItem:function(t){var e=t.getDocked(),i=this.items[this.positionMap[e]];t.removeCls("x-docked-"+e),Ext.Array.remove(i,t),t.unlink("$dockItemWrapper"),t.element.detach(),delete t.$dockWrapper,0===--this.itemsCount&&this.destroy()},getItemsSlice:function(t){var e,i,n,r,s=this.getContainer(),a=this.items,o=[];for(e=a.start,i=0,n=e.length;n>i;i++)r=e[i],s.indexOf(r)>t&&o.push(r);for(e=a.end,i=0,n=e.length;n>i;i++)r=e[i],s.indexOf(r)>t&&o.push(r);return o},applyElement:function(t){return Ext.Element.create(t)},updateElement:function(t){t.addCls("x-dock-"+this.getDirection())},applyBodyElement:function(t){return Ext.Element.create(t)},updateBodyElement:function(t){this.getElement().append(t)},updateInnerWrapper:function(t,e){var i=this.getBodyElement();e&&e.$outerWrapper===this&&(i.remove(e.getElement()),delete e.$outerWrapper),t&&(t.setSizeState(this.getSizeState()),t.$outerWrapper=this,i.append(t.getElement()))},updateSizeState:function(t){var e=this.getInnerWrapper();this.getElement().setSizeState(t),e&&e.setSizeState(t)},destroy:function(){var t=this.getInnerWrapper(),e=this.$outerWrapper;t&&(e?e.setInnerWrapper(t):(t.getElement().replace(this.getElement()),delete t.$outerWrapper)),delete this.$outerWrapper,this.setInnerWrapper(null),this.unlink("_bodyElement","_element"),this.callSuper()}}),Ext.define("Ext.layout.VBox",{extend:Ext.layout.FlexBox,alias:"layout.vbox",config:{orient:"vertical"}}),Ext.define("Ext.fx.layout.card.Abstract",{extend:Ext.Evented,isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var t=this.getLayout();t&&t.onBefore("activeitemchange","onActiveItemChange",this)},disable:function(){var t=this.getLayout();this.isAnimating&&this.stopAnimation(),t&&t.unBefore("activeitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var t=this.getLayout();this.isAnimating&&this.stopAnimation(),t&&t.unBefore("activeitemchange","onActiveItemChange",this),this.setLayout(null),this.observableId&&(this.fireEvent("destroy",this),this.clearListeners(),this.clearManagedListeners())}}),Ext.define("Ext.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(t){this.data={},this.set(t)},setConfig:function(t){return this.set(t),this},setRaw:function(t){return this.data=t,this},clear:function(){return this.setRaw({})},setTransform:function(t,e){var i,n,r=this.data,s=Ext.isArray(e),a=r.transform;if(a||(a=r.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}),"string"==typeof t)switch(t){case"translate":if(s){if(i=e.length,0==i)break;if(a.translateX=e[0],1==i)break;if(a.translateY=e[1],2==i)break;a.translateZ=e[2]}else a.translateX=e;break;case"rotate":if(s){if(i=e.length,0==i)break;if(a.rotateX=e[0],1==i)break;if(a.rotateY=e[1],2==i)break;a.rotateZ=e[2]}else a.rotate=e;break;case"scale":if(s){if(i=e.length,0==i)break;if(a.scaleX=e[0],1==i)break;if(a.scaleY=e[1],2==i)break;a.scaleZ=e[2]}else a.scaleX=e,a.scaleY=e;break;case"skew":if(s){if(i=e.length,0==i)break;if(a.skewX=e[0],1==i)break;a.skewY=e[1]}else a.skewX=e;break;default:a[t]=e}else for(n in t)t.hasOwnProperty(n)&&(e=t[n],this.setTransform(n,e))},set:function(t,e){var i,n=this.data;if("string"!=typeof t)for(i in t)e=t[i],"transform"===i?this.setTransform(e):n[i]=e;else"transform"===t?this.setTransform(e):n[t]=e;return this},unset:function(t){var e=this.data;return e.hasOwnProperty(t)&&delete e[t],this},getData:function(){return this.data}}),Ext.define("Ext.fx.animation.Abstract",{extend:Ext.Evented,isAnimation:!0,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){return this.states={},this.callParent(arguments),this},applyElement:function(t){return Ext.get(t)},applyBefore:function(t,e){return t?Ext.factory(t,Ext.fx.State,e):void 0},applyAfter:function(t,e){return t?Ext.factory(t,Ext.fx.State,e):void 0},setFrom:function(t){return this.setState(this.STATE_FROM,t)},setTo:function(t){return this.setState(this.STATE_TO,t)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(t){var e,i=this.stateNameRegex;for(e in t)i.test(e)&&this.setState(e,t[e]);return this},getStates:function(){return this.states},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop(),this.callParent()},setState:function(t,e){var i,n=this.getStates();return i=Ext.factory(e,Ext.fx.State,n[t]),i?n[t]=i:t===this.STATE_TO&&Ext.Logger.error("Setting and invalid '100%' / 'to' state of: "+e),this},getState:function(t){return this.getStates()[t]},getData:function(){var t,e,i,n=this.getStates(),r={},s=this.getBefore(),a=this.getAfter(),o=n[this.STATE_FROM],l=n[this.STATE_TO],u=o.getData(),h=l.getData();for(e in n)n.hasOwnProperty(e)&&(i=n[e],t=i.getData(),r[e]=t);return Ext.browser.is.AndroidStock2&&(r["0.0001%"]=u),{before:s?s.getData():{},after:a?a.getData():{},states:r,from:u,to:h,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}}),Ext.define("Ext.fx.animation.Slide",{extend:Ext.fx.animation.Abstract,alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(t){return"auto"===t?"ease-"+(this.getOut()?"in":"out"):t},getContainerBox:function(){var t=this._containerBox;return"auto"===t&&(t=this.getElement().getParent().getPageBox()),t},getElementBox:function(){var t=this._elementBox;return this.getIsElementBoxFit()?this.getContainerBox():("auto"===t&&(t=this.getElement().getPageBox()),t)},getData:function(){var t,e,i,n,r=this.getElementBox(),s=this.getContainerBox(),a=r?r:s,o=this.getFrom(),l=this.getTo(),u=this.getOut(),h=this.getOffset(),c=this.getDirection(),d=this.getUseCssTransform(),f=this.getReverse(),g=0,p=0;switch(f&&(c=this.reverseDirectionMap[c]),c){case this.DIRECTION_UP:p=u?s.top-a.top-a.height-h:s.bottom-a.bottom+a.height+h;break;case this.DIRECTION_DOWN:p=u?s.bottom-a.bottom+a.height+h:s.top-a.height-a.top-h;break;case this.DIRECTION_RIGHT:g=u?s.right-a.right+a.width+h:s.left-a.left-a.width-h;break;case this.DIRECTION_LEFT:g=u?s.left-a.left-a.width-h:s.right-a.right+a.width+h}return t=u?0:g,e=u?0:p,d?o.setTransform({translateX:t,translateY:e}):(o.set("left",t),o.set("top",e)),i=u?g:0,n=u?p:0,d?l.setTransform({translateX:i,translateY:n}):(l.set("left",i),l.set("top",n)),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.SlideOut",{extend:Ext.fx.animation.Slide,alias:["animation.slideOut"],config:{out:!0}}),Ext.define("Ext.fx.animation.Fade",{extend:Ext.fx.animation.Abstract,alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(t){var e=this.getTo(),i=this.getFrom();t?(i.set("opacity",1),e.set("opacity",0)):(i.set("opacity",0),e.set("opacity",1))}}),Ext.define("Ext.fx.animation.FadeOut",{extend:Ext.fx.animation.Fade,alias:"animation.fadeOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.animation.Flip",{extend:Ext.fx.animation.Abstract,alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var t=this.getFrom(),e=this.getTo(),i=this.getDirection(),n=this.getOut(),r=this.getHalf(),s=r?90:180,a=1,o=1,l=0,u=0,h=0,c=0;switch(n?o=.8:a=.8,i){case this.DIRECTION_UP:n?h=s:l=-s;break;case this.DIRECTION_DOWN:n?h=-s:l=s;break;case this.DIRECTION_RIGHT:n?c=s:u=-s;break;case this.DIRECTION_LEFT:n?c=-s:u=s}return t.setTransform({rotateX:l,rotateY:u,scale:a}),e.setTransform({rotateX:h,rotateY:c,scale:o}),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.Pop",{extend:Ext.fx.animation.Abstract,alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var t=this.getTo(),e=this.getFrom(),i=this.getOut();return i?(e.set("opacity",1),e.setTransform({scale:1}),t.set("opacity",0),t.setTransform({scale:0})):(e.set("opacity",0),e.setTransform({scale:0}),t.set("opacity",1),t.setTransform({scale:1})),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.PopOut",{extend:Ext.fx.animation.Pop,alias:"animation.popOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.Animation",{constructor:function(t){var e,i=Ext.fx.animation.Abstract;return"string"==typeof t?(e=t,t={}):t&&t.type&&(e=t.type),e&&(Ext.browser.is.AndroidStock2&&("pop"==e&&(e="fade"),"popIn"==e&&(e="fadeIn"),"popOut"==e&&(e="fadeOut")),i=Ext.ClassManager.getByAlias("animation."+e),i||Ext.Logger.error("Invalid animation type of: '"+e+"'")),Ext.factory(t,i)}}),Ext.define("Ext.fx.layout.card.Style",{extend:Ext.fx.layout.card.Abstract,config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(t){var e,i;this.initConfig(t),this.endAnimationCounter=0,e=this.getInAnimation(),i=this.getOutAnimation(),e.on("animationend","incrementEnd",this),i.on("animationend","incrementEnd",this)},updateDirection:function(t){this.getInAnimation().setDirection(t),this.getOutAnimation().setDirection(t)},updateDuration:function(t){this.getInAnimation().setDuration(t),this.getOutAnimation().setDuration(t)},updateReverse:function(t){this.getInAnimation().setReverse(t),this.getOutAnimation().setReverse(t)},incrementEnd:function(){this.endAnimationCounter++,this.endAnimationCounter>1&&(this.endAnimationCounter=0,this.fireEvent("animationend",this))},applyInAnimation:function(t,e){return Ext.factory(t,Ext.fx.Animation,e)},applyOutAnimation:function(t,e){return Ext.factory(t,Ext.fx.Animation,e)},updateInAnimation:function(t){t.setScope(this)},updateOutAnimation:function(t){t.setScope(this)},onActiveItemChange:function(t,e,i,n,r){var s,a,o=this.getInAnimation(),l=this.getOutAnimation();e&&i&&i.isPainted()&&(s=e.renderElement,a=i.renderElement,o.setElement(s),l.setElement(a),l.setOnBeforeEnd(function(t,e){(e||Ext.Animator.hasRunningAnimations(t))&&(r.firingArguments[1]=null,r.firingArguments[2]=null)}),l.setOnEnd(function(){r.resume()}),s.dom.style.setProperty("visibility","hidden","important"),e.show(),Ext.Animator.run([l,o]),r.pause())},destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation()),this.callParent(arguments)}}),Ext.define("Ext.fx.layout.card.Slide",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(t){this.getInAnimation().setReverse(t),this.getOutAnimation().setReverse(t)}}),Ext.define("Ext.fx.layout.card.Cover",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1},out:!0}},updateReverse:function(t){this.getInAnimation().setReverse(t),this.getOutAnimation().setReverse(t)}}),Ext.define("Ext.fx.layout.card.Reveal",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(t){this.getInAnimation().setReverse(t),this.getOutAnimation().setReverse(t)}}),Ext.define("Ext.fx.layout.card.Fade",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}}),Ext.define("Ext.fx.layout.card.Flip",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},onActiveItemChange:function(t,e){var i=e.element.getParent();i.addCls("x-layout-card-perspective"),this.on("animationend",function(){i.removeCls("x-layout-card-perspective")},this,{single:!0}),this.callParent(arguments)},updateDuration:function(t){var e=t/2,i=this.getInAnimation(),n=this.getOutAnimation();i.setDelay(e),i.setDuration(e),n.setDuration(e)}}),Ext.define("Ext.fx.layout.card.Pop",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(t){var e=t/2,i=this.getInAnimation(),n=this.getOutAnimation();i.setDelay(e),i.setDuration(e),n.setDuration(e)}}),Ext.define("Ext.fx.layout.card.Scroll",{extend:Ext.fx.layout.card.Abstract,alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(t){this.initConfig(t)},getEasing:function(){var t=this.easing;return t||(this.easing=t=new Ext.fx.easing.Linear),t},updateDuration:function(t){this.getEasing().setDuration(t)},onActiveItemChange:function(t,e,i,n,r){var s,a,o,l,u,h,c=this.getDirection(),d=this.getEasing();e&&i&&(this.isAnimating&&this.stopAnimation(),e.setWidth("100%"),e.setHeight("100%"),s=this.getLayout().container.innerElement,l=s.getWidth(),u=s.getHeight(),a=e.renderElement,o=i.renderElement,this.oldItem=i,this.newItem=e,this.currentEventController=r,this.containerElement=s,this.isReverse=h=this.getReverse(),e.show(),"right"==c?(c="left",this.isReverse=h=!h):"down"==c&&(c="up",this.isReverse=h=!h),"left"==c?h?(d.setConfig({startValue:l,endValue:0}),s.dom.scrollLeft=l,o.setLeft(l)):(d.setConfig({startValue:0,endValue:l}),a.setLeft(l)):h?(d.setConfig({startValue:u,endValue:0}),s.dom.scrollTop=u,o.setTop(u)):(d.setConfig({startValue:0,endValue:u}),a.setTop(u)),this.startAnimation(),r.pause())},startAnimation:function(){this.isAnimating=!0,this.getEasing().setStartTime(Date.now()),Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var t,e=this.getEasing(),i=this.getDirection(),n="scrollTop";("left"==i||"right"==i)&&(n="scrollLeft"),e.isEnded?this.stopAnimation():(t=e.getValue(),this.containerElement.dom[n]=t)},stopAnimation:function(){var t=this,e=t.getDirection(),i="setTop",n=t.oldItem,r=t.newItem;("left"==e||"right"==e)&&(i="setLeft"),t.currentEventController.resume(),t.isReverse&&n&&n.renderElement&&n.renderElement.dom?n.renderElement[i](null):r&&r.renderElement&&r.renderElement.dom&&r.renderElement[i](null),Ext.AnimationQueue.stop(this.doAnimationFrame,this),t.isAnimating=!1,t.fireEvent("animationend",t)}}),Ext.define("Ext.fx.layout.Card",{constructor:function(t){var e,i=Ext.fx.layout.card.Abstract;return t?("string"==typeof t?(e=t,t={}):t.type&&(e=t.type),t.elementBox=!1,e&&(Ext.browser.is.AndroidStock2&&"fade"!=e&&(e="scroll"),i=Ext.ClassManager.getByAlias("fx.layout.card."+e),i||Ext.Logger.error("Unknown card animation type: '"+e+"'")),Ext.factory(t,i)):null}}),Ext.define("Ext.layout.Card",{extend:Ext.layout.Default,alias:"layout.card",isCard:!0,layoutClass:"x-layout-card",itemClass:"x-layout-card-item",applyAnimation:function(t){return new Ext.fx.layout.Card(t)},updateAnimation:function(t,e){t&&t.isAnimation&&t.setLayout(this),e&&e.destroy()},setContainer:function(t){this.callSuper(arguments),t.innerElement.addCls(this.layoutClass),t.onInitialized("onContainerInitialized",this)},onContainerInitialized:function(){var t=this.container,e=t.getInnerAt(0),i=t.getActiveItem();i&&(i.show(),e&&e!==i&&e.hide()),t.on("activeitemchange","onContainerActiveItemChange",this)},onContainerActiveItemChange:function(){this.relayEvent(arguments,"doActiveItemChange")},onItemInnerStateChange:function(t,e,i){this.callSuper(arguments);var n=this.container,r=n.getActiveItem();t.toggleCls(this.itemClass,e),t.setLayoutSizeFlags(e?n.LAYOUT_BOTH:0),e?r!==n.innerIndexOf(t)&&r!==t&&t!==n.pendingActiveItem&&t.hide():i||t.isDestroyed||t.isDestroying===!0||t.show()},doActiveItemChange:function(t,e,i){i&&i.hide(),e&&e.show()},destroy:function(){this.callParent(arguments),Ext.destroy(this.getAnimation())}}),Ext.define("Ext.util.Filter",{isFilter:!0,config:{property:null,value:null,filterFn:Ext.emptyFn,anyMatch:!1,exactMatch:!1,caseSensitive:!1,root:null,id:void 0,scope:null},applyId:function(t){return t||(this.getProperty()&&(t=this.getProperty()+"-"+String(this.getValue())),t||(t=Ext.id(null,"ext-filter-"))),t},constructor:function(t){this.initConfig(t)},applyFilterFn:function(t){if(t===Ext.emptyFn){if(t=this.getInitialConfig("filter"))return t;var e=this.getValue();return this.getProperty()||e||0===e?this.createFilterFn():(Ext.Logger.error("A Filter requires either a property and value, or a filterFn to be set"),Ext.emptyFn)}return t},createFilterFn:function(){var t=this,e=t.createValueMatcher();return function(i){var n=t.getRoot(),r=t.getProperty();return n&&(i=i[n]),e.test(i[r])}},createValueMatcher:function(){var t=this,e=t.getValue(),i=t.getAnyMatch(),n=t.getExactMatch(),r=t.getCaseSensitive(),s=Ext.String.escapeRegex;return null!==e&&void 0!==e&&e.exec||(e=String(e),i===!0?e=s(e):(e="^"+s(e),n===!0&&(e+="$")),e=new RegExp(e,r?"":"i")),e}}),Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.mixin.Observable},constructor:function(t,e){var i=this;i.items=[],i.map={},i.keys=[],i.length=0,i.allowFunctions=t===!0,e&&(i.getKey=e),i.mixins.observable.constructor.call(i)},allowFunctions:!1,add:function(t,e){var i,n=this,r=e,s=t;if(1==arguments.length&&(r=s,s=n.getKey(r)),"undefined"!=typeof s&&null!==s){if(i=n.map[s],"undefined"!=typeof i)return n.replace(s,r);n.map[s]=r}return n.length++,n.items.push(r),n.keys.push(s),n.fireEvent("add",n.length-1,r,s),r},getKey:function(t){return t.id},replace:function(t,e){var i,n,r=this;return 1==arguments.length&&(e=arguments[0],t=r.getKey(e)),i=r.map[t],"undefined"==typeof t||null===t||"undefined"==typeof i?r.add(t,e):(n=r.indexOfKey(t),r.items[n]=e,r.map[t]=e,r.fireEvent("replace",t,i,e),e)},addAll:function(t){var e,i,n,r=this,s=0;if(arguments.length>1||Ext.isArray(t))for(e=arguments.length>1?arguments:t,i=e.length;i>s;s++)r.add(e[s]);else for(n in t)t.hasOwnProperty(n)&&(r.allowFunctions||"function"!=typeof t[n])&&r.add(n,t[n])},each:function(t,e){for(var i,n=[].concat(this.items),r=0,s=n.length;s>r&&(i=n[r],t.call(e||i,i,r,s)!==!1);r++);},eachKey:function(t,e){for(var i=this.keys,n=this.items,r=0,s=i.length;s>r;r++)t.call(e||window,i[r],n[r],r,s)},findBy:function(t,e){for(var i=this.keys,n=this.items,r=0,s=n.length;s>r;r++)if(t.call(e||window,n[r],i[r]))return n[r];return null},insert:function(t,e,i){var n=this,r=e,s=i;return 2==arguments.length&&(s=r,r=n.getKey(s)),n.containsKey(r)&&(n.suspendEvents(),n.removeAtKey(r),n.resumeEvents()),t>=n.length?n.add(r,s):(n.length++,Ext.Array.splice(n.items,t,0,s),"undefined"!=typeof r&&null!==r&&(n.map[r]=s),Ext.Array.splice(n.keys,t,0,r),n.fireEvent("add",t,s,r),s)},remove:function(t){return this.removeAt(this.indexOf(t))},removeAll:function(t){return Ext.each(t||[],function(t){this.remove(t)},this),this},removeAt:function(t){var e,i,n=this;return t<n.length&&t>=0?(n.length--,e=n.items[t],Ext.Array.erase(n.items,t,1),i=n.keys[t],"undefined"!=typeof i&&delete n.map[i],Ext.Array.erase(n.keys,t,1),n.fireEvent("remove",e,i),e):!1},removeAtKey:function(t){return this.removeAt(this.indexOfKey(t))},getCount:function(){return this.length},indexOf:function(t){return Ext.Array.indexOf(this.items,t)},indexOfKey:function(t){return Ext.Array.indexOf(this.keys,t)},get:function(t){var e=this,i=e.map[t],n=void 0!==i?i:"number"==typeof t?e.items[t]:void 0;return"function"!=typeof n||e.allowFunctions?n:null},getAt:function(t){return this.items[t]},getByKey:function(t){return this.map[t]},contains:function(t){return Ext.Array.contains(this.items,t)},containsKey:function(t){return"undefined"!=typeof this.map[t]},clear:function(){var t=this;t.length=0,t.items=[],t.keys=[],t.map={},t.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(t,e,i,n){var r,s=this.extractValues(t,e),a=s.length,o=0;for(i=i||0,n=n||0===n?n:a-1,r=i;n>=r;r++)o+=s[r];return o},collect:function(t,e,i){var n,r,s,a=this.extractValues(t,e),o=a.length,l={},u=[];for(s=0;o>s;s++)n=a[s],r=String(n),!i&&Ext.isEmpty(n)||l[r]||(l[r]=!0,u.push(n));return u},extractValues:function(t,e){var i=this.items;return e&&(i=Ext.Array.pluck(i,e)),Ext.Array.pluck(i,t)},getRange:function(t,e){var i,n=this,r=n.items,s=[];if(r.length<1)return s;if(t=t||0,e=Math.min("undefined"==typeof e?n.length-1:e,n.length-1),e>=t)for(i=t;e>=i;i++)s[s.length]=r[i];else for(i=t;i>=e;i--)s[s.length]=r[i];return s},filter:function(t,e,i,n){var r,s=[];return Ext.isString(t)?s.push(Ext.create("Ext.util.Filter",{property:t,value:e,anyMatch:i,caseSensitive:n})):(Ext.isArray(t)||t instanceof Ext.util.Filter)&&(s=s.concat(t)),r=function(t){var e,i=!0,n=s.length;for(e=0;n>e;e++){var r=s[e],a=r.getFilterFn(),o=r.getScope();i=i&&a.call(o,t)}return i},this.filterBy(r)},filterBy:function(t,e){var i,n=this,r=new this.self,s=n.keys,a=n.items,o=a.length;for(r.getKey=n.getKey,i=0;o>i;i++)t.call(e||n,a[i],s[i])&&r.add(s[i],a[i]);return r},findIndex:function(t,e,i,n,r){return Ext.isEmpty(e,!1)?-1:(e=this.createValueMatcher(e,n,r),this.findIndexBy(function(i){return i&&e.test(i[t])},null,i))},findIndexBy:function(t,e,i){for(var n=this,r=n.keys,s=n.items,a=i||0,o=s.length;o>a;a++)if(t.call(e||n,s[a],r[a]))return a;return-1},createValueMatcher:function(t,e,i,n){if(!t.exec){var r=Ext.String.escapeRegex;t=String(t),e===!0?t=r(t):(t="^"+r(t),n===!0&&(t+="$")),t=new RegExp(t,i?"":"i")}return t},clone:function(){for(var t=this,e=new this.self,i=t.keys,n=t.items,r=0,s=n.length;s>r;r++)e.add(i[r],n[r]);return e.getKey=t.getKey,e}}),Ext.define("Ext.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},constructor:function(t){this.initConfig(t)},applySorterFn:function(t){return t||this.getProperty()||Ext.Logger.error("A Sorter requires either a property or a sorterFn."),t},applyProperty:function(t){return t||this.getSorterFn()||Ext.Logger.error("A Sorter requires either a property or a sorterFn."),t},applyId:function(t){return t||(t=this.getProperty(),t||(t=Ext.id(null,"ext-sorter-"))),t},createSortFunction:function(t){var e=this,i="DESC"==e.getDirection().toUpperCase()?-1:1;return function(n,r){return i*t.call(e,n,r)}},defaultSortFn:function(t,e){var i,n,r=this,s=r._transform,a=r._root,o=r._property;return null!==a&&void 0!==a&&(t=t[a],e=e[a]),i=t[o],n=e[o],s&&(i=s(i),n=s(n)),i>n?1:n>i?-1:0},updateDirection:function(){this.updateSortFn()},updateSortFn:function(){this.sort=this.createSortFunction(this.getSorterFn()||this.defaultSortFn)},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))}}),Ext.define("Ext.util.Sortable",{extend:Ext.mixin.Mixin,isSortable:!0,mixinConfig:{hooks:{destroy:"destroy"}},defaultSortDirection:"ASC",initSortable:function(){var t=this,e=t.sorters;t.sorters=Ext.create("Ext.util.AbstractMixedCollection",!1,function(t){return t.id||t.property}),e&&t.sorters.addAll(t.decodeSorters(e))},sort:function(t,e,i,n){var r,s,a,o=this;return Ext.isArray(t)?(n=i,i=e,a=t):Ext.isObject(t)?(n=i,i=e,a=[t]):Ext.isString(t)&&(r=o.sorters.get(t),r?void 0===e?r.toggle():r.setDirection(e):(r={property:t,direction:e},a=[r])),a&&a.length&&(a=o.decodeSorters(a),Ext.isString(i)?"prepend"===i?(t=o.sorters.clone().items,o.sorters.clear(),o.sorters.addAll(a),o.sorters.addAll(t)):o.sorters.addAll(a):(o.sorters.clear(),o.sorters.addAll(a)),n!==!1&&o.onBeforeSort(a)),n!==!1&&(t=o.sorters.items,t.length&&(s=function(e,i){var n,r=t[0].sort(e,i),s=t.length;for(n=1;s>n;n++)r=r||t[n].sort.call(this,e,i);return r},o.doSort(s))),t},onBeforeSort:Ext.emptyFn,decodeSorters:function(t){Ext.isArray(t)||(t=void 0===t?[]:[t]);var e,i,n,r=t.length,s=Ext.util.Sorter,a=this.model?this.model.prototype.fields:null;for(n=0;r>n;n++)i=t[n],i instanceof s||(Ext.isString(i)&&(i={property:i}),Ext.applyIf(i,{root:this.sortRoot,direction:"ASC"}),i.fn&&(i.sorterFn=i.fn),"function"==typeof i&&(i={sorterFn:i}),a&&!i.transform&&(e=a.get(i.property),i.transform=e?e.sortType:void 0),t[n]=Ext.create("Ext.util.Sorter",i));return t},getSorters:function(){return this.sorters.items},destroy:function(){this.callSuper(),Ext.destroy(this.sorters)}}),Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){var t=this;t.callParent(arguments),t.mixins.sortable.initSortable.call(t)},doSort:function(t){this.sortBy(t)},_sort:function(t,e,i){var n,r,s=this,a="DESC"==String(e).toUpperCase()?-1:1,o=[],l=s.keys,u=s.items;for(i=i||function(t,e){return t-e},n=0,r=u.length;r>n;n++)o[o.length]={key:l[n],value:u[n],index:n};for(Ext.Array.sort(o,function(e,n){var r=i(e[t],n[t])*a;return 0===r&&(r=e.index<n.index?-1:1),r}),n=0,r=o.length;r>n;n++)u[n]=o[n].value,l[n]=o[n].key;s.fireEvent("sort",s)},sortBy:function(t){var e,i=this,n=i.items,r=i.keys,s=n.length,a=[];for(e=0;s>e;e++)a[e]={key:r[e],value:n[e],index:e};for(Ext.Array.sort(a,function(e,i){var n=t(e.value,i.value);return 0===n&&(n=e.index<i.index?-1:1),n}),e=0;s>e;e++)n[e]=a[e].value,r[e]=a[e].key;i.fireEvent("sort",i,n,r)},reorder:function(t){var e,i=this,n=i.items,r=0,s=n.length,a=[],o=[];i.suspendEvents();for(e in t)a[t[e]]=n[e];for(r=0;s>r;r++)void 0==t[r]&&o.push(n[r]);for(r=0;s>r;r++)void 0==a[r]&&(a[r]=o.shift());i.clear(),i.addAll(a),i.resumeEvents(),i.fireEvent("sort",i)},sortByKey:function(t,e){this._sort("key",t,e||function(t,e){var i=String(t).toUpperCase(),n=String(e).toUpperCase();return i>n?1:n>i?-1:0})}}),Ext.define("Ext.ItemCollection",{extend:Ext.util.MixedCollection,getKey:function(t){return t.getItemId()},has:function(t){return this.map.hasOwnProperty(t.getId())}}),Ext.define("Ext.fx.easing.Momentum",{extend:Ext.fx.easing.Abstract,config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(t){var e=Math.log(1-t/10);this.theta=e,this.alpha=e/this.getAcceleration()},updateStartVelocity:function(t){this.velocity=t*this.getAcceleration()},updateAcceleration:function(t){this.velocity=this.getStartVelocity()*t,this.alpha=this.theta/t},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var t=Ext.Date.now()-this.getStartTime();return Math.exp(t*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}}),Ext.define("Ext.fx.easing.Bounce",{extend:Ext.fx.easing.Abstract,config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var t=Ext.Date.now()-this.getStartTime(),e=t/this.getAcceleration(),i=e*Math.pow(Math.E,-this.getSpringTension()*e);return this.getStartValue()+this.getStartVelocity()*i}}),Ext.define("Ext.fx.easing.BoundMomentum",{extend:Ext.fx.easing.Abstract,config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(t,e){return Ext.factory(t,Ext.fx.easing.Momentum,e)},applyBounce:function(t,e){return Ext.factory(t,Ext.fx.easing.Bounce,e)},updateStartTime:function(t){this.getMomentum().setStartTime(t),this.callParent(arguments)},updateStartVelocity:function(t){this.getMomentum().setStartVelocity(t)},updateStartValue:function(t){this.getMomentum().setStartValue(t)},reset:function(){return this.lastValue=null,this.isBouncingBack=!1,this.isOutOfBound=!1,this.callParent(arguments)},getValue:function(){var t,e,i=this.getMomentum(),n=this.getBounce(),r=i.getStartVelocity(),s=r>0?1:-1,a=this.getMinMomentumValue(),o=this.getMaxMomentumValue(),l=1==s?o:a,u=this.lastValue;if(0===r)return this.getStartValue();if(!this.isOutOfBound){if(t=i.getValue(),e=i.getVelocity(),Math.abs(e)<this.getMinVelocity()&&(this.isEnded=!0),t>=a&&o>=t)return t;this.isOutOfBound=!0,n.setStartTime(Ext.Date.now()).setStartVelocity(e).setStartValue(l)}return t=n.getValue(),this.isEnded||(this.isBouncingBack?Math.round(t)==l&&(this.isEnded=!0):null!==u&&(1==s&&u>t||-1==s&&t>u)&&(this.isBouncingBack=!0)),this.lastValue=t,t}}),Ext.define("Ext.fx.easing.EaseOut",{extend:Ext.fx.easing.Linear,alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var t=Ext.Date.now()-this.getStartTime(),e=this.getDuration(),i=this.getStartValue(),n=this.getEndValue(),r=this.distance,s=t/e,a=1-s,o=1-Math.pow(a,this.getExponent()),l=i+o*r;
return t>=e?(this.isEnded=!0,n):l}}),Ext.define("Ext.scroll.Scroller",{extend:Ext.Evented,config:{element:null,direction:"auto",fps:"auto",disabled:null,directionLock:!1,momentumEasing:{momentum:{acceleration:30,friction:.5},bounce:{acceleration:30,springTension:.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:"auto",size:"auto",autoRefresh:!0,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150},translatable:{translationMethod:"auto",useWrapper:!1}},cls:Ext.baseCSSPrefix+"scroll-scroller",containerCls:Ext.baseCSSPrefix+"scroll-container",dragStartTime:0,dragEndTime:0,isDragging:!1,isAnimating:!1,constructor:function(t){var e=t&&t.element;return this.listeners={scope:this,touchstart:"onTouchStart",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},this.minPosition={x:0,y:0},this.startPosition={x:0,y:0},this.position={x:0,y:0},this.velocity={x:0,y:0},this.isAxisEnabledFlags={x:!1,y:!1},this.flickStartPosition={x:0,y:0},this.flickStartTime={x:0,y:0},this.lastDragPosition={x:0,y:0},this.dragDirection={x:0,y:0},this.initialConfig=t,e&&this.setElement(e),this},applyElement:function(t){return t?Ext.get(t):void 0},updateElement:function(t){return this.initialize(),this.FixedHBoxStretching||t.addCls(this.cls),this.getDisabled()||this.attachListeneners(),this.onConfigUpdate(["containerSize","size"],"refreshMaxPosition"),this.on("maxpositionchange","snapToBoundary"),this.on("minpositionchange","snapToBoundary"),this},applyTranslatable:function(t,e){return Ext.factory(t,Ext.util.Translatable,e)},updateTranslatable:function(t){t.setConfig({element:this.getElement(),listeners:{animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this}})},updateFps:function(t){"auto"!==t&&this.getTranslatable().setFps(t)},attachListeneners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(t){t?this.detachListeners():this.attachListeneners()},updateInitialOffset:function(t){"number"==typeof t&&(t={x:t,y:t});var e,i,n=this.position;n.x=e=t.x,n.y=i=t.y,this.getTranslatable().translate(-e,-i)},applyDirection:function(t){var e,i,n=this.getMinPosition(),r=this.getMaxPosition();return this.givenDirection=t,"auto"===t&&(e=r.x>n.x,i=r.y>n.y,t=e&&i?"both":e?"horizontal":"vertical"),t},updateDirection:function(t,e){var i=this.isAxisEnabledFlags,n=this.cls+"-vertical",r=this.cls+"-horizontal",s=this.getElement();("both"===e||"horizontal"===e)&&s.removeCls(r),("both"===e||"vertical"===e)&&s.removeCls(n),i.x=i.y=!1,("both"===t||"horizontal"===t)&&(i.x=!0,s.addCls(r)),("both"===t||"vertical"===t)&&(i.y=!0,s.addCls(n))},isAxisEnabled:function(t){return this.getDirection(),this.isAxisEnabledFlags[t]},applyMomentumEasing:function(t){var e=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(t,e),y:Ext.factory(t,e)}},applyBounceEasing:function(t){var e=Ext.fx.easing.EaseOut;return{x:Ext.factory(t,e),y:Ext.factory(t,e)}},updateBounceEasing:function(t){this.getTranslatable().setEasingX(t.x).setEasingY(t.y)},applySlotSnapEasing:function(t){var e=Ext.fx.easing.EaseOut;return{x:Ext.factory(t,e),y:Ext.factory(t,e)}},getMinPosition:function(){var t=this.minPosition;return t||(this.minPosition=t={x:0,y:0},this.fireEvent("minpositionchange",this,t)),t},getMaxPosition:function(){var t,e,i=this.maxPosition;return i||(t=this.getSize(),e=this.getContainerSize(),this.maxPosition=i={x:Math.max(0,t.x-e.x),y:Math.max(0,t.y-e.y)},this.fireEvent("maxpositionchange",this,i)),i},refreshMaxPosition:function(){this.maxPosition=null,this.getMaxPosition()},applyContainerSize:function(t){var e,i,n=this.getContainer().dom;if(n)return this.givenContainerSize=t,"auto"===t?(e=n.offsetWidth,i=n.offsetHeight):(e=t.x,i=t.y),{x:e,y:i}},applySize:function(t){var e,i,n=this.getElement().dom;if(n)return this.givenSize=t,"auto"===t?(e=n.offsetWidth,i=n.offsetHeight):"number"==typeof t?(e=t,i=t):(e=t.x,i=t.y),{x:e,y:i}},updateAutoRefresh:function(t){this.getElement().toggleListener(t,"resize","onElementResize",this),this.getContainer().toggleListener(t,"resize","onContainerResize",this)},applySlotSnapSize:function(t){return"number"==typeof t?{x:t,y:t}:t},applySlotSnapOffset:function(t){return"number"==typeof t?{x:t,y:t}:t},getContainer:function(){var t,e=this.container;return e||(t=this.getElement().getParent(),this.container=e=this.FixedHBoxStretching?t.getParent():t,e||Ext.Logger.error("Making an element scrollable that doesn't have any container"),e.addCls(this.containerCls)),e},refresh:function(){return this.stopAnimation(),this.getTranslatable().refresh(),this.setSize(this.givenSize),this.setContainerSize(this.givenContainerSize),this.setDirection(this.givenDirection),this.fireEvent("refresh",this),this},onElementResize:function(t,e){this.setSize({x:e.width,y:e.height}),this.refresh()},onContainerResize:function(t,e){this.setContainerSize({x:e.width,y:e.height}),this.refresh()},scrollTo:function(t,e,i){if(this.isDestroyed)return this;var n,r,s=this.getTranslatable(),a=this.position,o=!1;return this.isAxisEnabled("x")&&(isNaN(t)||"number"!=typeof t?t=a.x:a.x!==t&&(a.x=t,o=!0),n=-t),this.isAxisEnabled("y")&&(isNaN(e)||"number"!=typeof e?e=a.y:a.y!==e&&(a.y=e,o=!0),r=-e),o&&(void 0!==i&&i!==!1?s.translateAnimated(n,r,i):(this.fireEvent("scroll",this,a.x,a.y),s.translate(n,r))),this},scrollToTop:function(t){var e=this.getInitialOffset();return this.scrollTo(e.x,e.y,t)},scrollToEnd:function(t){var e=this.getSize(),i=this.getContainerSize();return this.scrollTo(e.x-i.x,e.y-i.y,t)},scrollBy:function(t,e,i){var n=this.position;return t="number"==typeof t?t+n.x:null,e="number"==typeof e?e+n.y:null,this.scrollTo(t,e,i)},onTouchStart:function(){this.isTouching=!0,this.stopAnimation()},onTouchEnd:function(){var t=this.position;this.isTouching=!1,!this.isDragging&&this.snapToSlot()&&this.fireEvent("scrollstart",this,t.x,t.y)},onDragStart:function(t){var e=this.getDirection(),i=t.absDeltaX,n=t.absDeltaY,r=this.getDirectionLock(),s=this.startPosition,a=this.flickStartPosition,o=this.flickStartTime,l=this.lastDragPosition,u=this.position,h=this.dragDirection,c=u.x,d=u.y,f=Ext.Date.now();if(this.isDragging=!0,r&&"both"!==e){if(!("horizontal"===e&&i>n||"vertical"===e&&n>i))return void(this.isDragging=!1);t.stopPropagation()}l.x=c,l.y=d,a.x=c,a.y=d,s.x=c,s.y=d,o.x=f,o.y=f,h.x=0,h.y=0,this.dragStartTime=f,this.isDragging=!0,this.fireEvent("scrollstart",this,c,d)},onAxisDrag:function(t,e){if(this.isAxisEnabled(t)){var i,n=this.flickStartPosition,r=this.flickStartTime,s=this.lastDragPosition,a=this.dragDirection,o=this.position[t],l=this.getMinPosition()[t],u=this.getMaxPosition()[t],h=this.startPosition[t],c=s[t],d=h-e,f=a[t],g=this.getOutOfBoundRestrictFactor(),p=this.getStartMomentumResetTime(),m=Ext.Date.now();l>d?d*=g:d>u&&(i=d-u,d=u+i*g),d>c?a[t]=1:c>d&&(a[t]=-1),(0!==f&&a[t]!==f||m-r[t]>p)&&(n[t]=o,r[t]=m),s[t]=d}},onDrag:function(t){if(this.isDragging){var e=this.lastDragPosition;this.onAxisDrag("x",t.deltaX),this.onAxisDrag("y",t.deltaY),this.scrollTo(e.x,e.y)}},onDragEnd:function(t){var e,i;this.isDragging&&(this.dragEndTime=Ext.Date.now(),this.onDrag(t),this.isDragging=!1,e=this.getAnimationEasing("x",t),i=this.getAnimationEasing("y",t),e||i?this.getTranslatable().animate(e,i):this.onScrollEnd())},getAnimationEasing:function(t,e){if(!this.isAxisEnabled(t))return null;var i,n=this.position[t],r=this.getMinPosition()[t],s=this.getMaxPosition()[t],a=this.getMaxAbsoluteVelocity(),o=null,l=this.dragEndTime,u=e.flick.velocity[t];return r>n?o=r:n>s&&(o=s),null!==o?(i=this.getBounceEasing()[t],i.setConfig({startTime:l,startValue:-n,endValue:-o}),i):0===u?null:(-a>u?u=-a:u>a&&(u=a),Ext.browser.is.IE&&(u*=2),i=this.getMomentumEasing()[t],i.setConfig({startTime:l,startValue:-n,startVelocity:1.5*u,minMomentumValue:-s,maxMomentumValue:0}),i)},onAnimationFrame:function(t,e,i){var n=this.position;n.x=-e,n.y=-i,this.fireEvent("scroll",this,n.x,n.y)},onAnimationEnd:function(){this.snapToBoundary(),this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var t=this.position;(this.isTouching||!this.snapToSlot())&&this.fireEvent("scrollend",this,t.x,t.y)},snapToSlot:function(){var t=this.getSnapPosition("x"),e=this.getSnapPosition("y"),i=this.getSlotSnapEasing();return null!==t||null!==e?(this.scrollTo(t,e,{easingX:i.x,easingY:i.y}),!0):!1},getSnapPosition:function(t){var e,i,n,r,s=this.getSlotSnapSize()[t],a=null;return 0!==s&&this.isAxisEnabled(t)&&(e=this.position[t],i=this.getSlotSnapOffset()[t],n=this.getMaxPosition()[t],r=Math.floor((e-i)%s),0!==r&&(a=e!==n&&Math.abs(r)>s/2?Math.min(n,e+(r>0?s-r:r-s)):e-r)),a},snapToBoundary:function(){var t=this.position,e=this.getMinPosition(),i=this.getMaxPosition(),n=e.x,r=e.y,s=i.x,a=i.y,o=Math.round(t.x),l=Math.round(t.y);n>o?o=n:o>s&&(o=s),r>l?l=r:l>a&&(l=a),this.scrollTo(o,l)},destroy:function(){var t,e=this.getElement(),i=this.sizeMonitors;i&&(i.element.destroy(),i.container.destroy()),e&&!e.isDestroyed&&(e.removeCls(this.cls),t=this.getContainer(),t&&!t.isDestroyed&&t.removeCls(this.containerCls)),Ext.destroy(this.getTranslatable()),this.callParent(arguments)}},function(){}),function(){var t,e,i=0,n=["ms","moz","webkit","o"],r=n.length;for(t=0;r>t&&!window.requestAnimationFrame;++t)e=n[t],window[e+"RequestAnimationFrame"]&&(window.requestAnimationFrame=window[e+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]);window.Ext||(window.Ext={}),Ext.performance={},Ext.performance.now=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},window.requestAnimationFrame?Ext.trueRequestAnimationFrames=!0:window.requestAnimationFrame=function(t){var e=Ext.performance.now(),n=Math.max(0,16-(e-i)),r=window.setTimeout(function(){t(e+n)},n);return i=e+n,r},window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(){Ext.define("Ext.AnimationQueue",{singleton:!0,constructor:function(){var t=Ext.Function.bind;this.queue=[],this.taskQueue=[],this.runningQueue=[],this.idleQueue=[],this.isRunning=!1,this.isIdle=!0,this.run=t(this.run,this),this.whenIdle=t(this.whenIdle,this),this.processIdleQueueItem=t(this.processIdleQueueItem,this),this.processTaskQueueItem=t(this.processTaskQueueItem,this),Ext.os.is.iOS&&setInterval(this.watch,500)},start:function(){this.queue.push(arguments),this.isRunning||(this.hasOwnProperty("idleTimer")&&(clearTimeout(this.idleTimer),delete this.idleTimer),this.hasOwnProperty("idleQueueTimer")&&(clearTimeout(this.idleQueueTimer),delete this.idleQueueTimer),this.isIdle=!1,this.isRunning=!0,this.startCountTime=Ext.performance.now(),this.count=0,this.doStart())},watch:function(){this.isRunning&&Date.now()-this.lastRunTime>=500&&this.run()},run:function(){if(this.isRunning){var t,e,i=this.runningQueue;for(this.lastRunTime=Date.now(),this.frameStartTime=Ext.performance.now(),i.push.apply(i,this.queue),t=0,e=i.length;e>t;t++)this.invoke(i[t]);i.length=0;var n=this.frameStartTime,r=this.startCountTime,s=n-r,a=++this.count;s>=200&&(this.onFpsChanged(1e3*a/s,a,s),this.startCountTime=n,this.count=0),this.doIterate()}},onFpsChanged:Ext.emptyFn,onStop:Ext.emptyFn,doStart:function(){this.animationFrameId=requestAnimationFrame(this.run),this.lastRunTime=Date.now()},doIterate:function(){this.animationFrameId=requestAnimationFrame(this.run)},doStop:function(){cancelAnimationFrame(this.animationFrameId)},stop:function(t,e,i){if(this.isRunning){var n,r,s=this.queue,a=s.length;for(n=0;a>n;n++)r=s[n],r[0]===t&&r[1]===e&&r[2]===i&&(s.splice(n,1),n--,a--);0===a&&(this.doStop(),this.onStop(),this.isRunning=!1,this.idleTimer=setTimeout(this.whenIdle,100))}},onIdle:function(t,e,i){var n,r,s,a=this.idleQueue;for(n=0,r=a.length;r>n;n++)if(s=a[n],t===s[0]&&e===s[1]&&i===s[2])return;a.push(arguments),this.isIdle&&this.processIdleQueue()},unIdle:function(t,e,i){var n,r,s,a=this.idleQueue;for(n=0,r=a.length;r>n;n++)if(s=a[n],t===s[0]&&e===s[1]&&i===s[2])return a.splice(n,1),!0;return!1},queueTask:function(){this.taskQueue.push(arguments),this.processTaskQueue()},dequeueTask:function(t,e,i){var n,r,s,a=this.taskQueue;for(n=0,r=a.length;r>n;n++)s=a[n],t===s[0]&&e===s[1]&&i===s[2]&&(a.splice(n,1),n--,r--)},invoke:function(t){var e=t[0],i=t[1],n=t[2];e="string"==typeof e?i[e]:e,Ext.isArray(n)?e.apply(i,n):e.call(i,n)},whenIdle:function(){this.isIdle=!0,this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=setTimeout(this.processIdleQueueItem,1))},processIdleQueueItem:function(){if(delete this.idleQueueTimer,this.isIdle){var t,e=this.idleQueue;e.length>0&&(t=e.shift(),this.invoke(t),this.processIdleQueue())}},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=setTimeout(this.processTaskQueueItem,15))},processTaskQueueItem:function(){delete this.taskQueueTimer;var t,e=this.taskQueue;e.length>0&&(t=e.shift(),this.invoke(t),this.processTaskQueue())},showFps:function(){Ext.trueRequestAnimationFrames||alert("This browser does not support requestAnimationFrame. The FPS listed will not be accurate"),Ext.onReady(function(){Ext.Viewport.add([{xtype:"component",bottom:50,left:0,width:50,height:20,html:"Average",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__averageFps",xtype:"component",bottom:0,left:0,width:50,height:50,html:"0",style:"background-color: red; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:50,width:50,height:20,html:"Min (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__minFps",xtype:"component",bottom:0,left:50,width:50,height:50,html:"0",style:"background-color: orange; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:100,width:50,height:20,html:"Max (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__maxFps",xtype:"component",bottom:0,left:100,width:50,height:50,html:"0",style:"background-color: yellow; color: black; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:150,width:50,height:20,html:"Current",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__currentFps",xtype:"component",bottom:0,left:150,width:50,height:50,html:"0",style:"background-color: green; color: white; text-align: center; line-height: 50px;"}]),Ext.AnimationQueue.resetFps()})},resetFps:function(){var t=Ext.getCmp("__currentFps"),e=Ext.getCmp("__averageFps"),i=Ext.getCmp("__minFps"),n=Ext.getCmp("__maxFps"),r=1e3,s=0,a=0,o=0;Ext.AnimationQueue.onFpsChanged=function(l){a++,a%10||(r=1e3,s=0),o+=l,r=Math.min(r,l),s=Math.max(s,l),t.setHtml(Math.round(l)),e.setHtml(Math.round(o/a)),i.setHtml(Math.round(r)),n.setHtml(Math.round(s))}}},function(){var t=window.location.search.substr(1),e=t.split("&");-1!==e.indexOf("showfps")&&Ext.AnimationQueue.showFps()})}(this),Ext.define("Ext.TaskQueue",{singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[],this.writeQueue=[],this.run=Ext.Function.bind(this.run,this),this.watch=Ext.Function.bind(this.watch,this),Ext.os.is.iOS&&setInterval(this.watch,500)},requestRead:function(){this.request(!0),this.readQueue.push(arguments)},requestWrite:function(){this.request(!1),this.writeQueue.push(arguments)},request:function(t){this.pending||(this.pendingTime=Date.now(),this.pending=!0,this.mode=t,t?setTimeout(this.run,1):requestAnimationFrame(this.run))},watch:function(){this.pending&&Date.now()-this.pendingTime>=500&&this.run()},run:function(){this.pending=!1;var t,e=this.readQueue,i=this.writeQueue,n=null;this.mode?(t=e,i.length>0&&(n=!1)):(t=i,e.length>0&&(n=!0));var r,s,a,o,l,u=t.slice();for(t.length=0,r=0,s=u.length;s>r;r++)a=u[r],o=a[0],l=a[1],"string"==typeof o&&(o=l[o]),a.length>2?o.apply(l,a[2]):o.call(l);u.length=0,null!==n&&this.request(n)}}),Ext.define("Ext.scroll.indicator.Abstract",{extend:Ext.Component,config:{baseCls:"x-scroll-indicator",axis:"x",value:null,length:null,minLength:6,hidden:!0,ui:"dark",autoHide:!0},cachedConfig:{ratio:1,barCls:"x-scroll-bar",active:!0},barElement:null,barLength:0,gapLength:0,getElementConfig:function(){return{reference:"barElement",children:[this.callParent()]}},applyRatio:function(t){return(isNaN(t)||t>1)&&(t=1),t},refresh:function(){var t=this.barElement,e=t.dom,i=this.getRatio(),n=this.getAxis(),r="x"===n?e.offsetWidth:e.offsetHeight,s=r*i;this.barLength=r,this.gapLength=r-s,this.setLength(s),this.updateValue(this.getValue())},updateBarCls:function(t){this.barElement.addCls(t)},updateAxis:function(t){this.element.addCls(this.getBaseCls(),null,t),this.barElement.addCls(this.getBarCls(),null,t)},updateValue:function(t){var e,i,n,r=this.barLength,s=this.gapLength,a=this.getLength();0>=t?(i=0,this.updateLength(this.applyLength(a+t*r))):t>=1?(n=Math.round((t-1)*r),e=this.applyLength(a-n),n=a-e,this.updateLength(e),i=s+n):i=s*t,this.setOffset(i)},updateActive:function(t){this.barElement[t?"addCls":"removeCls"]("active")},doSetHidden:function(t){var e=this;t?e.getAutoHide()&&e.setOffset(-1e4):(delete e.lastLength,delete e.lastOffset,e.updateValue(e.getValue()))},applyLength:function(t){return Math.max(this.getMinLength(),t)},updateLength:function(t){t=Math.round(t),this.lastLength!==t&&(this.lastLength=t,Ext.TaskQueue.requestWrite("doUpdateLength",this,[t]))},doUpdateLength:function(t){if(!this.isDestroyed){var e=this.getAxis(),i=this.element;"x"===e?i.setWidth(t):i.setHeight(t)}},setOffset:function(t){t=Math.round(t),this.lastOffset!==t&&-1e4!==this.lastOffset&&(this.lastOffset=t,Ext.TaskQueue.requestWrite("doSetOffset",this,[t]))},doSetOffset:function(t){if(!this.isDestroyed){var e=this.getAxis(),i=this.element;"x"===e?i.translate(t,0):i.translate(0,t)}}}),Ext.define("Ext.scroll.indicator.CssTransform",{extend:Ext.scroll.indicator.Abstract,config:{cls:"csstransform"}}),Ext.define("Ext.scroll.indicator.ScrollPosition",{extend:Ext.scroll.indicator.Abstract,config:{cls:"scrollposition"},getElementConfig:function(){var t=this.callParent(arguments);return t.children.unshift({className:"x-scroll-bar-stretcher"}),t},updateValue:function(t){0===this.gapLength?(t>=1&&t--,this.setOffset(this.barLength*t)):this.setOffset(this.gapLength*t)},doUpdateLength:function(){if(!this.isDestroyed){var t=this.barLength,e=this.element;this.callParent(arguments),"x"===this.getAxis()?e.setLeft(t):e.setTop(t)}},doSetOffset:function(t){if(!this.isDestroyed){var e=this.barLength,i=this.getMinLength(),n=this.barElement.dom;-1e4!==t&&(t=Math.min(e-i,Math.max(t,i-this.getLength())),t=e-t),"x"===this.getAxis()?n.scrollLeft=t:n.scrollTop=t}}}),Ext.define("Ext.scroll.indicator.Rounded",{extend:Ext.scroll.indicator.Abstract,config:{cls:"rounded"},constructor:function(){this.callParent(arguments),this.transformPropertyName=Ext.browser.getVendorProperyName("transform")},getElementConfig:function(){var t=this.callParent();return t.children[0].children=[{reference:"startElement"},{reference:"middleElement"},{reference:"endElement"}],t},refresh:function(){var t,e,i=this.getAxis(),n=this.startElement.dom,r=this.endElement.dom,s=this.middleElement;"x"===i?(t=n.offsetWidth,e=r.offsetWidth,s.setLeft(t)):(t=n.offsetHeight,e=r.offsetHeight,s.setTop(t)),this.startElementLength=t,this.endElementLength=e,this.callParent()},doUpdateLength:function(t){if(!this.isDestroyed){var e=this.getAxis(),i=this.endElement,n=this.middleElement.dom.style,r=this.endElementLength,s=t-r,a=s-this.startElementLength,o=this.transformPropertyName;"x"===e?(i.translate(s,0),n[o]="translate3d(0, 0, 0) scaleX("+a+")"):(i.translate(0,s),n[o]="translate3d(0, 0, 0) scaleY("+a+")")}}}),Ext.define("Ext.scroll.Indicator",{alternateClassName:"Ext.util.Indicator",constructor:function(t){var e=Ext.scroll.indicator;switch(Ext.browser.getPreferredTranslationMethod(t)){case"scrollposition":return new e.ScrollPosition(t);case"csstransform":return Ext.browser.is.AndroidStock4?new e.CssTransform(t):new e.Rounded(t)}}}),Ext.define("Ext.scroll.View",{extend:Ext.Evented,alternateClassName:"Ext.util.ScrollView",config:{indicatorsUi:"dark",element:null,scroller:{},indicators:{x:{axis:"x"},y:{axis:"y"}},indicatorsHidingDelay:100,cls:Ext.baseCSSPrefix+"scroll-view"},processConfig:function(t){if(!t)return null;"string"==typeof t&&(t={direction:t}),t=Ext.merge({},t);var e,i=t.scroller;i||(t.scroller=i={});for(e in t)t.hasOwnProperty(e)&&(this.hasConfig(e)||(i[e]=t[e],delete t[e]));return t},constructor:function(t){t=this.processConfig(t),this.useIndicators={x:!0,y:!0},this.doHideIndicators=Ext.Function.bind(this.doHideIndicators,this),this.initConfig(t)},setConfig:function(t){return this.callParent([this.processConfig(t)])},updateIndicatorsUi:function(t){var e=this.getIndicators();e.x.setUi(t),e.y.setUi(t)},applyScroller:function(t,e){return Ext.factory(t,Ext.scroll.Scroller,e)},applyIndicators:function(t,e){var i=Ext.scroll.Indicator,n=this.useIndicators;return t||(t={}),t.x||(n.x=!1,t.x={}),t.y||(n.y=!1,t.y={}),{x:Ext.factory(t.x,i,e&&e.x),y:Ext.factory(t.y,i,e&&e.y)}},updateIndicators:function(t){this.indicatorsGrid=Ext.Element.create({className:"x-scroll-bar-grid-wrapper",children:[{className:"x-scroll-bar-grid",children:[{children:[{},{children:[t.y.barElement]}]},{children:[{children:[t.x.barElement]},{}]}]}]})},updateScroller:function(t){t.on({scope:this,scrollstart:"onScrollStart",scroll:"onScroll",scrollend:"onScrollEnd",refresh:"refreshIndicators"})},isAxisEnabled:function(t){return this.getScroller().isAxisEnabled(t)&&this.useIndicators[t]},applyElement:function(t){return t?Ext.get(t):void 0},updateElement:function(t){var e,i=this.getScroller();return e=t.getFirstChild().getFirstChild(),this.FixedHBoxStretching&&(e=e.getFirstChild()),t.addCls(this.getCls()),t.insertFirst(this.indicatorsGrid),i.setElement(e),this.refreshIndicators(),this},showIndicators:function(){var t=this.getIndicators();this.hasOwnProperty("indicatorsHidingTimer")&&(clearTimeout(this.indicatorsHidingTimer),delete this.indicatorsHidingTimer),this.isAxisEnabled("x")&&t.x.show(),this.isAxisEnabled("y")&&t.y.show()},hideIndicators:function(){var t=this.getIndicatorsHidingDelay();t>0?this.indicatorsHidingTimer=setTimeout(this.doHideIndicators,t):this.doHideIndicators()},doHideIndicators:function(){var t=this.getIndicators();this.isAxisEnabled("x")&&t.x.hide(),this.isAxisEnabled("y")&&t.y.hide()},onScrollStart:function(){this.onScroll.apply(this,arguments),this.showIndicators()},onScrollEnd:function(){this.hideIndicators()},onScroll:function(t,e,i){this.setIndicatorValue("x",e),this.setIndicatorValue("y",i),this.isBenchmarking&&this.framesCount++},isBenchmarking:!1,framesCount:0,getCurrentFps:function(){var t,e=Date.now();return this.isBenchmarking?t=Math.round(1e3*this.framesCount/(e-this.framesCountStartTime)):(this.isBenchmarking=!0,t=0),this.framesCountStartTime=e,this.framesCount=0,t},setIndicatorValue:function(t,e){if(!this.isAxisEnabled(t))return this;var i,n=this.getScroller(),r=n.getMaxPosition()[t],s=n.getContainerSize()[t];0===r?(i=e/s,e>=0&&(i+=1)):i=e>r?1+(e-r)/s:0>e?e/s:e/r,this.getIndicators()[t].setValue(i)},refreshIndicator:function(t){if(!this.isAxisEnabled(t))return this;var e=this.getScroller(),i=this.getIndicators()[t],n=e.getContainerSize()[t],r=e.getSize()[t],s=n/r;i.setRatio(s),i.refresh()},refresh:function(){return this.getScroller().refresh()},refreshIndicators:function(){var t=this.getIndicators();t.x.setActive(this.isAxisEnabled("x")),t.y.setActive(this.isAxisEnabled("y")),this.refreshIndicator("x"),this.refreshIndicator("y")},destroy:function(){var t=this.getElement(),e=this.getIndicators();Ext.destroy(this.getScroller(),this.indicatorsGrid),this.hasOwnProperty("indicatorsHidingTimer")&&(clearTimeout(this.indicatorsHidingTimer),delete this.indicatorsHidingTimer),t&&!t.isDestroyed&&t.removeCls(this.getCls()),e.x.destroy(),e.y.destroy(),delete this.indicatorsGrid,this.callParent(arguments)}}),Ext.define("Ext.behavior.Scrollable",{extend:Ext.behavior.Behavior,constructor:function(){this.listeners={painted:"onComponentPainted",scope:this},this.callParent(arguments)},onComponentPainted:function(){this.scrollView.refresh()},setConfig:function(t){var e,i,n,r,s=this.scrollView,a=this.component;return t?s?(Ext.isString(t)||Ext.isObject(t))&&s.setConfig(t):(this.scrollView=s=new Ext.scroll.View(t),s.on("destroy","onScrollViewDestroy",this),a.setUseBodyElement(!0),this.scrollerElement=e=a.innerElement,Ext.feature.has.ProperHBoxStretching?this.scrollContainer=e.wrap():(n=s.getScroller(),r=(Ext.isObject(t)?t.direction:t)||"auto","vertical"!==r?(i=e.wrap(),i.addCls(Ext.baseCSSPrefix+"translatable-hboxfix"),"horizontal"==r&&i.setStyle({height:"100%"}),this.scrollContainer=i.wrap(),s.FixedHBoxStretching=n.FixedHBoxStretching=!0):this.scrollContainer=e.wrap()),s.setElement(a.bodyElement),a.isPainted()&&this.onComponentPainted(),a.on(this.listeners)):s&&s.destroy(),this},getScrollView:function(){return this.scrollView},onScrollViewDestroy:function(){var t=this.component,e=this.scrollerElement;e.isDestroyed||this.scrollerElement.unwrap(),this.scrollContainer.destroy(),t.isDestroyed||t.un(this.listeners),delete this.scrollerElement,delete this.scrollView,delete this.scrollContainer},onComponentDestroy:function(){var t=this.scrollView;t&&t.destroy()}}),Ext.define("Ext.util.InputBlocker",{singleton:!0,blockInputs:function(){Ext.browser.is.ie&&Ext.select(".x-field-text .x-field-input:not(.x-item-disabled) .x-input-el, .x-field-textarea .x-field-input:not(.x-item-disabled) .x-input-el, .x-field-search .x-field-input:not(.x-item-disabled) .x-input-el").each(function(t){t.dom.offsetWidth>0&&(t.dom.setAttribute("disabled",!0),t.dom.setAttribute("overlayfix",!0))})},unblockInputs:function(){Ext.browser.is.ie&&Ext.select("[overlayfix]").each(function(t){t.dom.removeAttribute("disabled"),t.dom.removeAttribute("overlayfix")})}}),Ext.define("Ext.Mask",{extend:Ext.Component,xtype:"mask",config:{baseCls:Ext.baseCSSPrefix+"mask",transparent:!1,top:0,left:0,right:0,bottom:0},initialize:function(){this.callSuper(),this.element.on("*","onEvent",this),this.on({hide:"onHide"})},onHide:function(){if(Ext.util.InputBlocker.unblockInputs(),Ext.browser.is.AndroidStock4&&0===Ext.os.version.getMinor()){var t=this.element.getFirstChild();t&&t.redraw()}},onEvent:function(t){var e=arguments[arguments.length-1];return"tap"===e.info.eventName?(this.fireEvent("tap",this,t),!1):(t&&t.stopEvent&&t.stopEvent(),!1)},updateTransparent:function(t){this[t?"addCls":"removeCls"](this.getBaseCls()+"-transparent")}}),Ext.define("Ext.Container",{extend:Ext.Component,alternateClassName:"Ext.lib.Container",xtype:"container",eventedConfig:{activeItem:0,scrollable:null},config:{layout:null,control:{},defaults:null,items:null,autoDestroy:!0,defaultType:null,useBodyElement:null,masked:null,modal:null,hideOnMaskTap:null},isContainer:!0,constructor:function(){var t=this;t._items=t.items=new Ext.ItemCollection,t.innerItems=[],t.onItemAdd=t.onFirstItemAdd,t.callParent(arguments)},getElementConfig:function(){return{reference:"element",classList:["x-container","x-unsized"],children:[{reference:"innerElement",className:"x-inner"}]}},applyMasked:function(t){var e,i=!0;return t===!1&&(t=!0,i=!1),e=Ext.factory(t,Ext.Mask,this.getMasked()),e&&(this.add(e),e.setHidden(!i)),e},mask:function(t){this.setMasked(t||!0)},unmask:function(){this.setMasked(!1)},setParent:function(t){if(this.callSuper(arguments),t){var e=this.getModal();e&&(t.insertBefore(e,this),e.setZIndex(this.getZIndex()-1))}},applyModal:function(t,e){var i=!0;return t===!1&&(t=!0,i=!1),e=Ext.factory(t,Ext.Mask,e),e&&e.setVisibility(i),e},updateModal:function(t){var e=this.getParent();e&&(t?(e.insertBefore(t,this),t.setZIndex(this.getZIndex()-1)):e.remove(t))},updateHideOnMaskTap:function(t){var e=this.getModal();e&&e[t?"on":"un"].call(e,"tap","hide",this)},updateZIndex:function(t){var e=this.getModal();this.callParent(arguments),e&&e.setZIndex(t-1)},updateBaseCls:function(t,e){var i=this,n=i.getUi();e&&(this.element.removeCls(e),this.innerElement.removeCls(t,null,"inner"),n&&this.element.removeCls(this.currentUi)),t&&(this.element.addCls(t),this.innerElement.addCls(t,null,"inner"),n&&(this.element.addCls(t,null,n),this.currentUi=t+"-"+n))},updateUseBodyElement:function(t){t&&this.link("bodyElement",this.innerElement.wrap({cls:"x-body"}))},applyItems:function(t,e){if(t){var i=this;if(i.getDefaultType(),i.getDefaults(),i.initialized&&e.length>0&&i.removeAll(),i.add(t),i.initialized){var n=i.initialConfig.activeItem||i.config.activeItem||0;i.setActiveItem(n)}}},applyControl:function(t){var e,i,n,r;for(e in t){r=t[e];for(i in r)n=r[i],Ext.isObject(n)&&(n.delegate=e);r.delegate=e,this.addListener(r)}return t},onFirstItemAdd:function(){return delete this.onItemAdd,this.innerHtmlElement&&!this.getHtml()&&(this.innerHtmlElement.destroy(),delete this.innerHtmlElement),this.on("innerstatechange","onItemInnerStateChange",this,{delegate:"> component"}),this.onItemAdd.apply(this,arguments)},updateLayout:function(t,e){e&&e.isLayout&&Ext.Logger.error("Replacing a layout after one has already been initialized is not currently supported.")},getLayout:function(){var t=this.layout;return t||(t=this.link("_layout",this.link("layout",Ext.factory(this._layout||"default",Ext.layout.Default,null,"layout"))),t.setContainer(this)),t},updateDefaultType:function(t){this.defaultItemClass=Ext.ClassManager.getByAlias("widget."+t),this.defaultItemClass||Ext.Logger.error("Invalid defaultType of: '"+t+"', must be a valid component xtype")},applyDefaults:function(t){return t?(this.factoryItem=this.factoryItemWithDefaults,t):void 0},factoryItem:function(t){return t||Ext.Logger.error("Invalid item given: "+t+", must be either the config object to factory a new item, or an existing component instance"),Ext.factory(t,this.defaultItemClass)},factoryItemWithDefaults:function(t){t||Ext.Logger.error("Invalid item given: "+t+", must be either the config object to factory a new item, or an existing component instance");var e,i=this,n=i.getDefaults();return n?(t.isComponent?(e=t,n&&t.isInnerItem()&&!i.has(e)&&e.setConfig(n,!0)):(n&&!t.ignoreDefaults&&(t.hasOwnProperty("left")&&t.hasOwnProperty("right")&&t.hasOwnProperty("top")&&t.hasOwnProperty("bottom")&&t.hasOwnProperty("docked")&&t.hasOwnProperty("centered")||(t=Ext.mergeIf({},t,n))),e=Ext.factory(t,i.defaultItemClass)),e):Ext.factory(t,i.defaultItemClass)},add:function(t){var e,i,n,r,s=this;if(Ext.isArray(t))for(e=0,i=t.length;i>e;e++)n=s.factoryItem(t[e]),this.doAdd(n),!r&&!this.getActiveItem()&&this.innerItems.length>0&&n.isInnerItem()&&(r=n);else n=s.factoryItem(t),this.doAdd(n),!r&&!this.getActiveItem()&&this.innerItems.length>0&&n.isInnerItem()&&(r=n);return r&&this.setActiveItem(r),n},doAdd:function(t){var e,i=this,n=i.getItems();n.has(t)||(e=n.length,n.add(t),t.isInnerItem()&&i.insertInner(t),t.setParent(i),i.onItemAdd(t,e))},remove:function(t,e){var i=this,n=i.indexOf(t),r=i.getInnerItems();return void 0===e&&(e=i.getAutoDestroy()),-1!==n&&(!i.removingAll&&r.length>1&&t===i.getActiveItem()?(i.on({activeitemchange:"doRemove",scope:i,single:!0,order:"after",args:[t,n,e]}),i.doResetActiveItem(r.indexOf(t))):(i.doRemove(t,n,e),0===r.length&&i.setActiveItem(null))),i},doResetActiveItem:function(t){this.setActiveItem(0===t?1:0)},doRemove:function(t,e,i){var n=this;n.items.remove(t),t.isInnerItem()&&n.removeInner(t),n.onItemRemove(t,e,i),t.setParent(null),i&&t.destroy()},removeAll:function(t,e){var i,n=this.items,r=n.length,s=0;for("boolean"!=typeof t&&(t=this.getAutoDestroy()),e=Boolean(e),this.removingAll=!0;r>s;s++)i=n.getAt(s),i&&(e||i.isInnerItem())&&(this.doRemove(i,s,t),s--,r--);
return this.setActiveItem(null),this.removingAll=!1,this},getAt:function(t){return this.items.getAt(t)},getInnerAt:function(t){return this.innerItems[t]},removeAt:function(t){var e=this.getAt(t);return e&&this.remove(e),this},removeInnerAt:function(t){var e=this.getInnerItems()[t];return e&&this.remove(e),this},has:function(t){return-1!=this.getItems().indexOf(t)},hasInnerItem:function(t){return-1!=this.innerItems.indexOf(t)},indexOf:function(t){return this.getItems().indexOf(t)},innerIndexOf:function(t){return this.innerItems.indexOf(t)},insertInner:function(t,e){var i,n=this.getItems().items,r=this.innerItems,s=r.indexOf(t),a=-1;if(-1!==s&&r.splice(s,1),"number"==typeof e){do i=n[++e];while(i&&!i.isInnerItem());i&&(a=r.indexOf(i),r.splice(a,0,t))}return-1===a&&(r.push(t),a=r.length-1),-1!==s&&this.onInnerItemMove(t,a,s),this},onInnerItemMove:Ext.emptyFn,removeInner:function(t){return Ext.Array.remove(this.innerItems,t),this},insert:function(t,e){var i,n=this;if("number"!=typeof t&&Ext.Logger.error("Invalid index of '"+t+"', must be a valid number"),Ext.isArray(e)){for(i=e.length-1;i>=0;i--)n.insert(t,e[i]);return n}return e=this.factoryItem(e),this.doInsert(t,e),e},doInsert:function(t,e){var i,n,r=this,s=r.items,a=s.length;return n=e.isInnerItem(),t>a&&(t=a),s[t-1]===e?r:(i=r.indexOf(e),-1!==i&&(t>i&&(t-=1),s.removeAt(i)),s.insert(t,e),-1===i&&e.setParent(r),n&&r.insertInner(e,t),void(-1!==i?r.onItemMove(e,t,i):r.onItemAdd(e,t)))},insertFirst:function(t){return this.insert(0,t)},insertLast:function(t){return this.insert(this.getItems().length,t)},insertBefore:function(t,e){var i=this.indexOf(e);return-1!==i&&this.insert(i,t),this},insertAfter:function(t,e){var i=this.indexOf(e);return-1!==i&&this.insert(i+1,t),this},onItemAdd:function(t,e){this.doItemLayoutAdd(t,e),this.initialized&&this.fireEvent("add",this,t,e)},doItemLayoutAdd:function(t,e){var i=this.getLayout();this.isRendered()&&t.setRendered(!0)?t.fireAction("renderedchange",[this,t,!0],"onItemAdd",i,{args:[t,e]}):i.onItemAdd(t,e)},onItemRemove:function(t,e,i){this.doItemLayoutRemove(t,e,i),this.fireEvent("remove",this,t,e)},doItemLayoutRemove:function(t,e,i){var n=this.getLayout();this.isRendered()&&t.setRendered(!1)?t.fireAction("renderedchange",[this,t,!1],"onItemRemove",n,{args:[t,e,i]}):n.onItemRemove(t,e,i)},onItemMove:function(t,e,i){t.isDocked()&&t.setDocked(null),this.doItemLayoutMove(t,e,i),this.fireEvent("move",this,t,e,i)},doItemLayoutMove:function(t,e,i){this.getLayout().onItemMove(t,e,i)},onItemInnerStateChange:function(t,e){var i=this.getLayout();e?this.insertInner(t,this.items.indexOf(t)):this.removeInner(t),i.onItemInnerStateChange.apply(i,arguments)},getInnerItems:function(){return this.innerItems},getDockedItems:function(){var t,e,i=this.getItems().items,n=[],r=i.length;for(e=0;r>e;e++)t=i[e],t.isDocked()&&n.push(t);return n},applyActiveItem:function(t,e){var i=this.getInnerItems();if(this.getItems(),!t&&0===i.length)return 0;if("number"==typeof t){if(t=Math.max(0,Math.min(t,i.length-1)),t=i[t])return t;if(e)return null}else if(t){var n;return"string"==typeof t&&(n=this.child(t),t={xtype:t}),n&&n.isComponent||(n=this.factoryItem(t)),this.pendingActiveItem=n,n.isInnerItem()||Ext.Logger.error("Setting activeItem to be a non-inner item"),this.has(n)||this.add(n),n}},animateActiveItem:function(t,e){var i,n=this.getLayout();return this.activeItemAnimation&&this.activeItemAnimation.destroy(),this.activeItemAnimation=e=new Ext.fx.layout.Card(e),e&&n.isCard&&(e.setLayout(n),i=n.getAnimation(),i&&i.disable(),e.on("animationend",function(){i&&i.enable(),e.destroy()},this)),this.setActiveItem(t)},doSetActiveItem:function(t,e){delete this.pendingActiveItem,e&&e.fireEvent("deactivate",e,this,t),t&&t.fireEvent("activate",t,this,e)},show:function(){this.callParent(arguments);var t=this.getModal();return t&&t.setHidden(!1),this},hide:function(){this.callParent(arguments);var t=this.getModal();return t&&t.setHidden(!0),this},doSetHidden:function(t){var e=this.getModal();e&&e.getHidden()!==t&&e.setHidden(t),this.callSuper(arguments)},setRendered:function(t){if(this.callParent(arguments)){var e,i,n=this.items.items;for(e=0,i=n.length;i>e;e++)n[e].setRendered(t);return!0}return!1},getScrollableBehavior:function(){var t=this.scrollableBehavior;return t||(t=this.scrollableBehavior=new Ext.behavior.Scrollable(this)),t},applyScrollable:function(t){return"boolean"==typeof t?(t!==!1||null!==this.getHeight()||this.heightLayoutSized||null!==this.getTop()&&null!==this.getBottom()||Ext.Logger.warn("This container is set to scrollable: false but has no specified height. You may need to set the container to scrollable: null or provide a height.",this),this.getScrollableBehavior().setConfig({disabled:!t})):t&&!t.isObservable&&this.getScrollableBehavior().setConfig(t),t},doSetScrollable:function(){},getScrollable:function(){return this.getScrollableBehavior().getScrollView()},getRefItems:function(t){var e,i,n=this.getItems().items.slice(),r=n.length;if(t)for(e=0;r>e;e++)i=n[e],i.getRefItems&&(n=n.concat(i.getRefItems(!0)));return n},getComponent:function(t){return Ext.isObject(t)&&(t=t.getItemId()),this.getItems().get(t)},getDockedComponent:function(t){Ext.isObject(t)&&(t=t.getItemId());var e,i,n=this.getDockedItems(),r=n.length;if(Ext.isNumber(t))return n[t];for(i=0;r>i;i++)if(e=n[i],e.id==t)return e;return!1},query:function(t){return Ext.ComponentQuery.query(t,this)},child:function(t){return this.query("> "+t)[0]||null},down:function(t){return this.query(t)[0]||null},destroy:function(){var t=this,e=t.getModal();e&&e.destroy(),t.removeAll(!0,!0),t.unlink("_scrollable"),Ext.destroy(t.items),t.callSuper()}},function(){this.addMember("defaultItemClass",this)}),Ext.define("Ext.util.Point",{radianToDegreeConstant:180/Math.PI,statics:{fromEvent:function(t){var e=t.changedTouches,i=e&&e.length>0?e[0]:t;return this.fromTouch(i)},fromTouch:function(t){return new this(t.pageX,t.pageY)},from:function(t){return t?t instanceof this?t:new this(t.x,t.y):new this(0,0)}},constructor:function(t,e){return"undefined"==typeof t&&(t=0),"undefined"==typeof e&&(e=0),this.x=t,this.y=e,this},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(t){return this.x=t.x,this.y=t.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(t){return this.x===t.x&&this.y===t.y},isCloseTo:function(t,e){"number"==typeof e&&(e={x:e},e.y=e.x);var i=t.x,n=t.y,r=e.x,s=e.y;return this.x<=i+r&&this.x>=i-r&&this.y<=n+s&&this.y>=n-s},isWithin:function(){return this.isCloseTo.apply(this,arguments)},translate:function(t,e){return this.x+=t,this.y+=e,this},roundedEquals:function(t){return"object"!=typeof t&&(t={x:0,y:0}),Math.round(this.x)===Math.round(t.x)&&Math.round(this.y)===Math.round(t.y)},getDistanceTo:function(t){"object"!=typeof t&&(t={x:0,y:0});var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},getAngleTo:function(t){"object"!=typeof t&&(t={x:0,y:0});var e=this.x-t.x,i=this.y-t.y;return Math.atan2(i,e)*this.radianToDegreeConstant}}),Ext.define("Ext.util.LineSegment",{constructor:function(t,e){var i=Ext.util.Point;this.point1=i.from(t),this.point2=i.from(e)},intersects:function(t){var e,i,n=this.point1,r=this.point2,s=t.point1,a=t.point2,o=n.x,l=r.x,u=s.x,h=a.x,c=n.y,d=r.y,f=s.y,g=a.y,p=(o-l)*(f-g)-(c-d)*(u-h);return 0==p?null:(e=((u-h)*(o*d-c*l)-(o-l)*(u*g-f*h))/p,i=((f-g)*(o*d-c*l)-(c-d)*(u*g-f*h))/p,e<Math.min(o,l)||e>Math.max(o,l)||e<Math.min(u,h)||e>Math.max(u,h)||i<Math.min(c,d)||i>Math.max(c,d)||i<Math.min(f,g)||i>Math.max(f,g)?null:new Ext.util.Point(e,i))},getLength:function(){return Math.abs(this.point1.getDistanceTo(this.point2))},getAngleToX:function(){var t=this.point1,e=this.point2,i=e.y-t.y,n=e.x-t.x;return Math.atan2(i,n)},getInBetweenPoint:function(t){var e=this.point1,i=this.getAngleToX(),n=e.x+Math.cos(i)*t,r=e.y+Math.sin(i)*t;return new Ext.util.Point(n,r)},toString:function(){return this.point1.toString()+" "+this.point2.toString()}}),Ext.define("Ext.Panel",{extend:Ext.Container,alternateClassName:"Ext.lib.Panel",xtype:"panel",isPanel:!0,config:{baseCls:Ext.baseCSSPrefix+"panel",bodyPadding:null,bodyMargin:null,bodyBorder:null},getElementConfig:function(){return{reference:"element",classList:["x-container","x-unsized"],children:[{reference:"innerElement",className:"x-inner"},{reference:"tipElement",className:"x-anchor",hidden:!0}]}},applyBodyPadding:function(t){return t===!0&&(t=5),t&&(t=Ext.dom.Element.unitizeBox(t)),t},updateBodyPadding:function(t){this.element.setStyle("padding",t)},applyBodyMargin:function(t){return t===!0&&(t=5),t&&(t=Ext.dom.Element.unitizeBox(t)),t},updateBodyMargin:function(t){this.element.setStyle("margin",t)},applyBodyBorder:function(t){return t===!0&&(t=1),t&&(t=Ext.dom.Element.unitizeBox(t)),t},updateBodyBorder:function(t){this.element.setStyle("border-width",t)},alignTo:function(t,e){var i=this.getAlignmentInfo(t,e);if(!i.isAligned){var n=this.tipElement;n.hide(),this.currentTipPosition&&n.removeCls("x-anchor-"+this.currentTipPosition),this.callParent(arguments);var r,s,a,o,l,u,h=Ext.util.LineSegment,c=t.isComponent?t.renderElement:t,d=this.renderElement,f=c.getPageBox(),g=d.getPageBox(),p=g.left,m=g.top,x=g.right,E=g.bottom,y=p+g.width/2,v=m+g.height/2,b={x:p,y:m},S={x:x,y:m},C={x:p,y:E},w={x:x,y:E},T={x:y,y:v},I=f.left+f.width/2,A=f.top+f.height/2,P={x:I,y:A},M=new h(T,P),D=0,k=0;n.setVisibility(!1),n.show(),r=n.getSize(),s=r.width,a=r.height,M.intersects(new h(b,S))?(l=Math.min(Math.max(I,p+s),x-s),u=m,k=a+10,o="top"):M.intersects(new h(b,C))?(l=p,u=Math.min(Math.max(A+s/2,1.6*s),E-s/2.2),D=a+10,o="left"):M.intersects(new h(C,w))?(l=Math.min(Math.max(I,p+s),x-s),u=E,k=-a-10,o="bottom"):M.intersects(new h(S,w))&&(l=x,u=Math.max(Math.min(A-a,E-1.3*s),s/2),D=-a-10,o="right"),(l||u)&&(this.currentTipPosition=o,n.addCls("x-anchor-"+o),n.setLeft(l-p),n.setTop(u-m),n.setVisibility(!0),this.setLeft(this.getLeft()+D),this.setTop(this.getTop()+k))}}}),Ext.define("Ext.Button",{extend:Ext.Component,xtype:"button",cachedConfig:{pressedCls:Ext.baseCSSPrefix+"button-pressing",badgeCls:Ext.baseCSSPrefix+"badge",hasBadgeCls:Ext.baseCSSPrefix+"hasbadge",labelCls:Ext.baseCSSPrefix+"button-label",iconCls:null},config:{badgeText:null,text:null,icon:!1,iconAlign:"left",pressedDelay:0,handler:null,scope:null,autoEvent:null,ui:"normal",baseCls:Ext.baseCSSPrefix+"button"},template:[{tag:"span",reference:"badgeElement",hidden:!0},{tag:"span",className:Ext.baseCSSPrefix+"button-icon",reference:"iconElement"},{tag:"span",reference:"textElement",hidden:!0}],initialize:function(){this.callParent(),this.element.on({scope:this,tap:"onTap",touchstart:"onPress",touchend:"onRelease"})},updateBadgeText:function(t){var e=this.element,i=this.badgeElement;t?(i.show(),i.setText(t)):i.hide(),e[t?"addCls":"removeCls"](this.getHasBadgeCls())},updateText:function(t){var e=this.textElement;e&&(t?(e.show(),e.setHtml(t)):e.hide(),this.refreshIconAlign())},updateHtml:function(t){var e=this.textElement;t?(e.show(),e.setHtml(t)):e.hide()},updateBadgeCls:function(t,e){this.badgeElement.replaceCls(e,t)},updateHasBadgeCls:function(t,e){var i=this.element;i.hasCls(e)&&i.replaceCls(e,t)},updateLabelCls:function(t,e){this.textElement.replaceCls(e,t)},updatePressedCls:function(t,e){var i=this.element;i.hasCls(e)&&i.replaceCls(e,t)},updateIcon:function(t){var e=this,i=e.iconElement;t?(e.showIconElement(),i.setStyle("background-image","url("+t+")"),e.refreshIconAlign()):(i.setStyle("background-image",""),e.hideIconElement())},updateIconCls:function(t,e){var i=this,n=i.iconElement;t?(i.showIconElement(),n.replaceCls(e,t),i.refreshIconAlign()):(n.removeCls(e),i.hideIconElement())},updateIconAlign:function(t,e){var i=this.element,n=Ext.baseCSSPrefix+"iconalign-";this.getText()||(t="center"),i.removeCls(n+"center"),i.removeCls(n+e),(this.getIcon()||this.getIconCls())&&i.addCls(n+t)},refreshIconAlign:function(){this.updateIconAlign(this.getIconAlign())},applyAutoEvent:function(t){var e=this;return"string"==typeof t&&(t={name:t,scope:e.scope||e}),t},updateAutoEvent:function(t){var e=t.name,i=t.scope;this.setHandler(function(){i.fireEvent(e,i,this)}),this.setScope(i)},hideIconElement:function(){this.iconElement.removeCls(Ext.baseCSSPrefix+"shown"),this.iconElement.addCls(Ext.baseCSSPrefix+"hidden")},showIconElement:function(){this.iconElement.removeCls(Ext.baseCSSPrefix+"hidden"),this.iconElement.addCls(Ext.baseCSSPrefix+"shown")},applyUi:function(t){if(t&&Ext.isString(t)){var e=t.split("-");if(e&&("back"==e[1]||"forward"==e[1]))return e}return t},getUi:function(){var t=this._ui;return Ext.isArray(t)?t.join("-"):t},applyPressedDelay:function(t){return Ext.isNumber(t)?t:t?100:0},onPress:function(){var t=this,e=t.element,i=t.getPressedDelay(),n=t.getPressedCls();t.getDisabled()||(i>0?t.pressedTimeout=setTimeout(function(){delete t.pressedTimeout,e&&e.addCls(n)},i):e.addCls(n))},onRelease:function(t){this.fireAction("release",[this,t],"doRelease")},doRelease:function(t){t.getDisabled()||(t.hasOwnProperty("pressedTimeout")?(clearTimeout(t.pressedTimeout),delete t.pressedTimeout):t.element.removeCls(t.getPressedCls()))},onTap:function(t){return this.getDisabled()?!1:void this.fireAction("tap",[this,t],"doTap")},doTap:function(t,e){var i=t.getHandler(),n=t.getScope()||t;i&&("string"==typeof i&&(i=n[i]),e&&e.preventDefault&&e.preventDefault(),i.apply(n,arguments))}},function(){}),Ext.define("Ext.Sheet",{extend:Ext.Panel,xtype:"sheet",config:{baseCls:Ext.baseCSSPrefix+"sheet",modal:!0,centered:!0,stretchX:null,stretchY:null,enter:"bottom",exit:"bottom",showAnimation:Ext.browser.is.AndroidStock2?null:{type:"slideIn",duration:250,easing:"ease-out"},hideAnimation:Ext.browser.is.AndroidStock2?null:{type:"slideOut",duration:250,easing:"ease-in"}},isInputRegex:/^(input|textarea|select|a)$/i,beforeInitialize:function(){var t=this;Ext.os.is.iOS&&this.element.dom.addEventListener("touchstart",function(e){t.isInputRegex.test(e.target.tagName)||e.preventDefault()},!0)},platformConfig:[{theme:["Windows"],enter:"top",exit:"top"}],applyHideAnimation:function(t){var e=this.getExit(),i=e;if(null===e)return null;t===!0&&(t={type:"slideOut"}),Ext.isString(t)&&(t={type:t});var n=Ext.factory(t,Ext.fx.Animation);return n&&("bottom"==e&&(i="down"),"top"==e&&(i="up"),n.setDirection(i)),n},applyShowAnimation:function(t){var e=this.getEnter(),i=e;if(null===e)return null;t===!0&&(t={type:"slideIn"}),Ext.isString(t)&&(t={type:t});var n=Ext.factory(t,Ext.fx.Animation);return n&&("bottom"==e&&(i="down"),"top"==e&&(i="up"),n.setBefore({display:null}),n.setReverse(!0),n.setDirection(i)),n},updateStretchX:function(t){this.getLeft(),this.getRight(),t&&(this.setLeft(0),this.setRight(0))},updateStretchY:function(t){this.getTop(),this.getBottom(),t&&(this.setTop(0),this.setBottom(0))}}),Ext.define("Ext.ActionSheet",{extend:Ext.Sheet,alias:"widget.actionsheet",config:{baseCls:Ext.baseCSSPrefix+"sheet-action",left:0,right:0,bottom:0,centered:!1,height:"auto",defaultType:"button"},platformConfig:[{theme:["Windows"],top:0,bottom:null}]}),Ext.define("Ext.data.Connection",{mixins:{observable:Ext.mixin.Observable},statics:{requestId:0},config:{url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,disableCachingParam:"_dc",timeout:3e4,extraParams:null,defaultHeaders:null,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",autoAbort:!1},textAreaRe:/textarea/i,multiPartRe:/multipart\/form-data/i,lineBreakRe:/\r\n/g,constructor:function(t){this.initConfig(t),this.requests={}},request:function(t){t=t||{};var e,i,n,r,s,a=this,o=t.scope||window,l=t.username||a.getUsername(),u=t.password||a.getPassword()||"",h=t.xhr2===!0&&Ext.feature.has.XHR2;return Ext.isEmpty(l)||Ext.isEmpty(u,!0)||!Ext.isEmpty(t.withCredentials)||(t.withCredentials=!0),a.fireEvent("beforerequest",a,t)!==!1?(i=a.setOptions(t,o),this.isFormUpload(t)===!0?(this.upload(t.form,i.url,i.data,t),null):((t.autoAbort===!0||a.getAutoAbort())&&a.abort(),s=this.getXhrInstance(),e=t.async!==!1?t.async||a.getAsync():!1,l?s.open(i.method,i.url,e,l,u):s.open(i.method,i.url,e),r=a.setupHeaders(s,t,i.data,i.params),n={id:++Ext.data.Connection.requestId,xhr:s,headers:r,options:t,async:e,timeout:setTimeout(function(){n.timedout=!0,a.abort(n)},t.timeout||a.getTimeout())},a.requests[n.id]=n,e&&(s[h?"onload":"onreadystatechange"]=Ext.Function.bind(a.onStateChange,a,[n])),h&&(s.onerror=Ext.Function.bind(a.onStateChange,a,[n])),t.progress&&(s.onprogress=function(e){if(t.progress.isProgressable){if(0===e.total&&t.progress.getDynamic())return Ext.Logger.warn("Server is not configured to properly return Content-Length. Dynamic progress will be disabled"),t.progress.setState.call(t.progress,"download"),t.progress.setDynamic(!1),void(s.onprogress=null);Ext.callback(t.progress.updateProgress,t.progress,[e.loaded/e.total,"download"]),e.total>0&&!t.progress.getDynamic()&&t.progress.getInitialConfig().dynamic&&t.progress.setDynamic(!0)}else Ext.isFunction(t.progress)&&Ext.callback(t.progress,t.progressScope||n,[e,"download"])},Ext.feature.has.XHRUploadProgress&&(s.upload.onprogress=function(e){a.fireEvent("requestuploadprogress",a,n,e),t.progress.isProgressable?Ext.callback(t.progress.updateProgress,t.progress,[e.loaded/e.total,"upload"]):Ext.isFunction(t.progress)&&Ext.callback(t.progress,t.progressScope||n,[e,"upload"])}),t.progress.isProgressable&&(Ext.feature.has.XHRUploadProgress||t.progress.setDynamic(!1),Ext.callback(t.progress.startProgress,t.progress))),s.send(i.data),e?n:this.onComplete(n))):(Ext.callback(t.callback,t.scope,[t,void 0,void 0]),null)},upload:function(t,e,i,n){t=Ext.getDom(t),n=n||{};var r,s=Ext.id(),a=this,o=document.createElement("iframe"),l=[],u="multipart/form-data",h={target:t.target,method:t.method,encoding:t.encoding,enctype:t.enctype,action:t.action},c=function(e,i){r=document.createElement("input"),Ext.fly(r).set({type:"hidden",value:i,name:e}),t.appendChild(r),l.push(r)};Ext.fly(o).set({id:s,name:s,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(o),document.frames&&(document.frames[s].name=s),Ext.fly(t).set({target:s,method:"POST",enctype:u,encoding:u,action:e||h.action}),i&&Ext.iterate(Ext.Object.fromQueryString(i),function(t,e){Ext.isArray(e)?Ext.each(e,function(e){c(t,e)}):c(t,e)}),o.addEventListener("load",function(){Ext.callback(a.onUploadComplete,a,[o,n,s]),o.removeEventListener("load",arguments.callee)}),t.submit(),Ext.fly(t).set(h),Ext.each(l,function(t){Ext.removeNode(t)})},onUploadComplete:function(t,e,i){var n,r,s,a={responseText:"",responseXML:null,request:{options:e}};try{n=t.contentWindow&&t.contentWindow.document||t.contentDocument||window.frames[i].document,n&&(n.hasOwnProperty("body")&&n.body&&(r=n.body),r&&(s=r.firstChild||{},a.responseText=this.textAreaRe.test(s.tagName)?s.value:s.innerHTML,a.responseXML=r.XMLDocument))}catch(o){a.success=!1,a.message="Cross-Domain access is not permitted between frames. XHR2 is recommended for this type of request.",a.error=o}this.onAfterUploadComplete(a,t,e)},onAfterUploadComplete:function(t,e,i){var n=this;n.fireEvent("requestcomplete",n,t,i),Ext.callback(i.callback,i.scope,[i,!0,t]),setTimeout(function(){Ext.removeNode(e)},100)},isFormUpload:function(t){var e=this.getForm(t);return e?t.isUpload||this.multiPartRe.test(e.getAttribute("enctype")):!1},getForm:function(t){return Ext.getDom(t.form)||null},setOptions:function(t,e){var i,n,r,s=this,a=t.params||{},o=s.getExtraParams(),l=t.urlParams,u=t.url||s.getUrl(),h=t.jsonData;return Ext.isFunction(a)&&(a=a.call(e,t)),Ext.isFunction(u)&&(u=u.call(e,t)),u=this.setupUrl(t,u),u||Ext.Logger.error("No URL specified"),r=t.data||t.rawData||t.binaryData||t.xmlData||h||null,h&&!Ext.isPrimitive(h)&&(r=Ext.encode(r)),t.binaryData&&(Ext.isArray(t.binaryData)||t.binaryData instanceof Blob||Ext.Logger.warn("Binary submission data must be an array of byte values or a Blob! Instead got "+typeof t.binaryData),r instanceof Array&&(r=new Uint8Array(t.binaryData)),r instanceof Uint8Array&&(r=r.buffer)),Ext.isObject(a)&&(a=Ext.Object.toQueryString(a)),Ext.isObject(o)&&(o=Ext.Object.toQueryString(o)),a+=o?(a?"&":"")+o:"",l=Ext.isObject(l)?Ext.Object.toQueryString(l):l,a=this.setupParams(t,a),i=(t.method||s.getMethod()||(a||r?"POST":"GET")).toUpperCase(),this.setupMethod(t,i),n=t.disableCaching!==!1?t.disableCaching||s.getDisableCaching():!1,n&&(u=Ext.urlAppend(u,(t.disableCachingParam||s.getDisableCachingParam())+"="+(new Date).getTime())),("GET"==i||r)&&a&&(u=Ext.urlAppend(u,a),a=null),l&&(u=Ext.urlAppend(u,l)),{url:u,method:i,data:r||a||null}},setupUrl:function(t,e){var i=this.getForm(t);return i&&(e=e||i.action),e},setupParams:function(t,e){var i,n=this.getForm(t);return n&&!this.isFormUpload(t)&&(i=Ext.Element.serializeForm(n),e=e?e+"&"+i:i),e},setupMethod:function(t,e){return this.isFormUpload(t)?"POST":e},setupHeaders:function(t,e,i,n){var r,s,a=this,o=Ext.apply({},e.headers||{},a.getDefaultHeaders()||{}),l=a.getDefaultPostHeader(),u=e.jsonData,h=e.xmlData;o["Content-Type"]||!i&&!n||(i&&(e.rawData?l="text/plain":h&&Ext.isDefined(h)?l="text/xml":u&&Ext.isDefined(u)&&(l="application/json")),Ext.feature.has.XHR2&&i instanceof FormData||(o["Content-Type"]=l)),(a.getUseDefaultXhrHeader()&&e.useDefaultXhrHeader!==!1||e.useDefaultXhrHeader)&&!o["X-Requested-With"]&&(o["X-Requested-With"]=a.getDefaultXhrHeader()),Ext.isEmpty(e.username)||Ext.isEmpty(e.password)||(o.Authorization="Basic "+btoa(e.username+":"+e.password));try{for(r in o)o.hasOwnProperty(r)&&(s=o[r],t.setRequestHeader(r,s))}catch(c){a.fireEvent("exception",r,s)}if(e.responseType)try{t.responseType="blob"===e.responseType&&Ext.browser.is.Safari?"arraybuffer":e.responseType}catch(c){}return e.withCredentials&&(t.withCredentials=e.withCredentials),o},getXhrInstance:function(){for(var t,e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],i=0,n=e.length;n>i;++i)try{t=e[i],t();break}catch(r){}return t}(),isLoading:function(t){if(!t||!t.xhr)return!1;var e=t.xhr.readyState;return!(0===e||4==e)},abort:function(t){var e,i=this,n=i.requests;if(t&&i.isLoading(t))t.xhr.onreadystatechange=null,t.xhr.abort(),i.clearTimeout(t),t.timedout||(t.aborted=!0),i.onComplete(t),i.cleanup(t);else if(!t)for(e in n)n.hasOwnProperty(e)&&i.abort(n[e])},abortAll:function(){this.abort()},onStateChange:function(t){4==t.xhr.readyState&&(this.clearTimeout(t),this.onComplete(t),this.cleanup(t))},clearTimeout:function(t){clearTimeout(t.timeout),delete t.timeout},cleanup:function(t){t.xhr=null,delete t.xhr},onComplete:function(t){var e,i,n,r=this,s=t.options;try{e=r.parseStatus(t.xhr.status,t.xhr),t.timedout&&(e.success=!1)}catch(a){e={success:!1,isException:!1}}return i=e.success,i?(n=r.createResponse(t),r.fireEvent("requestcomplete",r,n,s),Ext.callback(s.success,s.scope,[n,s])):(n=e.isException||t.aborted||t.timedout?r.createException(t):r.createResponse(t),r.fireEvent("requestexception",r,n,s),Ext.callback(s.failure,s.scope,[n,s])),Ext.callback(s.callback,s.scope,[s,i,n]),s.progress&&s.progress.isProgressable&&Ext.callback(s.progress.endProgress,s.progress,[e]),delete r.requests[t.id],n},parseStatus:function(t,e){t=1223==t?204:t;var i=t>=200&&300>t||304==t||0==t&&e.responseText&&e.responseText.length>0,n=!1;if(!i)switch(t){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=!0}return{success:i,isException:n}},createResponse:function(t){var e,i,n,r,s,a,o=t.xhr,l={},u="blob"===o.responseType||"arraybuffer"===o.responseType,h="text"===o.responseType,c="document"===o.responseType;for(t.timedout||t.aborted?(t.success=!1,e=[]):e=o.getAllResponseHeaders().replace(this.lineBreakRe,"\n").split("\n"),i=e.length;i--;)n=e[i],r=n.indexOf(":"),r>=0&&(s=n.substr(0,r).toLowerCase()," "==n.charAt(r+1)&&++r,l[s]=n.substr(r+1));return t.xhr=null,delete t.xhr,a={request:t,requestId:t.id,status:o.status,statusText:o.statusText,getResponseHeader:function(t){return l[t.toLowerCase()]},getAllResponseHeaders:function(){return l},responseText:u?null:c?null:o.responseText,responseXML:u?null:h?null:o.responseXML,responseBytes:u?o.response:null},"blob"===t.options.responseType&&"arraybuffer"===o.responseType&&(a.responseBytes=new Blob([a.responseBytes],{type:o.getResponseHeader("Content-Type")})),o=null,a},createException:function(t){return{request:t,requestId:t.id,status:t.aborted?-1:0,statusText:t.aborted?"transaction aborted":"communication failure",aborted:t.aborted,timedout:t.timedout}}}),Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:!0,autoAbort:!1}),Ext.define("Ext.Anim",{isAnim:!0,disableAnimations:!1,defaultConfig:{from:{},to:{},duration:250,delay:0,easing:"ease-in-out",autoClear:!0,out:!0,direction:null,reverse:!1},opposites:{left:"right",right:"left",up:"down",down:"up"},constructor:function(t){t=Ext.apply({},t||{},this.defaultConfig),this.config=t,this.callSuper([t]),this.running=[]},initConfig:function(t,e){var i=this,n=Ext.apply({},e||{},i.config);return n.el=t=Ext.get(t),n.reverse&&i.opposites[n.direction]&&(n.direction=i.opposites[n.direction]),i.config.before&&i.config.before.call(n,t,n),e.before&&e.before.call(n.scope||n,t,n),n},run:function(t,e){t=Ext.get(t),e=e||{};var i,n=this,r=t.dom.style,s=e.after;if(n.running[t.id]&&n.onTransitionEnd(null,t,{config:e,after:s}),e=this.initConfig(t,e),this.disableAnimations){for(i in e.to)e.to.hasOwnProperty(i)&&(r[i]=e.to[i]);return this.onTransitionEnd(null,t,{config:e,after:s}),n}t.un("transitionend",n.onTransitionEnd,n),r.webkitTransitionDuration="0ms";for(i in e.from)e.from.hasOwnProperty(i)&&(r[i]=e.from[i]);return setTimeout(function(){if(t.dom){e.is3d===!0&&t.parent().setStyle({"-webkit-perspective":"1200","-webkit-transform-style":"preserve-3d"}),r.webkitTransitionDuration=e.duration+"ms",r.webkitTransitionProperty="all",r.webkitTransitionTimingFunction=e.easing,t.on("transitionend",n.onTransitionEnd,n,{single:!0,config:e,after:s});for(i in e.to)e.to.hasOwnProperty(i)&&(r[i]=e.to[i])}},e.delay||5),n.running[t.id]=e,n},onTransitionEnd:function(t,e,i){if(e=Ext.get(e),void 0!==this.running[e.id]){var n,r=e.dom.style,s=i.config,a=this;if(s.autoClear)for(n in s.to)s.to.hasOwnProperty(n)&&s[n]!==!1&&(r[n]="");r.webkitTransitionDuration=null,r.webkitTransitionProperty=null,r.webkitTransitionTimingFunction=null,s.is3d&&e.parent().setStyle({"-webkit-perspective":"","-webkit-transform-style":""}),a.config.after&&a.config.after.call(s,e,s),i.after&&i.after.call(s.scope||a,e,s),delete a.running[e.id]}}},function(){Ext.Anim.seed=1e3,Ext.Anim.run=function(t,e,i){if(t=t.isComponent?t.element:Ext.get(t),i=i||{},e.isAnim)e.run(t,i);else{if(Ext.isObject(e)&&(i.before&&e.before&&(i.before=Ext.createInterceptor(i.before,e.before,e.scope)),i.after&&e.after&&(i.after=Ext.createInterceptor(i.after,e.after,e.scope)),i=Ext.apply({},i,e),e=e.type),!Ext.anims[e])throw e+" is not a valid animation type.";t&&t.dom&&Ext.anims[e].run(t,i)}},Ext.anims={fade:new Ext.Anim({type:"fade",before:function(t){var e=1,i=1,n="auto"==t.getStyle("z-index")?0:t.getStyle("z-index"),r=n;this.out?i=0:(r=Math.abs(n)+1,e=0),this.from={opacity:e,"z-index":r},this.to={opacity:i,"z-index":r}}}),slide:new Ext.Anim({direction:"left",cover:!1,reveal:!1,opacity:!1,"z-index":!1,before:function(t){var e="auto"==t.getStyle("z-index")?0:t.getStyle("z-index"),i=t.getStyle("opacity"),n=e+1,r=this.out,s=this.direction,a=0,o=0,l=0,u=0,h=t.getHeight(),c=t.getWidth();"left"==s||"right"==s?r?a=-c:l=c:("up"==s||"down"==s)&&(r?o=-h:u=h),("right"==s||"down"==s)&&(o*=-1,a*=-1,u*=-1,l*=-1),this.cover&&r?(a=0,o=0,n=e):this.reveal&&!r&&(l=0,u=0,n=e),this.from={"-webkit-transform":"translate3d("+l+"px, "+u+"px, 0)","z-index":n,opacity:i-.01},this.to={"-webkit-transform":"translate3d("+a+"px, "+o+"px, 0)","z-index":n,opacity:i}}}),pop:new Ext.Anim({scaleOnExit:!0,before:function(t){var e=1,i=1,n=1,r=1,s="auto"==t.getStyle("z-index")?0:t.getStyle("z-index"),a=s,o=s;this.out?this.scaleOnExit?(i=.01,r=0):r=.8:(e=.01,a=s+1,o=s+1,n=0),this.from={"-webkit-transform":"scale("+e+")","-webkit-transform-origin":"50% 50%",opacity:n,"z-index":a},this.to={"-webkit-transform":"scale("+i+")","-webkit-transform-origin":"50% 50%",opacity:r,"z-index":o}}}),flip:new Ext.Anim({is3d:!0,direction:"left",before:function(){var t="Y",e=1,i=1,n=0,r=0;this.out?(r=-180,i=.8):(n=180,e=.8),("up"==this.direction||"down"==this.direction)&&(t="X"),("right"==this.direction||"left"==this.direction)&&(r*=-1,n*=-1),this.from={"-webkit-transform":"rotate"+t+"("+n+"deg) scale("+e+")","-webkit-backface-visibility":"hidden"},this.to={"-webkit-transform":"rotate"+t+"("+r+"deg) scale("+i+")","-webkit-backface-visibility":"hidden"}}}),cube:new Ext.Anim({is3d:!0,direction:"left",style:"outer",before:function(t){var e="0% 0%",i=0,n=0,r="Y",s=0,a=0,o=t.getWidth(),l=t.getHeight(),u=!0,h=" translateX(0)",c="";"left"==this.direction||"right"==this.direction?this.out?(e="100% 100%",a=o,n=-90):(e="0% 0%",s=o,i=90):("up"==this.direction||"down"==this.direction)&&(r="X",this.out?(e="100% 100%",a=l,n=90):(e="0% 0%",s=l,i=-90)),("down"==this.direction||"right"==this.direction)&&(i*=-1,n*=-1,e="0% 0%"==e?"100% 100%":"0% 0%"),"inner"==this.style&&(s*=-1,a*=-1,i*=-1,n*=-1,this.out?(c=h,e="100% 50%"):(c=" translateX(0px)",e="0% 50%")),this.from={"-webkit-transform":"rotate"+r+"("+i+"deg)"+(u?" translateZ("+s+"px)":"")+h,"-webkit-transform-origin":e},this.to={"-webkit-transform":"rotate"+r+"("+n+"deg) translateZ("+a+"px)"+c,"-webkit-transform-origin":e}},duration:250}),wipe:new Ext.Anim({before:function(t){var e,i=t.getStyle("z-index"),n="";this.out||(e=i+1,n="-webkit-gradient(linear, left bottom, right bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",this.from={"-webkit-mask-image":n,"-webkit-mask-size":3*t.getWidth()+"px "+t.getHeight()+"px","z-index":e,"-webkit-mask-position-x":0},this.to={"-webkit-mask-image":n,"-webkit-mask-size":3*t.getWidth()+"px "+t.getHeight()+"px","z-index":e,"-webkit-mask-position-x":2*-t.getWidth()+"px"})},duration:500})}}),Ext.define("Ext.Media",{extend:Ext.Component,xtype:"media",config:{url:"",enableControls:Ext.os.is.Android?!1:!0,autoResume:!1,autoPause:!0,preload:!0,loop:!1,media:null,volume:1,muted:!1},constructor:function(){this.mediaEvents={},this.callSuper(arguments)},initialize:function(){var t=this;t.callParent(),t.on({scope:t,activate:t.onActivate,deactivate:t.onDeactivate}),t.addMediaListener({canplay:"onCanPlay",play:"onPlay",pause:"onPause",ended:"onEnd",volumechange:"onVolumeChange",timeupdate:"onTimeUpdate"})},addMediaListener:function(t){var e=this,i=e.media.dom,n=Ext.Function.bind;Ext.Object.each(t,function(t,r){r=n(e[r],e),e.mediaEvents[t]=r,i.addEventListener(t,r)})},onPlay:function(){this.fireEvent("play",this)},onCanPlay:function(){this.fireEvent("canplay",this)},onPause:function(){this.fireEvent("pause",this,this.getCurrentTime())},onEnd:function(){this.fireEvent("ended",this,this.getCurrentTime())},onVolumeChange:function(){this.fireEvent("volumechange",this,this.media.dom.volume)},onTimeUpdate:function(){this.fireEvent("timeupdate",this,this.getCurrentTime())},isPlaying:function(){return!Boolean(this.media.dom.paused)},onActivate:function(){var t=this;t.getAutoResume()&&!t.isPlaying()&&t.play()},onDeactivate:function(){var t=this;t.getAutoPause()&&t.isPlaying()&&t.pause()},updateUrl:function(t){var e=this.media.dom;e.src=t,"load"in e&&e.load(),this.isPlaying()&&this.play()},updateEnableControls:function(t){this.media.dom.controls=t?"controls":!1},updateLoop:function(t){this.media.dom.loop=t?"loop":!1},play:function(){var t=this.media.dom;"play"in t&&(t.play(),setTimeout(function(){t.play()},10))},pause:function(){var t=this.media.dom;"pause"in t&&t.pause()},toggle:function(){this.isPlaying()?this.pause():this.play()},stop:function(){var t=this;
t.setCurrentTime(0),t.fireEvent("stop",t),t.pause()},updateVolume:function(t){this.media.dom.volume=t},updateMuted:function(t){this.fireEvent("mutedchange",this,t),this.media.dom.muted=t},getCurrentTime:function(){return this.media.dom.currentTime},setCurrentTime:function(t){return this.media.dom.currentTime=t,t},getDuration:function(){return this.media.dom.duration},destroy:function(){var t=this,e=t.media.dom,i=t.mediaEvents;Ext.Object.each(i,function(t,i){e.removeEventListener(t,i)}),this.callSuper()}}),Ext.define("Ext.Audio",{extend:Ext.Media,xtype:"audio",config:{cls:Ext.baseCSSPrefix+"audio"},onActivate:function(){var t=this;t.callParent(),Ext.os.is.Phone&&t.element.show()},onDeactivate:function(){var t=this;t.callParent(),Ext.os.is.Phone&&t.element.hide()},template:[{reference:"media",preload:"auto",tag:"audio",cls:Ext.baseCSSPrefix+"component"}]}),Ext.define("Ext.util.Geolocation",{extend:Ext.Evented,alternateClassName:["Ext.util.GeoLocation"],config:{autoUpdate:!0,frequency:1e4,latitude:null,longitude:null,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,speed:null,timestamp:null,allowHighAccuracy:!1,timeout:1/0,maximumAge:0,provider:void 0},updateMaximumAge:function(){this.watchOperation&&this.updateWatchOperation()},updateTimeout:function(){this.watchOperation&&this.updateWatchOperation()},updateAllowHighAccuracy:function(){this.watchOperation&&this.updateWatchOperation()},applyProvider:function(t){return Ext.feature.has.Geolocation?t||(navigator&&navigator.geolocation?t=navigator.geolocation:window.google&&(t=google.gears.factory.create("beta.geolocation"))):this.fireEvent("locationerror",this,!1,!1,!0,"This device does not support Geolocation."),t},updateAutoUpdate:function(t,e){var i=this,n=i.getProvider();if(e&&n&&(clearInterval(i.watchOperationId),i.watchOperationId=null),t){if(!n)return void i.fireEvent("locationerror",i,!1,!1,!0,null);try{i.updateWatchOperation()}catch(r){i.fireEvent("locationerror",i,!1,!1,!0,r.message)}}},updateWatchOperation:function(){function t(){i.getCurrentPosition(Ext.bind(e.fireUpdate,e),Ext.bind(e.fireError,e),e.parseOptions())}var e=this,i=e.getProvider();e.watchOperationId&&clearInterval(e.watchOperationId),t(),e.watchOperationId=setInterval(t,this.getFrequency())},updateLocation:function(t,e,i){var n=this,r=n.getProvider(),s=function(i,r){r?n.fireError(r):n.fireEvent("locationerror",n,!1,!1,!0,i),t&&t.call(e||n,null,n)};if(!r)return void s(null);try{r.getCurrentPosition(function(i){n.fireUpdate(i),t&&t.call(e||n,n,n)},function(t){s(null,t)},i||n.parseOptions())}catch(a){s(a.message)}},fireUpdate:function(t){var e=this,i=t.coords;this.position=t,e.setConfig({timestamp:t.timestamp,latitude:i.latitude,longitude:i.longitude,accuracy:i.accuracy,altitude:i.altitude,altitudeAccuracy:i.altitudeAccuracy,heading:i.heading,speed:i.speed}),e.fireEvent("locationupdate",e)},fireError:function(t){var e=t.code;this.fireEvent("locationerror",this,e==t.TIMEOUT,e==t.PERMISSION_DENIED,e==t.POSITION_UNAVAILABLE,void 0==t.message?null:t.message)},parseOptions:function(){var t=this.getTimeout(),e={maximumAge:this.getMaximumAge(),enableHighAccuracy:this.getAllowHighAccuracy()};return 1/0!==t&&(e.timeout=t),e},destroy:function(){this.setAutoUpdate(!1)}}),Ext.define("Ext.Map",{extend:Ext.Container,xtype:"map",isMap:!0,config:{baseCls:Ext.baseCSSPrefix+"map",useCurrentLocation:!1,map:null,geo:null,mapOptions:{},mapListeners:null},constructor:function(){this.callParent(arguments),(window.google||{}).maps||this.setHtml("Google Maps API is required")},initialize:function(){this.callParent(),this.initMap(),this.on({painted:"doResize",scope:this}),this.innerElement.on("touchstart","onTouchStart",this)},initMap:function(){var t=this.getMap();if(!t){var e=(window.google||{}).maps;if(!e)return null;var i=this.mapContainer,n=this.getMapOptions(),r=e.event,s=this;i.dom.firstChild&&Ext.fly(i.dom.firstChild).destroy(),Ext.os.is.iPad&&Ext.merge({navigationControlOptions:{style:e.NavigationControlStyle.ZOOM_PAN}},n),n.mapTypeId=n.mapTypeId||e.MapTypeId.ROADMAP,n.center=n.center||new e.LatLng(37.381592,-122.135672),n.center&&n.center.latitude&&!Ext.isFunction(n.center.lat)&&(n.center=new e.LatLng(n.center.latitude,n.center.longitude)),n.zoom=n.zoom||12,t=new e.Map(i.dom,n),this.setMap(t),r.addListener(t,"zoom_changed",Ext.bind(s.onZoomChange,s)),r.addListener(t,"maptypeid_changed",Ext.bind(s.onTypeChange,s)),r.addListener(t,"center_changed",Ext.bind(s.onCenterChange,s)),r.addListenerOnce(t,"tilesloaded",Ext.bind(s.onTilesLoaded,s)),this.addMapListeners()}return this.getMap()},renderMap:function(){this.initMap()},getElementConfig:function(){return{reference:"element",className:"x-container",children:[{reference:"innerElement",className:"x-inner",children:[{reference:"mapContainer",className:Ext.baseCSSPrefix+"map-container"}]}]}},onTouchStart:function(t){t.makeUnpreventable()},applyMapOptions:function(t){return Ext.merge({},this.options,t)},updateMapOptions:function(t){var e=(window.google||{}).maps,i=this.getMap();e&&i&&i.setOptions(t)},doMapCenter:function(){this.setMapCenter(this.getMapOptions().center)},getMapOptions:function(){return Ext.merge({},this.options||this.getInitialConfig("mapOptions"))},updateUseCurrentLocation:function(t){this.setGeo(t),t||this.setMapCenter()},applyGeo:function(t){return Ext.factory(t,Ext.util.Geolocation,this.getGeo())},updateGeo:function(t,e){var i={locationupdate:"onGeoUpdate",locationerror:"onGeoError",scope:this};e&&e.un(i),t&&(t.on(i),t.updateLocation())},doResize:function(){var t=(window.google||{}).maps,e=this.getMap();t&&e&&t.event.trigger(e,"resize")},onTilesLoaded:function(){this.fireEvent("maprender",this,this.getMap())},addMapListeners:function(){var t=(window.google||{}).maps,e=this.getMap(),i=this.getMapListeners();if(t){var n,r,s,a,o,l=t.event,u=this;if(Ext.isSimpleObject(i))for(var h in i)n=i[h],Ext.isSimpleObject(n)?(r=n.scope,s=n.fn):Ext.isFunction(n)&&(r=null,s=n),s&&(a=function(){this.fn.apply(this.scope,[u]),this.handle&&(l.removeListener(this.handle),delete this.handle,delete this.fn,delete this.scope)},o=l.addListener(e,h,Ext.bind(a,a)),a.fn=s,a.scope=r,n.single===!0&&(a.handle=o))}},onGeoUpdate:function(t){t&&this.setMapCenter(new google.maps.LatLng(t.getLatitude(),t.getLongitude()))},onGeoError:Ext.emptyFn,setMapCenter:function(t){var e=this,i=e.getMap(),n=e.getMapOptions(),r=(window.google||{}).maps;r&&(t||(t=i&&i.getCenter?i.getCenter():n.hasOwnProperty("center")?n.center:new r.LatLng(37.381592,-122.135672)),t&&!(t instanceof r.LatLng)&&"longitude"in t&&(t=new r.LatLng(t.latitude,t.longitude)),i||(n.center=n.center||t,e.renderMap(),i=e.getMap()),i&&t instanceof r.LatLng?i.panTo(t):this.options=Ext.apply(this.getMapOptions(),{center:t}))},onZoomChange:function(){var t,e=this.getMapOptions(),i=this.getMap();t=i&&i.getZoom?i.getZoom():e.zoom||10,this.options=Ext.apply(e,{zoom:t}),this.fireEvent("zoomchange",this,i,t)},onTypeChange:function(){var t,e=this.getMapOptions(),i=this.getMap();t=i&&i.getMapTypeId?i.getMapTypeId():e.mapTypeId,this.options=Ext.apply(e,{mapTypeId:t}),this.fireEvent("typechange",this,i,t)},onCenterChange:function(){var t,e=this.getMapOptions(),i=this.getMap();t=i&&i.getCenter?i.getCenter():e.center,this.options=Ext.apply(e,{center:t}),this.fireEvent("centerchange",this,i,t)},destroy:function(){Ext.destroy(this.getGeo());var t=this.getMap();t&&(window.google||{}).maps&&google.maps.event.clearInstanceListeners(t),this.callParent()}},function(){}),Ext.define("Ext.BingMap",{extend:Ext.Map,xtype:"bingmap",initMap:function(){var t=this.getMap();if(!t){var e=this,i=e.mapContainer,n=e.getMapOptions(),r=Microsoft.Maps,s="AokX-S2lieXTaXG8pvEw3i2AKYuStBMK8RsUu6BDJ6hrL5AYv0IfQqM9zc-BAA-v";n=Ext.merge({credentials:s,mapTypeId:"r",zoom:12},n),n.center||(n.center=new r.Location(37.381592,-122.135672)),i.dom.firstChild&&Ext.fly(i.dom.firstChild).destroy(),r.loadModule("Microsoft.Maps.Overlays.Style",{callback:function(){e.setMap(new r.Map(i.dom,n)),n.callback&&n.callback()}}),t=e.getMap()}e.fireEvent("maprender",e,t)},setMapCenter:function(t){var e=this,i=e.getMap(),n=Microsoft.Maps;return e.isPainted()?(t=t||new n.Location(37.381592,-122.135672),t&&!(t instanceof n.Location)&&"longitude"in t&&(t=new n.Location(t.latitude,t.longitude)),i||(e.initMap(),i=e.getMap()),void(i&&t instanceof n.Location?i.updateMapPosition(t):this.options=Ext.apply(this.getMapOptions(),{center:t}))):(e.un("painted","setMapCenter",this),void e.on("painted","setMapCenter",this,{delay:150,single:!0,args:[t]}))}},function(){}),Ext.define("Ext.ComponentQuery",{singleton:!0},function(){var t=this,e=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),i=function(t,e){return e.method.apply(this,[t].concat(e.args))},n=function(t,e){for(var i,n=[],r=0,s=t.length,a=">"!==e;s>r;r++)i=t[r],i.getRefItems&&(n=n.concat(i.getRefItems(a)));return n},r=function(t){for(var e,i=[],n=0,r=t.length;r>n;n++)for(e=t[n];e=e.ownerCt||e.floatParent;)i.push(e);return i},s=function(t,e,i){if("*"===e)return t.slice();for(var n,r=[],s=0,a=t.length;a>s;s++)n=t[s],n.isXType(e,i)&&r.push(n);return r},a=function(t,e){for(var i,n=Ext.Array,r=[],s=0,a=t.length;a>s;s++)i=t[s],(i.el?i.el.hasCls(e):n.contains(i.initCls(),e))&&r.push(i);return r},o=function(t,e,i,n){for(var r,s,a,o=[],l=0,u=t.length;u>l;l++)if(r=t[l],s=Ext.Class.getConfigNameMap(e).get,"~="===i){if(a=null,r[s]?a=r[s]():r.config&&r.config[e]?a=String(r.config[e]):r[e]&&(a=String(r[e])),a){Ext.isArray(a)||(a=a.split(" "));for(var h,c=0,d=a.length;d>c;c++)h=String(a[c]).split(" "),-1!==Ext.Array.indexOf(h,n)&&o.push(r)}}else r[s]?(a=r[s](),(n?String(a)!==n:!a)||o.push(r)):r.config&&r.config[e]?(n?String(r.config[e])!==n:!r.config[e])||o.push(r):(n?String(r[e])!==n:!r[e])||o.push(r);return o},l=function(t,e){for(var i,n=[],r=0,s=t.length;s>r;r++)i=t[r],(i.getId()===e||i.getItemId()===e)&&n.push(i);return n},u=function(e,i,n){return t.pseudos[i](e,n)},h=/^(\s?([>\^])\s?|\s|$)/,c=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,d=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:s},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:o},{re:/^#([\w\-]+)/,method:l},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:u},{re:/^(?:\{([^\}]+)\})/,method:e}];t.Query=Ext.extend(Object,{constructor:function(t){t=t||{},Ext.apply(this,t)},execute:function(t){var e,s,a=this.operations,o=0,l=a.length;for(t?Ext.isArray(t)&&(s=t):s=Ext.ComponentManager.all.getArray();l>o;o++)if(e=a[o],s="^"===e.mode?r(s||[t]):e.mode?n(s||[t],e.mode):i(s||n([t]),e),o===l-1)return s;return[]},is:function(t){var e,n,r=this.operations,s=Ext.isArray(t)?t:[t],a=s.length,o=r[r.length-1];if(s=i(s,o),s.length===a){if(r.length>1)for(n=0,e=s.length;e>n;n++)if(-1===Ext.Array.indexOf(this.execute(),s[n]))return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(t,e){for(var i,n=Ext.ComponentQuery,r=0,s=t.length,a=[],o=-1;s>r;++r)i=t[r],n.is(i,e)||(a[++o]=i);return a}},query:function(t,e){for(var i,n,r,s=t.split(","),a=s.length,o=0,l=[],u=[],h={};a>o;o++)t=Ext.String.trim(s[o]),i=this.parse(t),l=l.concat(i.execute(e));if(a>1){for(n=l.length,o=0;n>o;o++)r=l[o],h[r.id]||(u.push(r),h[r.id]=!0);l=u}return l},is:function(t,e){if(!e)return!0;var i=this.cache[e];return i||(this.cache[e]=i=this.parse(e)),i.is(t)},parse:function(e){for(var i,n,r,o,u,f,g,p,m=[],x=d.length;e&&i!==e;){for(i=e,n=e.match(c),n&&(r=n[1],m.push("#"===r?{method:l,args:[Ext.String.trim(n[2])]}:"."===r?{method:a,args:[Ext.String.trim(n[2])]}:{method:s,args:[Ext.String.trim(n[2]),Boolean(n[3])]}),e=e.replace(n[0],""));!(o=e.match(h));)for(f=0;e&&x>f;f++){if(g=d[f],u=e.match(g.re),p=g.method,u){m.push({method:Ext.isString(g.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[p].concat(u.slice(1)))):g.method,args:u.slice(1)}),e=e.replace(u[0],"");break}f===x-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}o[1]&&(m.push({mode:o[2]||o[1]}),e=e.replace(o[0],""))}return new t.Query({operations:m})}})}),Ext.define("Ext.Decorator",{extend:Ext.Component,isDecorator:!0,config:{component:{}},statics:{generateProxySetter:function(t){return function(e){var i=this.getComponent();return i[t].call(i,e),this}},generateProxyGetter:function(t){return function(){var e=this.getComponent();return e[t].call(e)}}},onClassExtended:function(t,e){if(e.hasOwnProperty("proxyConfig")){var i=Ext.Class,n=e.proxyConfig,r=e.config;e.config=r?Ext.applyIf(r,n):n;var s,a,o,l;for(s in n)n.hasOwnProperty(s)&&(a=i.getConfigNameMap(s),o=a.set,l=a.get,e[o]=this.generateProxySetter(o),e[l]=this.generateProxyGetter(l))}},applyComponent:function(t){return Ext.factory(t,Ext.Component)},updateComponent:function(t,e){e&&(this.isRendered()&&e.setRendered(!1)?e.fireAction("renderedchange",[this,e,!1],"doUnsetComponent",this,{args:[e]}):this.doUnsetComponent(e)),t&&(this.isRendered()&&t.setRendered(!0)?t.fireAction("renderedchange",[this,t,!0],"doSetComponent",this,{args:[t]}):this.doSetComponent(t))},doUnsetComponent:function(t){t.renderElement.dom&&(t.setLayoutSizeFlags(0),this.innerElement.dom.removeChild(t.renderElement.dom))},doSetComponent:function(t){t.renderElement.dom&&(t.setLayoutSizeFlags(this.getSizeFlags()),this.innerElement.dom.appendChild(t.renderElement.dom))},setRendered:function(t){var e;return this.callParent(arguments)?(e=this.getComponent(),e&&e.setRendered(t),!0):!1},setDisabled:function(t){this.callParent(arguments),this.getComponent().setDisabled(t)},destroy:function(){Ext.destroy(this.getComponent()),this.callParent()}}),Ext.define("Ext.Img",{extend:Ext.Component,xtype:["image","img"],config:{src:null,baseCls:Ext.baseCSSPrefix+"img",imageCls:Ext.baseCSSPrefix+"img-image",backgroundCls:Ext.baseCSSPrefix+"img-background",mode:"background"},beforeInitialize:function(){var t=this;t.onLoad=Ext.Function.bind(t.onLoad,t),t.onError=Ext.Function.bind(t.onError,t)},initialize:function(){var t=this;t.callParent(),t.relayEvents(t.renderElement,"*"),t.element.on({tap:"onTap",scope:t})},hide:function(){this.callParent(arguments),this.hiddenSrc=this.hiddenSrc||this.getSrc(),this.setSrc(null)},show:function(){this.callParent(arguments),this.hiddenSrc&&(this.setSrc(this.hiddenSrc),delete this.hiddenSrc)},updateMode:function(t){var e=this,i=e.getImageCls(),n=e.getBackgroundCls();"background"===t?(e.imageElement&&(e.imageElement.destroy(),delete e.imageElement,e.updateSrc(e.getSrc())),e.replaceCls(i,n)):(e.imageElement=e.element.createChild({tag:"img"}),e.replaceCls(n,i))},updateImageCls:function(t,e){this.replaceCls(e,t)},updateBackgroundCls:function(t,e){this.replaceCls(e,t)},onTap:function(t){this.fireEvent("tap",this,t)},onAfterRender:function(){this.updateSrc(this.getSrc())},updateSrc:function(t){var e,i=this;e="background"===i.getMode()?this.imageObject||new Image:i.imageElement.dom,this.imageObject=e,e.setAttribute("src",Ext.isString(t)?t:""),e.addEventListener("load",i.onLoad,!1),e.addEventListener("error",i.onError,!1)},detachListeners:function(){var t=this.imageObject;t&&(t.removeEventListener("load",this.onLoad,!1),t.removeEventListener("error",this.onError,!1))},onLoad:function(t){this.detachListeners(),"background"===this.getMode()&&(this.element.dom.style.backgroundImage='url("'+this.imageObject.src+'")'),this.fireEvent("load",this,t)},onError:function(t){this.detachListeners(),"background"===this.getMode()&&(this.element.dom.style.backgroundImage='url("'+this.imageObject.src+'")'),this.fireEvent("error",this,t)},doSetWidth:function(t){var e="background"===this.getMode()?this.element:this.imageElement;e.setWidth(t),this.callParent(arguments)},doSetHeight:function(t){var e="background"===this.getMode()?this.element:this.imageElement;e.setHeight(t),this.callParent(arguments)},destroy:function(){this.detachListeners(),Ext.destroy(this.imageObject,this.imageElement),delete this.imageObject,delete this.imageElement,this.callParent()}}),Ext.define("Ext.Label",{extend:Ext.Component,xtype:"label",config:{baseCls:Ext.baseCSSPrefix+"label"}}),Ext.define("Ext.LoadMask",{extend:Ext.Mask,xtype:"loadmask",config:{message:"Loading...",cls:Ext.baseCSSPrefix+"loading-mask",messageCls:Ext.baseCSSPrefix+"mask-message",indicator:!0},getTemplate:function(){var t=Ext.baseCSSPrefix;return[{reference:"innerElement",cls:t+"mask-inner",children:[{reference:"indicatorElement",cls:t+"loading-spinner-outer",children:[{cls:t+"loading-spinner",children:[{tag:"span",cls:t+"loading-top"},{tag:"span",cls:t+"loading-right"},{tag:"span",cls:t+"loading-bottom"},{tag:"span",cls:t+"loading-left"}]}]},{reference:"messageElement"}]}]},updateMessage:function(t){var e=Ext.baseCSSPrefix+"has-message";t?this.addCls(e):this.removeCls(e),this.messageElement.setHtml(t)},updateMessageCls:function(t,e){this.messageElement.replaceCls(e,t)},updateIndicator:function(t){this[t?"removeCls":"addCls"](Ext.baseCSSPrefix+"indicator-hidden")}},function(){}),Ext.define("Ext.Menu",{extend:Ext.Sheet,xtype:"menu",config:{baseCls:Ext.baseCSSPrefix+"menu",left:0,right:0,bottom:0,height:"auto",width:"auto",defaultType:"button",showAnimation:null,hideAnimation:null,centered:!1,modal:!0,hidden:!0,hideOnMaskTap:!0,translatable:{translationMethod:null}},constructor:function(){this.config.translatable.translationMethod=Ext.browser.is.AndroidStock2?"cssposition":"csstransform",this.callParent(arguments)},platformConfig:[{theme:["Windows"]},{theme:["Blackberry"],ui:"context",layout:{pack:"center"}}],updateUi:function(t,e){this.callParent(arguments),t!=e&&Ext.theme.is.Blackberry&&("context"==t?this.innerElement.swapCls("x-vertical","x-horizontal"):"application"==t&&this.innerElement.swapCls("x-horizontal","x-vertical"))},updateHideOnMaskTap:function(t){var e=this.getModal();e&&e[t?"on":"un"].call(e,"tap",function(){Ext.Viewport.hideMenu(this.$side)},this)},doSetHidden:function(){this.initialized&&this.callParent(arguments)}}),Ext.define("Ext.Title",{extend:Ext.Component,xtype:"title",config:{baseCls:"x-title",title:""},updateTitle:function(t){this.setHtml(t)}}),Ext.define("Ext.Spacer",{extend:Ext.Component,alias:"widget.spacer",config:{},constructor:function(t){t=t||{},t.width||(t.flex=1),this.callParent([t])}}),Ext.define("Ext.Toolbar",{extend:Ext.Container,xtype:"toolbar",isToolbar:!0,config:{baseCls:Ext.baseCSSPrefix+"toolbar",ui:"dark",title:null,defaultType:"button",minHeight:null,layout:{type:"hbox",align:"center"}},hasCSSMinHeight:!0,constructor:function(t){t=t||{},("left"==t.docked||"right"==t.docked)&&(t.layout={type:"vbox",align:"stretch"}),this.callParent([t])},applyTitle:function(t){return"string"==typeof t&&(t={title:t,centered:Ext.theme.is.Tizen?!1:!0}),Ext.factory(t,Ext.Title,this.getTitle())},updateTitle:function(t,e){t&&this.add(t),e&&e.destroy()},showTitle:function(){var t=this.getTitle();t&&t.show()},hideTitle:function(){var t=this.getTitle();t&&t.hide()}},function(){}),Ext.define("Ext.field.Input",{extend:Ext.Component,xtype:"input",tag:"input",cachedConfig:{cls:Ext.baseCSSPrefix+"form-field",focusCls:Ext.baseCSSPrefix+"field-focus",maskCls:Ext.baseCSSPrefix+"field-mask",useMask:"auto",type:"text",checked:!1},config:{baseCls:Ext.baseCSSPrefix+"field-input",name:null,value:null,isFocused:!1,tabIndex:null,placeHolder:null,minValue:null,maxValue:null,stepValue:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,maxRows:null,pattern:null,startValue:!1,fastFocus:!0},getTemplate:function(){var t=[{reference:"input",tag:this.tag},{reference:"mask",classList:[this.config.maskCls]},{reference:"clearIcon",cls:"x-clear-icon"}];return t},initElement:function(){var t=this;t.callParent(),t.input.on({scope:t,keyup:"onKeyUp",keydown:"onKeyDown",focus:"onFocus",blur:"onBlur",input:"onInput",paste:"onPaste",tap:"onInputTap"}),Ext.browser.is.AndroidStock&&(t.input.dom.addEventListener("mousedown",function(t){document.activeElement!=t.target&&t.preventDefault()}),t.input.dom.addEventListener("touchend",function(){t.focus()})),t.mask.on({scope:t,tap:"onMaskTap"}),t.clearIcon&&t.clearIcon.on({tap:"onClearIconTap",touchstart:"onClearIconPress",touchend:"onClearIconRelease",scope:t}),Ext.browser.is.ie&&Ext.browser.version.major>=10&&t.input.on({scope:t,keypress:"onKeyPress"})},updateFastFocus:function(t){t?this.getFastFocus()&&Ext.os.is.iOS&&this.input.on({scope:this,touchstart:"onTouchStart"}):this.input.un({scope:this,touchstart:"onTouchStart"})},useManualMaxLength:function(){return Boolean(Ext.os.is.Android&&!Ext.browser.is.Chrome)},applyUseMask:function(t){return"auto"===t&&(t=Ext.os.is.iOS&&Ext.os.version.lt("5")),Boolean(t)},updateUseMask:function(t){this.mask[t?"show":"hide"]()},updatePattern:function(t){this.updateFieldAttribute("pattern",t)},updateFieldAttribute:function(t,e){var i=this.input;Ext.isEmpty(e,!0)?i.dom.removeAttribute(t):i.dom.setAttribute(t,e)},updateCls:function(t,e){this.input.addCls(Ext.baseCSSPrefix+"input-el"),this.input.replaceCls(e,t)},updateType:function(t,e){var i=Ext.baseCSSPrefix+"input-";this.input.replaceCls(i+e,i+t),this.updateFieldAttribute("type",t)},updateName:function(t){this.updateFieldAttribute("name",t)},getValue:function(){var t=this.input;return t&&(this._value=t.dom.value),this._value},applyValue:function(t){return Ext.isEmpty(t)?"":t},updateValue:function(t){var e=this.input;e&&(e.dom.value=t)},setValue:function(t){var e=this._value;return this.updateValue(this.applyValue(t)),t=this.getValue(),String(t)!=String(e)&&this.initialized&&this.onChange(this,t,e),this},applyTabIndex:function(t){if(null!==t&&"number"!=typeof t)throw new Error("Ext.field.Field: [applyTabIndex] trying to pass a value which is not a number");return t},updateTabIndex:function(t){this.updateFieldAttribute("tabIndex",t)},testAutoFn:function(t){return-1!==[!0,"on"].indexOf(t)},applyMaxLength:function(t){if(null!==t&&"number"!=typeof t)throw new Error("Ext.field.Text: [applyMaxLength] trying to pass a value which is not a number");return t},updateMaxLength:function(t){this.useManualMaxLength()||this.updateFieldAttribute("maxlength",t)},updatePlaceHolder:function(t){this.updateFieldAttribute("placeholder",t)},applyAutoComplete:function(t){return this.testAutoFn(t)},updateAutoComplete:function(t){var e=t?"on":"off";this.updateFieldAttribute("autocomplete",e)},applyAutoCapitalize:function(t){return this.testAutoFn(t)},updateAutoCapitalize:function(t){var e=t?"on":"off";this.updateFieldAttribute("autocapitalize",e)},applyAutoCorrect:function(t){return this.testAutoFn(t)},updateAutoCorrect:function(t){var e=t?"on":"off";this.updateFieldAttribute("autocorrect",e)},updateMinValue:function(t){this.updateFieldAttribute("min",t)},updateMaxValue:function(t){this.updateFieldAttribute("max",t)},updateStepValue:function(t){this.updateFieldAttribute("step",t)},checkedRe:/^(true|1|on)/i,getChecked:function(){var t,e=this.input;return e&&(t=e.dom.checked,this._checked=t),t},applyChecked:function(t){return!!this.checkedRe.test(String(t))},setChecked:function(t){this.updateChecked(this.applyChecked(t)),this._checked=t},updateChecked:function(t){this.input.dom.checked=t},updateReadOnly:function(t){this.updateFieldAttribute("readonly",t?!0:null)},applyMaxRows:function(t){if(null!==t&&"number"!=typeof t)throw new Error("Ext.field.Input: [applyMaxRows] trying to pass a value which is not a number");return t},updateMaxRows:function(t){this.updateFieldAttribute("rows",t)},doSetDisabled:function(t){this.callParent(arguments),Ext.browser.is.Safari&&!Ext.os.is.BlackBerry&&(this.input.dom.tabIndex=t?-1:0),this.input.dom.disabled=Ext.browser.is.Safari&&!Ext.os.is.BlackBerry?!1:t,t||this.blur()},isDirty:function(){return this.getDisabled()?!1:String(this.getValue())!==String(this.originalValue)},reset:function(){this.setValue(this.originalValue)},onInputTap:function(t){this.fireAction("inputtap",[this,t],"doInputTap")},doInputTap:function(t){return t.getDisabled()?!1:void(this.getFastFocus()&&Ext.os.is.iOS&&t.focus())},onMaskTap:function(t){this.fireAction("masktap",[this,t],"doMaskTap")},doMaskTap:function(t){return t.getDisabled()?!1:void t.focus()},showMask:function(){this.getUseMask()&&this.mask.setStyle("display","block")},hideMask:function(){this.getUseMask()&&this.mask.setStyle("display","none")},focus:function(){var t=this,e=t.input;return e&&e.dom.focus&&e.dom.focus(),t},blur:function(){var t=this,e=this.input;return e&&e.dom.blur&&e.dom.blur(),t},select:function(){var t=this,e=t.input;return e&&e.dom.setSelectionRange&&e.dom.setSelectionRange(0,9999),t},onFocus:function(t){this.fireAction("focus",[t],"doFocus")},doFocus:function(){var t=this;t.hideMask(),t.getIsFocused()||t.setStartValue(t.getValue()),t.setIsFocused(!0)},onTouchStart:function(t){document.activeElement!=t.target&&t.preventDefault()},onBlur:function(t){this.fireAction("blur",[t],"doBlur")},doBlur:function(){var t=this,e=t.getValue(),i=t.getStartValue();t.showMask(),t.setIsFocused(!1),String(e)!=String(i)&&t.onChange(t,e,i)},onClearIconTap:function(t){this.fireEvent("clearicontap",this,t),Ext.os.is.Android&&this.focus()},onClearIconPress:function(){this.clearIcon.addCls(Ext.baseCSSPrefix+"pressing")},onClearIconRelease:function(){this.clearIcon.removeCls(Ext.baseCSSPrefix+"pressing")},onClick:function(t){this.fireEvent("click",t)},onChange:function(t,e,i){this.useManualMaxLength()&&this.trimValueToMaxLength(),this.fireEvent("change",t,e,i)},onPaste:function(t){this.useManualMaxLength()&&this.trimValueToMaxLength(),this.fireEvent("paste",t)},onKeyUp:function(t){this.useManualMaxLength()&&this.trimValueToMaxLength(),this.fireEvent("keyup",t)},onKeyDown:function(){this.ignoreInput=!0},onInput:function(t){var e=this;return e.ignoreInput?void(e.ignoreInput=!1):void setTimeout(function(){e.ignoreInput||(e.fireEvent("keyup",t),e.ignoreInput=!1)},10)},onKeyPress:function(t){13==t.browserEvent.keyCode&&this.fireEvent("keyup",t)},onMouseDown:function(t){this.fireEvent("mousedown",t)},trimValueToMaxLength:function(){var t=this.getMaxLength();if(t){var e=this.getValue();e.length>this.getMaxLength()&&this.setValue(e.slice(0,t))}}}),Ext.define("Ext.field.Field",{extend:Ext.Decorator,alternateClassName:"Ext.form.Field",xtype:"field",isField:!0,isFormField:!0,config:{baseCls:Ext.baseCSSPrefix+"field",label:null,labelAlign:"left",labelWidth:"30%",labelWrap:!1,clearIcon:null,required:!1,inputType:null,name:null,value:null,tabIndex:null},platformConfig:[{theme:["Windows","MountainView","Blackberry","Tizen"],labelAlign:"top"}],cachedConfig:{labelCls:null,requiredCls:Ext.baseCSSPrefix+"field-required",inputCls:null},getElementConfig:function(){var t=Ext.baseCSSPrefix;return{reference:"element",className:"x-container",children:[{reference:"label",cls:t+"form-label",children:[{reference:"labelspan",tag:"span"}]},{reference:"innerElement",cls:t+"component-outer"}]}},updateLabel:function(t){var e=this.renderElement,i=Ext.baseCSSPrefix;t?(this.labelspan.setHtml(t),e.addCls(i+"field-labeled")):e.removeCls(i+"field-labeled")},updateLabelAlign:function(t,e){var i=this.renderElement,n=Ext.baseCSSPrefix;t&&(i.addCls(n+"label-align-"+t),"top"==t||"bottom"==t?this.label.setWidth("100%"):this.updateLabelWidth(this.getLabelWidth())),e&&i.removeCls(n+"label-align-"+e)},updateLabelCls:function(t,e){t&&this.label.addCls(t),e&&this.label.removeCls(e)},updateLabelWidth:function(t){var e=this.getLabelAlign();t&&this.label.setWidth("top"==e||"bottom"==e?"100%":t)},updateLabelWrap:function(t){var e=Ext.baseCSSPrefix+"form-label-nowrap";t?this.removeCls(e):this.addCls(e)},updateRequired:function(t){this.renderElement[t?"addCls":"removeCls"](this.getRequiredCls())},updateRequiredCls:function(t,e){this.getRequired()&&this.renderElement.replaceCls(e,t)},initialize:function(){var t=this;t.callParent(),t.doInitValue()},doInitValue:function(){this.originalValue=this.getInitialConfig().value},reset:function(){return this.setValue(this.originalValue),this},resetOriginalValue:function(){this.originalValue=this.getValue()},isDirty:function(){return!1}},function(){}),Ext.define("Ext.field.Text",{extend:Ext.field.Field,xtype:"textfield",alternateClassName:"Ext.form.Text",config:{ui:"text",clearIcon:!0,placeHolder:null,maxLength:null,autoComplete:null,autoCapitalize:null,autoCorrect:null,readOnly:null,component:{xtype:"input",type:"text",fastFocus:!0},bubbleEvents:["action"]},initialize:function(){var t=this;t.callParent(),t.getComponent().on({scope:this,keyup:"onKeyUp",change:"onChange",focus:"onFocus",blur:"onBlur",paste:"onPaste",mousedown:"onMouseDown",clearicontap:"onClearIconTap"}),t.originalValue=t.getValue()||"",t.getComponent().originalValue=t.originalValue,t.syncEmptyCls()},syncEmptyCls:function(){var t=this._value?this._value.length:!1,e=Ext.baseCSSPrefix+"empty";t?this.removeCls(e):this.addCls(e)},updateValue:function(t){var e=this.getComponent(),i=void 0!==t&&null!==t&&""!==t;e&&e.setValue(t),this[i&&this.isDirty()?"showClearIcon":"hideClearIcon"](),this.syncEmptyCls()},getValue:function(){var t=this;return t._value=t.getComponent().getValue(),t.syncEmptyCls(),t._value},updatePlaceHolder:function(t){this.getComponent().setPlaceHolder(t)},updateMaxLength:function(t){this.getComponent().setMaxLength(t)},updateAutoComplete:function(t){this.getComponent().setAutoComplete(t)},updateAutoCapitalize:function(t){this.getComponent().setAutoCapitalize(t)},updateAutoCorrect:function(t){this.getComponent().setAutoCorrect(t)},updateReadOnly:function(t){t?this.hideClearIcon():this.showClearIcon(),this.getComponent().setReadOnly(t)},updateInputType:function(t){var e=this.getComponent();e&&e.setType(t)},updateName:function(t){var e=this.getComponent();e&&e.setName(t)},updateTabIndex:function(t){var e=this.getComponent();e&&e.setTabIndex(t)},updateInputCls:function(t,e){var i=this.getComponent();i&&i.replaceCls(e,t)},doSetDisabled:function(t){var e=this;e.callParent(arguments);var i=e.getComponent();i&&i.setDisabled(t),t?e.hideClearIcon():e.showClearIcon()},showClearIcon:function(){var t=this,e=t.getValue(),i=void 0!==e&&null!==e&&""!==e;return t.getClearIcon()&&!t.getDisabled()&&!t.getReadOnly()&&i&&t.element.addCls(Ext.baseCSSPrefix+"field-clearable"),t},hideClearIcon:function(){this.getClearIcon()&&this.element.removeCls(Ext.baseCSSPrefix+"field-clearable")},onKeyUp:function(t){this.fireAction("keyup",[this,t],"doKeyUp")},doKeyUp:function(t,e){var i=t.getValue(),n=void 0!==i&&null!==i&&""!==i;this[n?"showClearIcon":"hideClearIcon"](),13===e.browserEvent.keyCode&&t.fireAction("action",[t,e],"doAction")},doAction:function(){this.blur()},onClearIconTap:function(t){this.fireAction("clearicontap",[this,t],"doClearIconTap")},doClearIconTap:function(t){t.setValue(""),t.getValue()},onChange:function(t,e,i){t.fireEvent("change",this,e,i)},onFocus:function(t){this.addCls(Ext.baseCSSPrefix+"field-focused"),this.isFocused=!0,this.fireEvent("focus",this,t)},onBlur:function(t){var e=this;this.removeCls(Ext.baseCSSPrefix+"field-focused"),this.isFocused=!1,e.fireEvent("blur",e,t),setTimeout(function(){e.isFocused=!1},50)},onPaste:function(t){this.fireEvent("paste",this,t)},onMouseDown:function(t){this.fireEvent("mousedown",this,t)},focus:function(){return this.getComponent().focus(),this},blur:function(){return this.getComponent().blur(),this},select:function(){return this.getComponent().select(),this},resetOriginalValue:function(){this.callParent();var t=this.getComponent();t&&t.hasOwnProperty("originalValue")&&(this.getComponent().originalValue=this.originalValue),this.reset()},reset:function(){this.getComponent().reset(),this.getValue(),this[this.isDirty()?"showClearIcon":"hideClearIcon"]()},isDirty:function(){var t=this.getComponent();return t?t.isDirty():!1}}),Ext.define("Ext.field.TextAreaInput",{extend:Ext.field.Input,xtype:"textareainput",tag:"textarea"}),Ext.define("Ext.field.TextArea",{extend:Ext.field.Text,xtype:"textareafield",alternateClassName:"Ext.form.TextArea",config:{ui:"textarea",autoCapitalize:!1,component:{xtype:"textareainput"},maxRows:null},updateMaxRows:function(t){this.getComponent().setMaxRows(t)
},doSetHeight:function(t){this.callParent(arguments);var e=this.getComponent();e.input.setHeight(t)},doSetWidth:function(t){this.callParent(arguments);var e=this.getComponent();e.input.setWidth(t)},doKeyUp:function(t){var e=t.getValue();t[e?"showClearIcon":"hideClearIcon"]()}}),Ext.define("Ext.MessageBox",{extend:Ext.Sheet,config:{ui:"dark",baseCls:Ext.baseCSSPrefix+"msgbox",iconCls:null,showAnimation:{type:"popIn",duration:250,easing:"ease-out"},hideAnimation:{type:"popOut",duration:250,easing:"ease-out"},zIndex:999,defaultTextHeight:75,title:null,buttons:null,message:null,prompt:null,modal:!0,layout:{type:"vbox",pack:"center"}},platformConfig:[{theme:["Windows"],ui:"light",showAnimation:{type:"fadeIn"},hideAnimation:{type:"fadeOut"}},{theme:["Blackberry"],ui:"plain"},{theme:["MoutainView"]}],statics:{OK:{text:"OK",itemId:"ok",ui:"action"},YES:{text:"Yes",itemId:"yes",ui:"action"},NO:{text:"No",itemId:"no"},CANCEL:{text:"Cancel",itemId:"cancel"},INFO:Ext.baseCSSPrefix+"msgbox-info",WARNING:Ext.baseCSSPrefix+"msgbox-warning",QUESTION:Ext.baseCSSPrefix+"msgbox-question",ERROR:Ext.baseCSSPrefix+"msgbox-error",OKCANCEL:[{text:"Cancel",itemId:"cancel"},{text:"OK",itemId:"ok",ui:"action"}],YESNOCANCEL:[{text:"Cancel",itemId:"cancel"},{text:"No",itemId:"no"},{text:"Yes",itemId:"yes",ui:"action"}],YESNO:[{text:"No",itemId:"no"},{text:"Yes",itemId:"yes",ui:"action"}]},constructor:function(t){t=t||{},t.hasOwnProperty("promptConfig")&&(Ext.Logger.deprecate("'promptConfig' config is deprecated, please use 'prompt' config instead",this),Ext.applyIf(t,{prompt:t.promptConfig}),delete t.promptConfig),(t.hasOwnProperty("multiline")||t.hasOwnProperty("multiLine"))&&(t.prompt=t.prompt||{},Ext.applyIf(t.prompt,{multiLine:t.multiline||t.multiLine}),delete t.multiline,delete t.multiLine),this.defaultAllowedConfig={};var e,i,n=["ui","showAnimation","hideAnimation","title","message","prompt","iconCls","buttons","defaultTextHeight"],r=n.length;for(e=0;r>e;e++)i=n[e],this.defaultAllowedConfig[i]=this.defaultConfig[i];this.callParent([t])},applyTitle:function(t){"string"==typeof t&&(t={title:t});var e="1.3em";return Ext.theme.is.Cupertino?e="1.5em":(Ext.filterPlatform("blackberry")||Ext.filterPlatform("ie10"))&&(e="2.6em"),Ext.applyIf(t,{docked:"top",minHeight:e,ui:Ext.filterPlatform("blackberry")?"light":"dark",cls:this.getBaseCls()+"-title"}),Ext.theme.is.Tizen&&Ext.applyIf(t,{centered:!1}),Ext.factory(t,Ext.Toolbar,this.getTitle())},updateTitle:function(t){t&&this.add(t)},updateButtons:function(t){var e=this;if(t=t&&0!==t.length?t:!1)if(e.buttonsToolbar)e.buttonsToolbar.show(),e.buttonsToolbar.removeAll(),e.buttonsToolbar.setItems(t);else{var i={type:"hbox",pack:"center"},n=Ext.theme.is.CupertinoClassic||Ext.theme.is.MountainView||Ext.theme.is.Blackberry;e.buttonsToolbar=Ext.create("Ext.Toolbar",{docked:"bottom",defaultType:"button",defaults:{flex:n?1:void 0,ui:Ext.theme.is.Blackberry?"action":void 0},layout:i,ui:e.getUi(),cls:e.getBaseCls()+"-buttons",items:t}),e.add(e.buttonsToolbar)}else e.buttonsToolbar&&e.buttonsToolbar.hide()},applyMessage:function(t){return t={html:t,cls:this.getBaseCls()+"-text"},Ext.factory(t,Ext.Component,this._message)},updateMessage:function(t){t&&this.add(t)},getMessage:function(){return this._message?this._message.getHtml():null},applyIconCls:function(t){return t={xtype:"component",docked:"left",width:40,height:40,baseCls:Ext.baseCSSPrefix+"icon",hidden:t?!1:!0,cls:t},Ext.factory(t,Ext.Component,this._iconCls)},updateIconCls:function(t,e){this.getTitle(),this.getButtons(),t?this.add(t):this.remove(e)},getIconCls:function(){var t,e=this._iconCls;return e?(t=e.getCls(),t?t[0]:null):null},applyPrompt:function(t){if(t){var e={label:!1};return Ext.isObject(t)&&Ext.apply(e,t),e.multiLine?(e.height=Ext.isNumber(e.multiLine)?parseFloat(e.multiLine):this.getDefaultTextHeight(),Ext.factory(e,Ext.field.TextArea,this.getPrompt())):Ext.factory(e,Ext.field.Text,this.getPrompt())}return t},updatePrompt:function(t,e){t&&this.add(t),e&&this.remove(e)},onClick:function(t){if(t){var e=t.config.userConfig||{},i=t.getInitialConfig(),n=this.getPrompt();"function"==typeof e.fn&&(t.disable(),this.on({hiddenchange:function(){e.fn.call(e.scope||null,i.itemId||i.text,n?n.getValue():null,e),t.enable()},single:!0,scope:this})),e.input&&e.input.dom.blur()}this.hide()},show:function(t){if(Ext.util.InputBlocker.blockInputs(),!this.getParent()&&Ext.Viewport&&Ext.Viewport.add(this),!t)return this.callParent();var e=Ext.Object.merge({},{value:""},t),i=t.buttons||Ext.MessageBox.OK||[],n=[],r=t;Ext.each(i,function(t){t&&n.push(Ext.apply({userConfig:r,scope:this,handler:"onClick"},t))},this),e.buttons=n,e.promptConfig&&Ext.Logger.deprecate("'promptConfig' config is deprecated, please use 'prompt' config instead",this),e.prompt=e.promptConfig||e.prompt||null,e.multiLine&&(e.prompt=e.prompt||{},e.prompt.multiLine=e.multiLine,delete e.multiLine),e=Ext.merge({},this.defaultAllowedConfig,e),this.setConfig(e);var s=this.getPrompt();return s&&s.setValue(t.value||""),this.callParent(),this},alert:function(t,e,i,n){return this.show({title:t||null,message:e||null,buttons:Ext.MessageBox.OK,promptConfig:!1,fn:function(){i&&i.apply(n,arguments)},scope:n})},confirm:function(t,e,i,n){return this.show({title:t||null,message:e||null,buttons:Ext.MessageBox.YESNO,promptConfig:!1,scope:n,fn:function(){i&&i.apply(n,arguments)}})},prompt:function(t,e,i,n,r,s,a){return this.show({title:t||null,message:e||null,buttons:Ext.MessageBox.OKCANCEL,scope:n,prompt:a||!0,multiLine:r,value:s,fn:function(){i&&i.apply(n,arguments)}})}},function(t){Ext.onSetup(function(){Ext.Msg=new t})}),Ext.define("Ext.mixin.Progressable",{extend:Ext.mixin.Mixin,isProgressable:!0,mixinConfig:{id:"progressable"},config:{minProgressInput:0,maxProgressInput:1,minProgressOutput:0,maxProgressOutput:100,dynamic:!0,state:null},_progressActive:!1,_progress:0,_rawProgress:0,onStartProgress:Ext.emptyFn,onUpdateProgress:Ext.emptyFn,onEndProgress:Ext.emptyFn,startProgress:function(){this._progressActive||(this._progressActive=!0,this.onStartProgress(),this.updateProgress(this.getMinProgressInput()))},updateProgress:function(t,e){e&&e!=this.getState()&&this.setState(e),t>this.getMaxProgressInput()&&(t=this.getMaxProgressInput()),t<this.getMinProgressInput()&&(t=this.getMinProgressInput());var i=this.mapValues(t,this.getMinProgressInput(),this.getMaxProgressInput(),this.getMinProgressOutput(),this.getMaxProgressOutput());this._progress=i,this._rawProgress=t,this.getDynamic()&&this.onUpdateProgress(i)},endProgress:function(){this._progressActive&&(this._progressActive=!1,this.updateProgress(this.getMaxProgressInput()),this.onEndProgress())},mapValues:function(t,e,i,n,r){return(t-e)/(i-e)*(r-n)+n},setProgress:function(t){this.updateProgress(t)},getProgress:function(){return this._progress},getRawProgress:function(){return this._rawProgress}}),Ext.define("Ext.ProgressIndicator",{extend:Ext.Container,mixins:[Ext.mixin.Progressable],xtype:"progressindicator",config:{baseCls:Ext.baseCSSPrefix+"progressindicator",hidden:!0,modal:!0,centered:!0,loadingText:{any:"Loading: {percent}%",upload:"Uploading: {percent}%",download:"Downloading: {percent}%"},fallbackText:{any:"Loading",upload:"Uploading",download:"Downloading"},monitoredStates:{upload:!0,download:!0},showAnimation:Ext.browser.is.AndroidStock?null:{type:"slideIn",direction:"left",duration:250,easing:"ease-out"},hideAnimation:Ext.browser.is.AndroidStock?null:{type:"slideOut",direction:"left",duration:250,easing:"ease-in"},minProgressOutput:0,maxProgressOutput:1,state:null},constructor:function(){this.emptyTpl=new Ext.XTemplate(""),this.callParent(arguments)},getElementConfig:function(){return{reference:"element",classList:["x-container","x-unsized"],children:[{reference:"innerElement",className:Ext.baseCSSPrefix+"progressindicator-inner",children:[{reference:"progressBarText",className:Ext.baseCSSPrefix+"progressindicator-text"},{reference:"progressBar",className:Ext.baseCSSPrefix+"progressindicator-bar",children:[{reference:"progressBarFill",className:Ext.baseCSSPrefix+"progressindicator-bar-fill"}]}]}]}},onStartProgress:function(){this.getParent()||Ext.Viewport.add(this),this.show()},onEndProgress:function(){this.hide()},onUpdateProgress:function(){this.updateBar()},getLoadingText:function(){var t=this.getState();return this._loadingText[t]?this._loadingText[t]:this._loadingText.any?this._loadingText.any:this.emptyTpl},applyLoadingText:function(t){var e,i,n={};if(Ext.isString(t))n={any:new Ext.XTemplate(t)};else if(t instanceof Ext.XTemplate)n={any:t};else for(e in t)i=t[e],n[e]=new Ext.XTemplate(i);return n.any||(n.any=this.emptyTpl),n},getFallbackText:function(){var t=this.getState();return this._fallbackText[t]?this._fallbackText[t]:this._fallbackText.any?this._fallbackText.any:""},applyFallbackText:function(t){var e,i,n={};if(Ext.isString(t))n={any:t};else for(e in t)i=t[e],n[e]=i;return n.any||(n.any=this.emptyTpl),n},updateDynamic:function(t){return t?this.updateBar():(this.progressBarText.setHtml(this.getFallbackText()),this.progressBar.setWidth("100%")),t},updateBar:function(){var t=this.getState();if(this.getMonitoredStates()[t]!==!0)return this.progressBarText.setHtml(this.getFallbackText()),void this.progressBar.setWidth("100%");var e=100*this.getProgress();Ext.isNumber(e)||(e=0),this.progressBar.setWidth(e+"%");var i=this.getLoadingText();this.progressBarText.setHtml(i?this.getLoadingText().apply({state:t,percent:Math.ceil(e)||0}):"")}}),Ext.define("Ext.Promise",{statics:{when:function(){function t(t){n.reject(t)}function e(o){i=r.shift(),s>=0&&(a[s]=o),s++,i?i.then(e,t):n.fulfill.apply(n,a)}var i,n=new this,r=Array.prototype.slice.call(arguments),s=-1,a=[];return e(),n},whenComplete:function(t){function e(e){r=t.shift(),l.push(e),n(r)}function i(e){r=t.shift(),o.push(e),n(r)}function n(t){a++,t?t.then(i,e):s.fulfill.call(s,{fulfilled:o,rejected:l})}var r,s=new this,a=-1,o=[],l=[];return n(t.shift()),s},from:function(){var t=new this;return t.completed=1,t.lastResults=arguments,t},fail:function(t){var e=new this;return e.completed=-1,e.lastReason=t,e}},completed:0,getListeners:function(t){var e=this.listeners;return!e&&t&&(this.listeners=e=[]),e},then:function(t,e,i){return"function"==typeof t&&(i=e,e=t,t=null),"string"==typeof e&&(e=t[e]),"string"==typeof i&&(i=t[i]),this.doThen(t,e,i)},doThen:function(t,e,i){var n,r,s=Ext.Promise,a=this.completed;if(-1===a)return i&&i.call(t,this.lastReason),this;if(1!==a||this.isFulfilling)n=new s,n.$owner=this,this.getListeners(!0).push({scope:t,success:e,error:i,promise:n});else{if(!e)return this;r=e.apply(t,this.lastResults),n=r instanceof s?r:s.from(r)}return n},error:function(t,e){return"function"==typeof t&&(e=t,t=null),"string"==typeof e&&(e=t[e]),this.doThen(t,null,e)},fulfill:function(){var t,e,i,n,r,s,a=arguments;for(this.lastResults=a,this.completed=1;t=this.getListeners();){for(delete this.listeners,this.isFulfilling=!0;e=t.shift();)n=e.success,i=e.scope,r=e.promise,delete r.$owner,n?(s=n.apply(i,a),s instanceof Ext.Promise?s.connect(r):r.fulfill(s)):r.fulfill(a);this.isFulfilling=!1}return this},connect:function(t){var e=this;e.then(t,function(t){return this.fulfill(t),t},"reject")},reject:function(t){var e,i,n,r=this.getListeners();if(this.lastReason=t,this.completed=-1,r)for(delete this.listeners;e=r.shift();)i=e.error,n=e.promise,delete n.$owner,i&&i.call(e.scope,t),n.reject(t);return this},cancel:function(){var t,e,i,n=this.getListeners(),r=this.$owner;if(n){for(t=0,e=n.length;e>t;t++)i=n[t],i.promise.cancel();n.length=0,delete this.listeners}r&&(delete this.$owner,r.cancel())}}),Ext.define("Ext.SegmentedButton",{extend:Ext.Container,xtype:"segmentedbutton",config:{baseCls:Ext.baseCSSPrefix+"segmentedbutton",pressedCls:Ext.baseCSSPrefix+"button-pressed",allowMultiple:!1,allowDepress:!1,allowToggle:!0,pressedButtons:[],layout:{type:"hbox",align:"stretch"},defaultType:"button"},initialize:function(){var t=this;t.callParent(),t.on({delegate:"> button",scope:t,tap:"onButtonRelease"}),t.onAfter({delegate:"> button",scope:t,hide:"onButtonHiddenChange",show:"onButtonHiddenChange"})},updateAllowMultiple:function(t){this.initialized||this.getInitialConfig().hasOwnProperty("allowDepress")||!t||this.setAllowDepress(!0)},applyItems:function(){var t,e,i,n,r=this,s=[];for(r.callParent(arguments),n=this.getItems(),t=n.length,e=0;t>e;e++)i=n.items[e],i.getInitialConfig("pressed")&&s.push(n.items[e]);r.updateFirstAndLastCls(n),r.setPressedButtons(s)},onButtonRelease:function(t){if(this.getAllowToggle()){var e,i=this,n=i.getPressedButtons()||[],r=[];i.getDisabled()||t.getDisabled()||(i.getAllowMultiple()&&(r=n.concat(r)),e=-1!==r.indexOf(t)||-1!==n.indexOf(t),e&&i.getAllowDepress()?Ext.Array.remove(r,t):e&&i.getAllowDepress()||r.push(t),i.setPressedButtons(r))}},onItemAdd:function(){this.callParent(arguments),this.updateFirstAndLastCls(this.getItems())},onItemRemove:function(){this.callParent(arguments),this.updateFirstAndLastCls(this.getItems())},onButtonHiddenChange:function(){this.updateFirstAndLastCls(this.getItems())},updateFirstAndLastCls:function(t){var e,i,n=t.length,r=Ext.baseCSSPrefix,s=r+"first",a=r+"last";for(i=0;n>i;i++)e=t.items[i],e.removeCls(s),e.removeCls(a);for(i=0;n>i;i++)if(e=t.items[i],!e.isHidden()){e.addCls(s);break}for(i=n-1;i>=0;i--)if(e=t.items[i],!e.isHidden()){e.addCls(a);break}},applyPressedButtons:function(t){var e,i,n,r=this,s=[];if(r.getAllowToggle())if(Ext.isArray(t))for(i=t.length,n=0;i>n;n++)e=r.getComponent(t[n]),e&&-1===s.indexOf(e)&&s.push(e);else e=r.getComponent(t),e&&-1===s.indexOf(e)&&s.push(e);return s},updatePressedButtons:function(t,e){var i,n,r,s,a,o=this,l=o.getItems(),u=o.getPressedCls(),h=[];if(r=l.length,e&&e.length)for(s=0;r>s;s++)i=l.items[s],-1!=e.indexOf(i)&&-1==t.indexOf(i)&&(i.removeCls([u,i.getPressedCls()]),h.push({item:i,toggle:!1}));for(r=t.length,s=0;r>s;s++)n=t[s],e&&-1!=e.indexOf(n)||(n.addCls(u),h.push({item:n,toggle:!0}));r=h.length,r&&void 0!==e&&Ext.defer(function(){for(s=0;r>s;s++)a=h[s],o.fireEvent("toggle",o,a.item,a.toggle)},50)},isPressed:function(t){var e=this.getPressedButtons();return-1!=e.indexOf(t)},doSetDisabled:function(t){var e=this;e.items.each(function(e){e.setDisabled(t)},e),e.callParent(arguments)}},function(){}),Ext.define("Ext.Sortable",{mixins:{observable:Ext.mixin.Observable},config:{baseCls:Ext.baseCSSPrefix+"sortable",delay:0},direction:"vertical",cancelSelector:null,constrain:window,group:"base",revert:!0,itemSelector:null,handleSelector:null,disabled:!1,sorting:!1,vertical:!1,constructor:function(t,e){e=e||{},Ext.apply(this,e),this.addEvents("sortstart","sortend","sortchange"),this.el=Ext.get(t),this.callParent(),this.mixins.observable.constructor.call(this),"horizontal"==this.direction?this.horizontal=!0:"vertical"==this.direction?this.vertical=!0:this.horizontal=this.vertical=!0,this.el.addCls(this.baseCls),this.startEventName=this.getDelay()>0?"taphold":"tapstart",this.disabled||this.enable()},onStart:function(t,e){this.cancelSelector&&t.getTarget(this.cancelSelector)||(!this.handleSelector||t.getTarget(this.handleSelector))&&(this.sorting||this.onSortStart(t,e))},onSortStart:function(t,e){this.sorting=!0;var i=Ext.create("Ext.util.Draggable",e,{threshold:0,revert:this.revert,direction:this.direction,constrain:this.constrain===!0?this.el:this.constrain,animationDuration:100});i.on({drag:this.onDrag,dragend:this.onDragEnd,scope:this}),this.dragEl=e,this.calculateBoxes(),i.dragging||i.onStart(t),this.fireEvent("sortstart",this,t)},calculateBoxes:function(){this.items=[];var t,e,i,n=this.el.select(this.itemSelector,!1),r=n.length;for(t=0;r>t;t++)i=n[t],i!=this.dragEl&&(e=Ext.fly(i).getPageBox(!0),e.el=i,this.items.push(e))},onDrag:function(t){var e,i,n,r=this.items,s=r.length,a=t.region,o=!1;for(e=0;s>e;e++)if(n=r[e],i=a.intersect(n),i&&(this.vertical&&Math.abs(i.top-i.bottom)>(a.bottom-a.top)/2?(a.bottom>n.top&&n.top>a.top?t.el.insertAfter(n.el):t.el.insertBefore(n.el),o=!0):this.horizontal&&Math.abs(i.left-i.right)>(a.right-a.left)/2&&(a.right>n.left&&n.left>a.left?t.el.insertAfter(n.el):t.el.insertBefore(n.el),o=!0),o))return t.reset(),t.moveTo(a.left,a.top),this.calculateBoxes(),void this.fireEvent("sortchange",this,t.el,this.el.select(this.itemSelector,!1).indexOf(t.el.dom))},onDragEnd:function(t,e){t.destroy(),this.sorting=!1,this.fireEvent("sortend",this,t,e)},enable:function(){this.el.on(this.startEventName,this.onStart,this,{delegate:this.itemSelector,holdThreshold:this.getDelay()}),this.disabled=!1},disable:function(){this.el.un(this.startEventName,this.onStart,this),this.disabled=!0},isDisabled:function(){return this.disabled},isSorting:function(){return this.sorting},isVertical:function(){return this.vertical},isHorizontal:function(){return this.horizontal}}),Ext.define("Ext.TitleBar",{extend:Ext.Container,xtype:"titlebar",isToolbar:!0,config:{baseCls:Ext.baseCSSPrefix+"toolbar",cls:Ext.baseCSSPrefix+"navigation-bar",ui:"dark",title:null,titleAlign:"center",defaultType:"button",minHeight:null,layout:{type:"hbox"},items:[],maxButtonWidth:"40%"},platformConfig:[{theme:["Blackberry","Tizen"],titleAlign:"left"},{theme:["Cupertino"],maxButtonWidth:"80%"}],hasCSSMinHeight:!0,beforeInitialize:function(){this.applyItems=this.applyInitialItems},initialize:function(){delete this.applyItems,this.add(this.initialItems),delete this.initialItems,this.on({painted:"refreshTitlePosition",single:!0})},applyInitialItems:function(t){var e=this,i=e.getTitleAlign(),n=e.getDefaults()||{};switch(e.initialItems=t,e.leftBox=e.add({xtype:"container",style:"position: relative",layout:{type:"hbox",align:"center"},listeners:{resize:"refreshTitlePosition",scope:e}}),e.spacer=e.add({xtype:"component",style:"position: relative",flex:1,listeners:{resize:"refreshTitlePosition",scope:e}}),e.rightBox=e.add({xtype:"container",style:"position: relative",layout:{type:"hbox",align:"center"},listeners:{resize:"refreshTitlePosition",scope:e}}),i){case"left":e.titleComponent=e.leftBox.add({xtype:"title",cls:Ext.baseCSSPrefix+"title-align-left",hidden:n.hidden}),e.refreshTitlePosition=Ext.emptyFn;break;case"right":e.titleComponent=e.rightBox.add({xtype:"title",cls:Ext.baseCSSPrefix+"title-align-right",hidden:n.hidden}),e.refreshTitlePosition=Ext.emptyFn;break;default:e.titleComponent=e.add({xtype:"title",hidden:n.hidden,centered:!0})}e.doAdd=e.doBoxAdd,e.remove=e.doBoxRemove,e.doInsert=e.doBoxInsert},doBoxAdd:function(t){"right"==t.config.align?this.rightBox.add(t):this.leftBox.add(t)},doBoxRemove:function(t,e){"right"==t.config.align?this.rightBox.remove(t,e):this.leftBox.remove(t,e)},doBoxInsert:function(t,e){"right"==e.config.align?this.rightBox.insert(t,e):this.leftBox.insert(t,e)},calculateMaxButtonWidth:function(){var t=this.getMaxButtonWidth();return Ext.isString(t)&&(t=parseInt(t.replace("%",""),10)),t=Math.round(this.element.getWidth()/100*t)},refreshTitlePosition:function(){if(!this.isDestroyed){var t=this.titleComponent.renderElement;t.setWidth(null),t.setLeft(null);var e,i,n=this.leftBox,r=n.down("button"),s=1==n.getItems().getCount();r&&s&&(null==r.getWidth()&&r.renderElement.setWidth("auto"),e=n.renderElement.getWidth(),i=this.calculateMaxButtonWidth(),e>i&&r.renderElement.setWidth(i));var a=this.spacer.renderElement.getPageBox();Ext.browser.is.IE&&t.setWidth(a.width);var o,l,u,h=t.getPageBox(),c=h.width-a.width,d=h.left,f=h.right;c>0&&(o=c/2,d+=o,f-=o,t.setWidth(a.width)),l=a.left-d,u=f-a.right,l>0?t.setLeft(l):u>0&&t.setLeft(-u),t.repaint()}},updateTitle:function(t){this.titleComponent.setTitle(t),this.isPainted()&&this.refreshTitlePosition()}}),Ext.define("Ext.Toast",{extend:Ext.Sheet,config:{ui:"dark",baseCls:Ext.baseCSSPrefix+"toast",showAnimation:{type:"popIn",duration:250,easing:"ease-out"},hideAnimation:{type:"popOut",duration:250,easing:"ease-out"},zIndex:999,message:null,timeout:1e3,messageAnimation:!0,hideOnMaskTap:!0,modal:!0,layout:{type:"vbox",pack:"center"}},applyMessage:function(t){return t={html:t,cls:this.getBaseCls()+"-text"},Ext.factory(t,Ext.Component,this._message)},updateMessage:function(t){t&&this.add(t)},applyTimeout:function(t){return this._timeoutID&&(clearTimeout(this._timeoutID),Ext.isEmpty(t)||(this._timeoutID=setTimeout(Ext.bind(this.onTimeout,this),t))),t},next:Ext.emptyFn,show:function(t){var e=this,i=t.timeout,n=e.getMessageAnimation(),r=e.getMessage();e.isRendered()&&e.isHidden()===!1?(t.timeout=null,r.onAfter({hiddenchange:function(){e.setMessage(t.message),r=e.getMessage(),r.onAfter({hiddenchange:function(){this._timeoutID=!0,e.setTimeout(i)},scope:e,single:!0}),r.show(n)},scope:e,single:!0}),r.hide(n)):(Ext.util.InputBlocker.blockInputs(),e.setConfig(t),!e.getParent()&&Ext.Viewport&&Ext.Viewport.add(e),Ext.isEmpty(i)||(e._timeoutID=setTimeout(Ext.bind(e.onTimeout,e),i)),e.callParent(arguments))},hide:function(){clearTimeout(this._timeoutID),this.next()||this.callParent(arguments)},onTimeout:function(){this.hide()}},function(){function t(){var t=i.shift();return t?(n=!0,this.show(t)):n=!1,n}function e(){return Ext.Toast._instance||(Ext.Toast._instance=Ext.create("Ext.Toast"),Ext.Toast._instance.next=t),Ext.Toast._instance}var i=[],n=!1;Ext.toast=function(t,r){var s=e(),a=t;return Ext.isString(t)&&(a={message:t,timeout:r}),void 0===a.timeout&&(a.timeout=Ext.Toast.prototype.config.timeout),i.push(a),n||s.next(),s}}),Ext.define("Ext.Video",{extend:Ext.Media,xtype:"video",config:{posterUrl:null,baseCls:Ext.baseCSSPrefix+"video",controls:!0},template:[{reference:"ghost",classList:[Ext.baseCSSPrefix+"video-ghost"]},{tag:"video",reference:"media",classList:[Ext.baseCSSPrefix+"media"]}],initialize:function(){var t=this;t.callParent(),t.media.hide(),t.onBefore({erased:"onErased",scope:t}),t.ghost.on({tap:"onGhostTap",scope:t}),t.media.on({pause:"onPause",scope:t}),(Ext.os.is.Android4||Ext.os.is.iPad)&&(this.isInlineVideo=!0)},applyUrl:function(t){return[].concat(t)},updateUrl:function(t){var e,i=this,n=i.media,r=t.length,s=n.query("source"),a=s.length;for(e=0;a>e;e++)Ext.fly(s[e]).destroy();for(e=0;r>e;e++)n.appendChild(Ext.Element.create({tag:"source",src:t[e]}));i.isPlaying()&&i.play()},updateControls:function(t){this.media.set({controls:t?!0:void 0})},onErased:function(){this.pause(),this.media.setTop(-2e3),this.ghost.show()},onGhostTap:function(){var t=this,e=this.media,i=this.ghost;e.show(),Ext.browser.is.AndroidStock2?setTimeout(function(){t.play(),setTimeout(function(){e.hide()},10)},10):(i.hide(),t.play())},onPause:function(){this.callParent(arguments),this.isInlineVideo||(this.media.setTop(-2e3),this.ghost.show())},onPlay:function(){this.callParent(arguments),this.media.setTop(0)},updatePosterUrl:function(t){var e=this.ghost;e&&e.setStyle("background-image","url("+t+")")}}),Ext.define("Ext.app.Action",{config:{scope:null,application:null,controller:null,action:null,args:[],url:void 0,data:{},title:null,beforeFilters:[],currentFilterIndex:-1},constructor:function(t){this.initConfig(t),this.getUrl()},applyBeforeFilters:function(t){return t||[]},execute:function(){this.resume()},resume:function(){var t=this.getCurrentFilterIndex()+1,e=this.getBeforeFilters(),i=this.getController(),n=e[t];n?(this.setCurrentFilterIndex(t),n.call(i,this)):i[this.getAction()].apply(i,this.getArgs())},applyUrl:function(t){return(null===t||void 0===t)&&(t=this.urlEncode()),t},applyController:function(t){var e=this.getApplication(),i=e.getCurrentProfile();return Ext.isString(t)&&(t=e.getController(t,i?i.getNamespace():null)),t},urlEncode:function(){var t,e=this.getController();return e instanceof Ext.app.Controller&&(t=e.$className.split("."),e=t[t.length-1]),e+"/"+this.getAction()}}),Ext.define("Ext.app.Controller",{mixins:{observable:Ext.mixin.Observable},config:{refs:{},routes:{},control:{},before:{},application:{},stores:[],models:[],views:[]},constructor:function(t){this.initConfig(t),this.mixins.observable.constructor.call(this,t)},init:Ext.emptyFn,launch:Ext.emptyFn,redirectTo:function(t){return this.getApplication().redirectTo(t)},execute:function(t){t.setBeforeFilters(this.getBefore()[t.getAction()]),t.execute()},applyBefore:function(t){var e,i,n,r;for(i in t){for(e=Ext.Array.from(t[i]),n=e.length,r=0;n>r;r++)e[r]=this[e[r]];t[i]=e}return t},applyControl:function(t){return this.control(t,this),t},applyRefs:function(t){return Ext.isArray(t)&&Ext.Logger.deprecate("In Sencha Touch 2 the refs config accepts an object but you have passed it an array."),this.ref(t),t},applyRoutes:function(t){var e,i,n,r=this instanceof Ext.app.Application?this:this.getApplication(),s=r.getRouter();for(i in t)e=t[i],n={controller:this.$className},Ext.isString(e)?n.action=e:Ext.apply(n,e),s.connect(i,n);return t},applyStores:function(t){return this.getFullyQualified(t,"store")},applyModels:function(t){return this.getFullyQualified(t,"model")},applyViews:function(t){return this.getFullyQualified(t,"view")},getFullyQualified:function(t,e){var i,n,r=t.length,s=this.getApplication().getName();for(n=0;r>n;n++)i=t[n],!Ext.isString(i)||""!==Ext.Loader.getPrefix(i)&&i!==s||(t[n]=s+"."+e+"."+i);return t},control:function(t){this.getApplication().control(t,this)},ref:function(t){var e,i,n,r,s=this;for(e in t)n=t[e],i="get"+Ext.String.capitalize(e),this[i]||(r=Ext.isString(t[e])?{ref:e,selector:n}:t[e],this[i]=function(t,e){var i=[t,e];return function(){return s.getRef.apply(s,i.concat.apply(i,arguments))}}(e,r)),this.references=this.references||[],this.references.push(e.toLowerCase())},getRef:function(t,e,i){if(this.refCache=this.refCache||{},e=e||{},i=i||{},Ext.apply(e,i),e.forceCreate)return Ext.ComponentManager.create(e,"component");var n=this,r=n.refCache[t];return r||(n.refCache[t]=r=Ext.ComponentQuery.query(e.selector)[0],!r&&e.autoCreate&&(n.refCache[t]=r=Ext.ComponentManager.create(e,"component")),r&&r.on("destroy",function(){n.refCache[t]=null})),r},hasRef:function(t){return this.references&&-1!==this.references.indexOf(t.toLowerCase())}},function(){}),Ext.define("Ext.app.History",{mixins:[Ext.mixin.Observable],config:{actions:[],updateUrl:!0,token:""},constructor:function(t){Ext.feature.has.History?window.addEventListener("hashchange",Ext.bind(this.detectStateChange,this)):setInterval(Ext.bind(this.detectStateChange,this),100),this.initConfig(t),t&&Ext.isEmpty(t.token)&&this.setToken(window.location.hash.substr(1))},add:function(t,e){t=Ext.factory(t,Ext.app.Action),this.getActions().push(t);var i=t.getUrl();this.getUpdateUrl()&&(this.setToken(i),window.location.hash=i),e!==!0&&this.fireEvent("change",i),this.setToken(i)},back:function(){var t=this.getActions(),e=t[t.length-2];e?(t.pop(),e.getController().getApplication().redirectTo(e.getUrl())):t[t.length-1].getController().getApplication().redirectTo("")},applyToken:function(t){return"#"==t[0]?t.substr(1):t},detectStateChange:function(){var t=this.applyToken(window.location.hash),e=this.getToken();t!=e&&(this.onStateChange(),this.setToken(t))},onStateChange:function(){this.fireEvent("change",window.location.hash.substr(1))}}),Ext.define("Ext.app.Profile",{mixins:{observable:Ext.mixin.Observable},config:{namespace:"auto",name:"auto",controllers:[],models:[],views:[],stores:[],application:null},constructor:function(t){this.initConfig(t),this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return!1},launch:Ext.emptyFn,applyNamespace:function(t){return"auto"==t&&(t=this.getName()),t.toLowerCase()},applyName:function(t){if("auto"==t){var e=this.$className.split(".");t=e[e.length-1]}return t},getDependencies:function(){var t,e,i=[],n=(Ext.String.format,this.getApplication().getName()),r=this.getNamespace(),s={model:this.getModels(),view:this.getViews(),controller:this.getControllers(),store:this.getStores()};for(t in s)e=[],Ext.each(s[t],function(s){Ext.isString(s)&&(!Ext.isString(s)||""!==Ext.Loader.getPrefix(s)&&s!==n||(s=n+"."+t+"."+r+"."+s),e.push(s),i.push(s))},this),s[t]=e;return s.all=i,s}}),Ext.define("Ext.app.Route",{config:{conditions:{},url:null,controller:null,action:null,initialized:!1},constructor:function(t){this.initConfig(t)},recognize:function(t){if(this.getInitialized()||this.initialize(),this.recognizes(t)){var e=this.matchesFor(t),i=t.match(this.matcherRegex);return i.shift(),Ext.applyIf(e,{controller:this.getController(),action:this.getAction(),url:t,args:i,historyUrl:t})}},initialize:function(){this.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g),this.paramsInMatchString=this.getUrl().match(this.paramMatchingRegex)||[],this.matcherRegex=this.createMatcherRegex(this.getUrl()),this.setInitialized(!0)},recognizes:function(t){return this.matcherRegex.test(t)},matchesFor:function(t){var e,i={},n=this.paramsInMatchString,r=t.match(this.matcherRegex),s=n.length;for(r.shift(),e=0;s>e;e++)i[n[e].replace(":","")]=r[e];return i},argsFor:function(t){var e,i=[],n=this.paramsInMatchString,r=t.match(this.matcherRegex),s=n.length;for(r.shift(),e=0;s>e;e++)i.push(n[e].replace(":","")),params[n[e].replace(":","")]=r[e];return params},urlFor:function(t){var e=this.getUrl();for(var i in t)e=e.replace(":"+i,t[i]);return e},createMatcherRegex:function(t){var e,i,n,r=this.paramsInMatchString,s=r.length;for(e=0;s>e;e++)i=this.getConditions()[r[e]],n=Ext.util.Format.format("({0})",i||"[%a-zA-Z0-9\\-\\_\\s,]+"),t=t.replace(new RegExp(r[e]),n);return new RegExp("^"+t+"$")}}),Ext.define("Ext.app.Router",{config:{routes:[],defaults:{action:"index"}},constructor:function(t){this.initConfig(t)},connect:function(t,e){e=Ext.apply({url:t},e||{},this.getDefaults());var i=Ext.create("Ext.app.Route",e);return this.getRoutes().push(i),i},recognize:function(t){var e,i,n=this.getRoutes(),r=n.length;for(e=0;r>e;e++)if(i=n[e].recognize(t),void 0!==i)return i;return void 0},draw:function(t){t.call(this,this)},clear:function(){this.setRoutes([])}},function(){}),Ext.define("Ext.app.Application",{extend:Ext.app.Controller,config:{profiles:[],controllers:[],history:{},name:null,appFolder:"app",router:{},controllerInstances:[],profileInstances:[],currentProfile:null,launch:Ext.emptyFn,enableLoader:!0,requires:[],themeVariationPrefix:Ext.baseCSSPrefix+"theme-variation-",themeVariationTransitionCls:null,themeVariation:null},constructor:function(t){t=t||{},Ext.applyIf(t,{application:this}),this.initConfig(t);for(var e in t)this[e]=t[e];Ext.Loader.setConfig({enabled:!0}),Ext.require(this.getRequires(),function(){this.getEnableLoader()!==!1&&Ext.require(this.getProfiles(),this.onProfilesLoaded,this)},this)},dispatch:function(t,e){if(t=t||{},Ext.applyIf(t,{application:this}),t=Ext.factory(t,Ext.app.Action)){var i=this.getCurrentProfile(),n=i?i.getNamespace():void 0,r=this.getController(t.getController(),n);r&&(e!==!1&&this.getHistory().add(t,!0),r.execute(t))}},redirectTo:function(t){if(Ext.data&&Ext.data.Model&&t instanceof Ext.data.Model){var e=t;t=e.toUrl()}var i=this.getRouter().recognize(t);return i?(i.url=t,e&&(i.data={},i.data.record=e),this.dispatch(i)):void 0},control:function(t,e){e=e||this;var i,n,r,s,a,o=this.getEventDispatcher(),l=e?e.getRefs():{};for(i in t)if(t.hasOwnProperty(i)){s=t[i],a=l[i],a&&(i=a.selector||a);for(n in s)r=s[n],Ext.isString(r)&&(r=e[r]),o.addListener("component",i,n,r,e)}},getController:function(t,e){var i,n=this.getControllerInstances(),r=this.getName(),s=Ext.String.format;return t instanceof Ext.app.Controller?t:n[t]?n[t]:(i=s("{0}.controller.{1}",r,t),e=s("{0}.controller.{1}.{2}",r,e,t),n[e]||n[i])},onProfilesLoaded:function(){var t,e,i,n=this.getProfiles(),r=n.length,s=[],a=this.gatherDependencies();for(e=0;r>e;e++)s[e]=Ext.create(n[e],{application:this}),i=s[e].getDependencies(),a=a.concat(i.all),s[e].isActive()&&!t&&(t=s[e],this.setCurrentProfile(t),this.setControllers(this.getControllers().concat(i.controller)),this.setModels(this.getModels().concat(i.model)),this.setViews(this.getViews().concat(i.view)),this.setStores(this.getStores().concat(i.store)));this.setProfileInstances(s),Ext.require(a,this.loadControllerDependencies,this)},loadControllerDependencies:function(){this.instantiateControllers();var t,e,i,n=this.getControllerInstances(),r=[],s=[];
for(i in n)t=n[i],e=t.getStores(),s=s.concat(e),r=r.concat(t.getModels().concat(t.getViews()).concat(e));this.setStores(this.getStores().concat(s)),Ext.require(r,this.onDependenciesLoaded,this)},onDependenciesLoaded:function(){var t,e,i=this,n=this.getCurrentProfile(),r=this.getLaunch();this.instantiateStores(),t=this.getControllerInstances();for(e in t)t[e].init(this);n&&n.launch(),r.call(i);for(e in t)!t[e]||t[e]instanceof Ext.app.Controller?t[e].launch(this):Ext.Logger.warn("The controller '"+e+"' doesn't have a launch method. Are you sure it extends from Ext.app.Controller?");i.redirectTo(window.location.hash.substr(1))},gatherDependencies:function(){var t=this.getModels().concat(this.getViews()).concat(this.getControllers());return Ext.each(this.getStores(),function(e){Ext.isString(e)&&t.push(e)},this),t},instantiateStores:function(){var t,e,i,n,r,s=this.getStores(),a=s.length;for(r=0;a>r;r++)t=s[r],!Ext.data||!Ext.data.Store||t instanceof Ext.data.Store||(Ext.isString(t)&&(i=t,e=Ext.ClassManager.classes[t],t={xclass:t},void 0===e.prototype.defaultConfig.storeId&&(n=i.split("."),t.id=n[n.length-1])),s[r]=Ext.factory(t,Ext.data.Store));this.setStores(s)},instantiateControllers:function(){var t,e,i=this.getControllers(),n={},r=i.length;for(e=0;r>e;e++)t=i[e],n[t]=Ext.create(t,{application:this});return this.setControllerInstances(n)},applyControllers:function(t){return this.getFullyQualified(t,"controller")},applyProfiles:function(t){return this.getFullyQualified(t,"profile")},applyName:function(t){var e;return t&&t.match(/ /g)&&(e=t,t=t.replace(/ /g,""),Ext.Logger.warn('Attempting to create an application with a name which contains whitespace ("'+e+'"). Renamed to "'+t+'".')),t},updateName:function(t){Ext.ClassManager.setNamespace(t+".app",this),Ext.Loader.config.paths[t]||Ext.Loader.setPath(t,this.getAppFolder())},applyRouter:function(t){return Ext.factory(t,Ext.app.Router,this.getRouter())},applyHistory:function(t){var e=Ext.factory(t,Ext.app.History,this.getHistory());return e.on("change",this.onHistoryChange,this),e},onHistoryChange:function(t){this.dispatch(this.getRouter().recognize(t),!1)},updateThemeVariation:function(t,e){var i=Ext.getBody().getParent(),n=this.getThemeVariationPrefix()||"",r=this.getThemeVariationTransitionCls();if(Ext.isFunction(t)&&(t=t.call(this)),Ext.isString(t)||Ext.Error.raise("Theme variation must be a String.'"),r){var s,a,o,l,u="",h=0,c=document.styleSheets[0].cssRules;i.addCls(r);for(s in c)a=c[s],a.selectorText&&a.selectorText.indexOf("."+r)>=1&&(u+=a.cssText);o=u.match(/[0-9]+s/g);for(s in o)l=parseInt(o[s]),l>h&&(h=l);this.$themeVariationChangeTimeout&&(clearTimeout(this.$themeVariationChangeTimeout),this.$themeVariationChangeTimeout=null),this.$themeVariationChangeTimeout=Ext.defer(function(){i.removeCls(r)},1e3*l)}i.removeCls(n+e),i.addCls(n+t)}},function(){}),Ext.define("Ext.carousel.Item",{extend:Ext.Decorator,config:{baseCls:"x-carousel-item",component:null,translatable:!0}}),Ext.define("Ext.carousel.Indicator",{extend:Ext.Component,xtype:"carouselindicator",alternateClassName:"Ext.Carousel.Indicator",config:{baseCls:Ext.baseCSSPrefix+"carousel-indicator",direction:"horizontal"},initialize:function(){this.callParent(),this.indicators=[],this.element.on({tap:"onTap",scope:this})},updateDirection:function(t,e){var i=this.getBaseCls();this.element.replaceCls(e,t,i),"horizontal"===t?(this.setBottom(0),this.setRight(null)):(this.setRight(0),this.setBottom(null))},addIndicator:function(){this.indicators.push(this.element.createChild({tag:"span"}))},removeIndicator:function(){var t=this.indicators;t.length>0&&t.pop().destroy()},setActiveIndex:function(t){var e=this.indicators,i=this.activeIndex,n=e[i],r=e[t],s=this.getBaseCls();return n&&n.removeCls(s,null,"active"),r&&r.addCls(s,null,"active"),this.activeIndex=t,this},onTap:function(t){var e=t.touch,i=this.element.getPageBox(),n=i.left+i.width/2,r=i.top+i.height/2,s=this.getDirection();"horizontal"===s&&e.pageX>=n||"vertical"===s&&e.pageY>=r?this.fireEvent("next",this):this.fireEvent("previous",this)},destroy:function(){var t,e,i,n=this.indicators;for(t=0,e=n.length;e>t;t++)i=n[t],i.destroy();n.length=0,this.callParent()}}),Ext.define("Ext.util.TranslatableGroup",{extend:Ext.util.translatable.Abstract,config:{items:[],activeIndex:0,itemLength:{x:0,y:0}},applyItems:function(t){return Ext.Array.from(t)},doTranslate:function(t,e){var i,n,r,s,a,o,l=this.getItems(),u=this.getActiveIndex(),h=this.getItemLength(),c=h.x,d=h.y,f=Ext.isNumber(t),g=Ext.isNumber(e);for(n=0,r=l.length;r>n;n++)s=l[n],s&&(i=n-u,f&&(a=t+i*c),g&&(o=e+i*d),s.translate(a,o))}}),Ext.define("Ext.carousel.Carousel",{extend:Ext.Container,alternateClassName:"Ext.Carousel",xtype:"carousel",config:{baseCls:"x-carousel",direction:"horizontal",directionLock:!1,animation:{duration:250,easing:{type:"ease-out"}},indicator:!0,ui:"dark",itemConfig:{},bufferSize:1,itemLength:null},itemLength:0,offset:0,flickStartOffset:0,flickStartTime:0,dragDirection:0,count:0,painted:!1,activeIndex:-1,beforeInitialize:function(){this.element.on({dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",scope:this}),this.element.on("resize","onSizeChange",this),this.carouselItems=[],this.orderedCarouselItems=[],this.inactiveCarouselItems=[],this.hiddenTranslation=0},updateBufferSize:function(t){var e,i,n=Ext.carousel.Item,r=2*t+1,s=this.isRendered(),a=this.innerElement,o=this.carouselItems,l=o.length,u=this.getItemConfig(),h=this.getItemLength(),c=this.getDirection(),d="horizontal"===c?"setWidth":"setHeight";for(e=l;r>e;e++)i=Ext.factory(u,n),h&&i[d].call(i,h),i.setLayoutSizeFlags(this.LAYOUT_BOTH),o.push(i),a.append(i.renderElement),s&&i.setRendered(!0)&&i.fireEvent("renderedchange",this,i,!0);this.getTranslatable().setActiveIndex(t)},setRendered:function(t){var e=this.rendered;if(t!==e){this.rendered=t;var i,n,r,s=this.items.items,a=this.carouselItems;for(i=0,n=s.length;n>i;i++)r=s[i],r.isInnerItem()||r.setRendered(t);for(i=0,n=a.length;n>i;i++)a[i].setRendered(t);return!0}return!1},onSizeChange:function(){this.refreshSizing(),this.refreshCarouselItems(),this.refreshActiveItem()},onItemAdd:function(t){this.callParent(arguments);var e=this.getInnerItems().indexOf(t),i=this.getIndicator();i&&t.isInnerItem()&&i.addIndicator(),e<=this.getActiveIndex()&&this.refreshActiveIndex(),this.isIndexDirty(e)&&!this.isItemsInitializing&&this.refreshActiveItem()},doItemLayoutAdd:function(t){t.isInnerItem()||this.callParent(arguments)},onItemRemove:function(t){this.callParent(arguments);var e,i,n,r=this.getInnerItems().indexOf(t),s=this.getIndicator(),a=this.carouselItems;if(t.isInnerItem()&&s&&s.removeIndicator(),r<=this.getActiveIndex()&&this.refreshActiveIndex(),this.isIndexDirty(r)){for(e=0,i=a.length;i>e;e++)n=a[e],n.getComponent()===t&&n.setComponent(null);this.refreshActiveItem()}},doItemLayoutRemove:function(t){t.isInnerItem()||this.callParent(arguments)},onInnerItemMove:function(t,e,i){(this.isIndexDirty(e)||this.isIndexDirty(i))&&this.refreshActiveItem()},doItemLayoutMove:function(t){t.isInnerItem()||this.callParent(arguments)},isIndexDirty:function(t){var e=this.getActiveIndex(),i=this.getBufferSize();return t>=e-i&&e+i>=t},getTranslatable:function(){var t=this.translatable;return t||(this.translatable=t=new Ext.util.TranslatableGroup,t.setItems(this.orderedCarouselItems),t.on("animationend","onAnimationEnd",this)),t},onDragStart:function(t){var e=this.getDirection(),i=t.absDeltaX,n=t.absDeltaY,r=this.getDirectionLock();if(this.isDragging=!0,r){if(!("horizontal"===e&&i>n||"vertical"===e&&n>i))return void(this.isDragging=!1);t.stopPropagation()}this.getTranslatable().stopAnimation(),this.dragStartOffset=this.offset,this.dragDirection=0},onDrag:function(t){if(this.isDragging){var e,i=this.dragStartOffset,n=this.getDirection(),r="horizontal"===n?t.deltaX:t.deltaY,s=this.offset,a=this.flickStartTime,o=this.dragDirection,l=Ext.Date.now(),u=this.getActiveIndex(),h=this.getMaxItemIndex(),c=o;(0===u&&r>0||u===h&&0>r)&&(r*=.5),e=i+r,e>s?o=1:s>e&&(o=-1),(o!==c||l-a>300)&&(this.flickStartOffset=s,this.flickStartTime=l),this.dragDirection=o,this.setOffset(e)}},onDragEnd:function(t){if(this.isDragging){this.onDrag(t),this.isDragging=!1;var e,i=Ext.Date.now(),n=this.itemLength,r=n/2,s=this.offset,a=this.getActiveIndex(),o=this.getMaxItemIndex(),l=0,u=s-this.flickStartOffset,h=i-this.flickStartTime,c=this.getIndicator();h>0&&Math.abs(u)>=10&&(e=u/h,Math.abs(e)>=1&&(0>e&&o>a?l=-1:e>0&&a>0&&(l=1))),0===l&&(o>a&&-r>s?l=-1:a>0&&s>r&&(l=1)),c&&c.setActiveIndex(a-l),this.animationDirection=l,this.setOffsetAnimated(l*n)}},applyAnimation:function(t){return t.easing=Ext.factory(t.easing,Ext.fx.easing.EaseOut),t},updateDirection:function(t){var e=this.getIndicator();this.currentAxis="horizontal"===t?"x":"y",e&&e.setDirection(t)},setOffset:function(t){return this.offset=t,Ext.isNumber(this.itemOffset)&&this.getTranslatable().translateAxis(this.currentAxis,t+this.itemOffset),this},setOffsetAnimated:function(t){var e=this.getIndicator();return e&&e.setActiveIndex(this.getActiveIndex()-this.animationDirection),this.offset=t,this.getTranslatable().translateAxis(this.currentAxis,t+this.itemOffset,this.getAnimation()),this},onAnimationEnd:function(t){var e,i=this.getActiveIndex(),n=this.animationDirection,r=this.currentAxis,s=t[r],a=this.itemLength;e=-1===n?a+s:1===n?s-a:s,e-=this.itemOffset,this.offset=e,this.setActiveItem(i-n)},refresh:function(){this.refreshSizing(),this.refreshActiveItem()},refreshSizing:function(){var t,e,i=this.element,n=this.getItemLength(),r={x:0,y:0};e="horizontal"===this.getDirection()?i.getWidth():i.getHeight(),this.hiddenTranslation=-e,null===n?(n=e,t=0):t=(e-n)/2,this.itemLength=n,this.itemOffset=t,r[this.currentAxis]=n,this.getTranslatable().setItemLength(r)},refreshOffset:function(){this.setOffset(this.offset)},refreshActiveItem:function(){this.doSetActiveItem(this.getActiveItem())},getActiveIndex:function(){return this.activeIndex},refreshActiveIndex:function(){this.activeIndex=this.getInnerItemIndex(this.getActiveItem())},refreshCarouselItems:function(){var t,e,i,n=this.carouselItems;for(t=0,e=n.length;e>t;t++)i=n[t],i.getTranslatable().refresh();this.refreshInactiveCarouselItems()},refreshInactiveCarouselItems:function(){var t,e,i,n=this.inactiveCarouselItems,r=this.hiddenTranslation,s=this.currentAxis;for(t=0,e=n.length;e>t;t++)i=n[t],i.translateAxis(s,r)},getMaxItemIndex:function(){return this.innerItems.length-1},getInnerItemIndex:function(t){return this.innerItems.indexOf(t)},getInnerItemAt:function(t){return this.innerItems[t]},applyActiveItem:function(){var t,e=this.callParent(arguments);return e&&(t=this.getInnerItemIndex(e),-1!==t)?(this.activeIndex=t,e):void 0},doSetActiveItem:function(t){var e,i,n,r,s,a,o,l=this.getActiveIndex(),u=this.getMaxItemIndex(),h=this.getIndicator(),c=this.getBufferSize(),d=this.carouselItems.slice(),f=this.orderedCarouselItems,g={},p={};if(0!==d.length){if(this.callParent(arguments),f.length=0,t){if(n=t.getId(),p[n]=t,g[n]=c,l>0)for(r=1;c>=r&&(s=l-r,s>=0);r++)e=this.getInnerItemAt(s),n=e.getId(),p[n]=e,g[n]=c-r;if(u>l)for(r=1;c>=r&&(s=l+r,u>=s);r++)e=this.getInnerItemAt(s),n=e.getId(),p[n]=e,g[n]=c+r;for(r=0,a=d.length;a>r;r++)o=d[r],i=o.getComponent(),i&&(n=i.getId(),g.hasOwnProperty(n)&&(d.splice(r,1),r--,a--,delete p[n],f[g[n]]=o));for(n in p)p.hasOwnProperty(n)&&(e=p[n],o=d.pop(),o.setComponent(e),f[g[n]]=o)}this.inactiveCarouselItems.length=0,this.inactiveCarouselItems=d,this.refreshOffset(),this.refreshInactiveCarouselItems(),h&&h.setActiveIndex(l)}},next:function(){return this.setOffset(0),this.activeIndex===this.getMaxItemIndex()?this:(this.animationDirection=-1,this.setOffsetAnimated(-this.itemLength),this)},previous:function(){return this.setOffset(0),0===this.activeIndex?this:(this.animationDirection=1,this.setOffsetAnimated(this.itemLength),this)},applyIndicator:function(t,e){return Ext.factory(t,Ext.carousel.Indicator,e)},updateIndicator:function(t){t&&(this.insertFirst(t),t.setUi(this.getUi()),t.on({next:"next",previous:"previous",scope:this}))},destroy:function(){var t=this.carouselItems.slice();this.carouselItems.length=0,Ext.destroy(t,this.getIndicator(),this.translatable),this.callParent(),delete this.carouselItems}},function(){}),Ext.define("Ext.carousel.Infinite",{extend:Ext.carousel.Carousel,config:{indicator:null,maxItemIndex:1/0,innerItemConfig:{}},applyIndicator:function(t){t&&Ext.Logger.error("'indicator' in Infinite Carousel implementation is not currently supported",this)},updateBufferSize:function(t){this.callParent(arguments);var e,i=2*t+1,n=this.innerItems.length,r=this.getInnerItemConfig();for(this.isItemsInitializing=!0,e=n;i>e;e++)this.doAdd(this.factoryItem(r));this.isItemsInitializing=!1,this.rebuildInnerIndexes(),this.refreshActiveItem()},updateMaxItemIndex:function(t,e){if(void 0!==e){var i=this.getActiveIndex();i>t?this.setActiveItem(t):(this.rebuildInnerIndexes(i),this.refreshActiveItem())}},rebuildInnerIndexes:function(t){var e,i,n,r,s,a=this.innerIndexToItem,o=this.innerIdToIndex,l=this.innerItems.slice(),u=l.length,h=this.getBufferSize(),c=this.getMaxItemIndex(),d=[];if(void 0===t)for(this.innerIndexToItem=a={},this.innerIdToIndex=o={},e=0;u>e;e++)s=l[e],r=s.getId(),o[r]=e,a[e]=s,this.fireEvent("itemindexchange",this,s,e,-1);else{for(e=t-h;t+h>=e;e++)if(e>=0&&c>=e){if(a.hasOwnProperty(e)){Ext.Array.remove(l,a[e]);continue}d.push(e)}for(e=0,u=d.length;u>e;e++)s=l[e],r=s.getId(),n=d[e],i=o[r],delete a[i],o[r]=n,a[n]=s,this.fireEvent("itemindexchange",this,s,n,i)}},reset:function(){this.rebuildInnerIndexes(),this.setActiveItem(0)},refreshItems:function(){var t,e,i,n,r=this.innerItems,s=this.innerIdToIndex;for(i=0,n=r.length;n>i;i++)e=r[i],t=s[e.getId()],this.fireEvent("itemindexchange",this,e,t,-1)},getInnerItemIndex:function(t){var e=this.innerIdToIndex[t.getId()];return"number"==typeof e?e:-1},getInnerItemAt:function(t){return this.innerIndexToItem[t]},applyActiveItem:function(t){this.getItems(),this.getBufferSize();var e=this.getMaxItemIndex(),i=this.getActiveIndex();if("number"==typeof t){if(t=Math.max(0,Math.min(t,e)),t===i)return;this.activeIndex=t,this.rebuildInnerIndexes(t),t=this.getInnerItemAt(t)}return t?this.callParent([t]):void 0}}),function(){if(!Ext.global.Float32Array){var t=function(t){if("number"==typeof t)this.length=t;else if("length"in t){this.length=t.length;for(var e=0,i=t.length;i>e;e++)this[e]=+t[e]}};t.prototype=[],Ext.global.Float32Array=t}}(),Ext.define("Ext.draw.Draw",{singleton:!0,radian:Math.PI/180,pi2:2*Math.PI,reflectFn:function(t){return t},rad:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},isBBoxIntersect:function(t,e,i){return i=i||0,Math.max(t.x,e.x)-i>Math.min(t.x+t.width,e.x+e.width)||Math.max(t.y,e.y)-i>Math.min(t.y+t.height,e.y+e.height)},spline:function(t){var e,i,n,r,s,a,o=t.length,l=0,u=new Float32Array(t.length),h=new Float32Array(3*t.length-2);for(u[0]=0,u[o-1]=0,e=1;o-1>e;e++)u[e]=t[e+1]+t[e-1]-2*t[e]-u[e-1],l=1/(4-l),u[e]*=l;for(e=o-2;e>0;e--)l=3.732050807568877+48.248711305964385/(-13.928203230275537+Math.pow(.07179676972449123,e)),u[e]-=u[e+1]*l;for(a=t[0],n=a-u[0],e=0,i=0;o-1>e;i+=3)s=a,r=n,e++,a=t[e],n=a-u[e],h[i]=s,h[i+1]=(n+2*r)/3,h[i+2]=(2*n+r)/3;return h[i]=a,h},getAnchors:function(t,e,i,n,r,s,a){a=a||4;var o,l,u,h,c,d,f,g,p,m=Math.PI,x=m/2,E=Math.abs,y=Math.sin,v=Math.cos,b=Math.atan;return o=(i-t)/a,l=(r-i)/a,n>=e&&n>=s||e>=n&&s>=n?u=h=x:(u=b((i-t)/E(n-e)),n>e&&(u=m-u),h=b((r-i)/E(n-s)),n>s&&(h=m-h)),p=x-(u+h)%(2*m)/2,p>x&&(p-=m),u+=p,h+=p,c=i-o*y(u),d=n+o*v(u),f=i+l*y(h),g=n+l*v(h),(n>e&&e>d||e>n&&d>e)&&(c+=E(e-d)*(c-i)/(d-n),d=e),(n>s&&s>g||s>n&&g>s)&&(f-=E(s-g)*(f-i)/(g-n),g=s),{x1:c,y1:d,x2:f,y2:g}},smooth:function(t,e,i){var n,r,s,a,o,l,u,h,c,d,f=t.length,g=[],p=[];for(c=0;f-1>c&&(n=t[c],r=e[c],0!==c||(u=n,h=r,g.push(u),p.push(h),1!==f));c++){if(s=t[c+1],a=e[c+1],o=t[c+2],l=e[c+2],isNaN(o)||isNaN(l)){g.push(u,s,s),p.push(h,a,a);break}d=this.getAnchors(n,r,s,a,o,l,i),g.push(u,d.x1,s),p.push(h,d.y1,a),u=d.x2,h=d.y2}return{smoothX:g,smoothY:p}},updateIOS:Ext.os.is.iOS?function(){Ext.getBody().createChild({id:"frame-workaround",style:"position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background: rgba(0,0,0,0.001); z-index: 100000"}),Ext.draw.Animator.schedule(function(){Ext.get("frame-workaround").destroy()})}:Ext.emptyFn}),Ext.define("Ext.draw.gradient.Gradient",{isGradient:!0,config:{stops:[]},applyStops:function(t){var e,i,n,r=[],s=t.length;for(e=0;s>e;e++)i=t[e],n=Ext.draw.Color.fly(i.color||"none"),r.push({offset:Math.min(1,Math.max(0,"offset"in i?i.offset:i.position||0)),color:n.toString()});return r.sort(function(t,e){return t.offset-e.offset}),r},onClassExtended:function(t,e){!e.alias&&e.type&&(e.alias="gradient."+e.type)},constructor:function(t){this.initConfig(t)},generateGradient:Ext.emptyFn}),function(){Ext.define("Ext.draw.Color",{statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/},isColor:!0,lightnessFactor:.2,constructor:function(t,e,i,n){this.setRGB(t,e,i,n)},setRGB:function(t,e,i,n){var r=this;r.r=Math.min(255,Math.max(0,t)),r.g=Math.min(255,Math.max(0,e)),r.b=Math.min(255,Math.max(0,i)),r.a=void 0===n?1:Math.min(1,Math.max(0,n))},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},getHSL:function(t){var e,i=this,n=i.r/255,r=i.g/255,s=i.b/255,a=Math.max(n,r,s),o=Math.min(n,r,s),l=a-o,u=0,h=.5*(a+o);return o!==a&&(u=.5>h?l/(a+o):l/(2-a-o),e=n===a?60*(r-s)/l:r===a?120+60*(s-n)/l:240+60*(n-r)/l,0>e&&(e+=360),e>=360&&(e-=360)),t?(t[0]=e,t[1]=u,t[2]=h):t=[e,u,h],t},setHSL:function(t,e,i){var n,r,s,a=Math.abs,o=Math.floor;if(t=(t%360+360)%360,e=e>1?1:0>e?0:e,i=i>1?1:0>i?0:i,0===e||null===t)i*=255,this.setRGB(i,i,i);else switch(t/=60,n=e*(1-a(2*i-1)),r=n*(1-a(t-2*o(t/2)-1)),s=i-n/2,s*=255,n*=255,r*=255,o(t)){case 0:this.setRGB(n+s,r+s,s);break;case 1:this.setRGB(r+s,n+s,s);break;case 2:this.setRGB(s,n+s,r+s);break;case 3:this.setRGB(s,r+s,n+s);break;case 4:this.setRGB(r+s,s,n+s);break;case 5:this.setRGB(n+s,s,r+s)}return this},createLighter:function(t){var e=this.getHSL();return t=t||this.lightnessFactor,e[2]=e[2]+t,e[2]>1?e[2]=1:e[2]<0&&(e[2]=0),Ext.draw.Color.fromHSL(e[0],e[1],e[2])},createDarker:function(t){return t=t||this.lightnessFactor,this.createLighter(-t)},toString:function(){if(1===this.a){var t=this,e=Math.round,i=e(t.r).toString(16),n=e(t.g).toString(16),r=e(t.b).toString(16);return i=1===i.length?"0"+i:i,n=1===n.length?"0"+n:n,r=1===r.length?"0"+r:r,["#",i,n,r].join("")}return"rgba("+[Math.round(this.r),Math.round(this.g),Math.round(this.b),this.a.toFixed(15)].join(",")+")"},toHex:function(t){if(Ext.isArray(t)&&(t=t[0]),!Ext.isString(t))return"";if("#"===t.substr(0,1))return t;var e=Ext.draw.Color.colorToHexRe.exec(t);if(Ext.isArray(e)){var i=parseInt(e[2],10),n=parseInt(e[3],10),r=parseInt(e[4],10),s=r|n<<8|i<<16;return e[1]+"#"+("000000"+s.toString(16)).slice(-6)}return""},setFromString:function(t){var e,i,n,r,s=1,a=parseInt;if("none"===t)return this.r=this.g=this.b=this.a=0,this;if(4!==t.length&&7!==t.length||"#"!==t.substr(0,1)){if(e=t.match(Ext.draw.Color.rgbToHexRe))i=+e[1],n=+e[2],r=+e[3];else if(e=t.match(Ext.draw.Color.rgbaToHexRe))i=+e[1],n=+e[2],r=+e[3],s=+e[4];else if(Ext.draw.Color.ColorList.hasOwnProperty(t.toLowerCase()))return this.setFromString(Ext.draw.Color.ColorList[t.toLowerCase()])}else e=t.match(Ext.draw.Color.hexRe),e&&(i=a(e[1],16)>>0,n=a(e[2],16)>>0,r=a(e[3],16)>>0,4===t.length&&(i+=16*i,n+=16*n,r+=16*r));return"undefined"==typeof i?this:(this.r=i,this.g=n,this.b=r,this.a=s,this)}},function(){var t=new this;this.addStatics({fly:function(e,i,n,r){switch(arguments.length){case 1:t.setFromString(e);break;case 3:case 4:t.setRGB(e,i,n,r);break;default:return null}return t},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(t,e,i){return new this(0,0,0,0).setHSL(t,e,i)},fromString:function(t){return new this(0,0,0,0).setFromString(t)},create:function(t){return t instanceof this?t:Ext.isArray(t)?new Ext.draw.Color(t[0],t[1],t[2],t[3]):Ext.isString(t)?Ext.draw.Color.fromString(t):arguments.length>2?new Ext.draw.Color(arguments[0],arguments[1],arguments[2],arguments[3]):new Ext.draw.Color(0,0,0,0)}})})}(),Ext.define("Ext.draw.gradient.GradientDefinition",{singleton:!0,urlStringRe:/^url\(#([\w\-]+)\)$/,gradients:{},add:function(t){var e,i,n,r=this.gradients;for(e=0,i=t.length;i>e;e++)n=t[e],Ext.isString(n.id)&&(r[n.id]=n)},get:function(t){var e,i=this.gradients,n=t.match(this.urlStringRe);return n&&n[1]&&(e=i[n[1]])?e||t:t}}),Ext.define("Ext.draw.sprite.AttributeParser",{singleton:!0,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,"default":function(t){return t},string:function(t){return String(t)},number:function(t){return isNaN(t)?void 0:t},angle:function(t){return isNaN(t)?void 0:(t%=2*Math.PI,t<-Math.PI&&(t+=2*Math.PI),t>Math.PI&&(t-=2*Math.PI),t)},data:function(t){return Ext.isArray(t)?t.slice():t instanceof Float32Array?new Float32Array(t):void 0},bool:function(t){return!!t},color:function(t){return t instanceof Ext.draw.Color?t.toString():t instanceof Ext.draw.gradient.Gradient?t:t?Ext.isString(t)&&(t=Ext.draw.gradient.GradientDefinition.get(t),Ext.isString(t))?t:"linear"===t.type?Ext.create("Ext.draw.gradient.Linear",t):"radial"===t.type?Ext.create("Ext.draw.gradient.Radial",t):"pattern"===t.type?Ext.create("Ext.draw.gradient.Pattern",t):void 0:"none"},limited:function(t,e){return function(i){return isNaN(i)?void 0:Math.min(Math.max(+i,t),e)}},limited01:function(t){return isNaN(t)?void 0:Math.min(Math.max(+t,0),1)},enums:function(){var t,e,i={},n=Array.prototype.slice.call(arguments,0);for(t=0,e=n.length;e>t;t++)i[n[t]]=!0;return function(t){return t in i?t:void 0}}}),function(){function t(t,e,i){return t+(e-t)*i}Ext.define("Ext.draw.sprite.AnimationParser",{singleton:!0,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,color:{parseInitial:function(t,e){return Ext.isString(t)&&(t=Ext.draw.Color.create(t)),Ext.isString(e)&&(e=Ext.draw.Color.create(e)),t instanceof Ext.draw.Color&&e instanceof Ext.draw.Color?[[t.r,t.g,t.b,t.a],[e.r,e.g,e.b,e.a]]:[t||e,e||t]},compute:function(e,i,n){return Ext.isArray(e)&&Ext.isArray(i)?[t(e[0],i[0],n),t(e[1],i[1],n),t(e[2],i[2],n),t(e[3],i[3],n)]:i||e},serve:function(t){var e=Ext.draw.Color.fly(t[0],t[1],t[2],t[3]);return e.toString()}},number:{parse:function(t){return null===t?null:+t},compute:function(e,i,n){return Ext.isNumber(e)&&Ext.isNumber(i)?t(e,i,n):i||e}},angle:{parseInitial:function(t,e){return e-t>Math.PI?e-=2*Math.PI:e-t<-Math.PI&&(e+=2*Math.PI),[t,e]},compute:function(e,i,n){return Ext.isNumber(e)&&Ext.isNumber(i)?t(e,i,n):i||e}},path:{parseInitial:function(t,e){var i,n,r,s,a,o=t.toStripes(),l=e.toStripes(),u=o.length,h=l.length,c=l[h-1],d=[c[c.length-2],c[c.length-1]];for(i=u;h>i;i++)o.push(o[u-1].slice(0));for(i=h;u>i;i++)l.push(d.slice(0));for(a=o.length,l.path=e,l.temp=new Ext.draw.Path,i=0;a>i;i++){for(r=o[i],s=l[i],u=r.length,h=s.length,l.temp.types.push("M"),n=h;u>n;n+=6)s.push(d[0],d[1],d[0],d[1],d[0],d[1]);for(c=l[l.length-1],d=[c[c.length-2],c[c.length-1]],n=u;h>n;n+=6)r.push(d[0],d[1],d[0],d[1],d[0],d[1]);for(i=0;i<s.length;i++)s[i]-=r[i];for(i=2;i<s.length;i+=6)l.temp.types.push("C")}return[o,l]},compute:function(t,e,i){if(i>=1)return e.path;for(var n,r,s,a=0,o=t.length,l=0,u=e.temp.coords,h=0;o>a;a++)for(r=t[a],s=e[a],n=r.length,l=0;n>l;l++)u[h++]=s[l]*i+r[l];return e.temp}},data:{compute:function(t,e,i,n){var r,s,a,o=t.length-1,l=e.length-1,u=Math.max(o,l);for(n&&n!==t||(n=[]),n.length=u+1,a=0;u>=a;a++)r=t[Math.min(a,o)],s=e[Math.min(a,l)],n[a]=isNaN(r)?s:(s-r)*i+r;return n}},text:{compute:function(t,e,i){return t.substr(0,Math.round(t.length*(1-i)))+e.substr(Math.round(e.length*(1-i)))}},limited:"number",limited01:"number"})}(),Ext.define("Ext.draw.sprite.AttributeDefinition",{config:{defaults:{},aliases:{},animationProcessors:{},processors:{},dirtyTriggers:{},updaters:{}},inheritableStatics:{processorRe:/^(\w+)\(([\w\-,]*)\)$/},constructor:function(t){var e=this;e.initConfig(t)},applyDefaults:function(t,e){return e=Ext.apply(e||{},this.normalize(t))},applyAliases:function(t,e){return Ext.apply(e||{},t)},applyProcessors:function(t,e){this.getAnimationProcessors();var i,n,r,s,a=e||{},o=Ext.draw.sprite.AttributeParser,l=this.self.processorRe,u={};for(i in t){if(s=t[i],!Ext.isFunction(s)){if(!Ext.isString(s))continue;r=s.match(l),r?s=o[r[1]].apply(o,r[2].split(",")):(u[i]=s,n=!0,s=o[s])}a[i]=s}return n&&this.setAnimationProcessors(u),a},applyAnimationProcessors:function(t,e){var i,n=Ext.draw.sprite.AnimationParser;e||(e={});for(var r in t)if(i=t[r],"none"===i)e[r]=null;else if(!Ext.isString(i)||r in e)Ext.isObject(i)&&(e[r]=i);else if(i in n){for(;Ext.isString(n[i]);)i=n[i];e[r]=n[i]}return e},applyDirtyTriggers:function(t,e){e||(e={});for(var i in t)e[i]=t[i].split(",");return e},applyUpdaters:function(t,e){return Ext.apply(e||{},t)},batchedNormalize:function(t,e){if(!t)return{};var i,n,r,s,a,o,l,u,h,c,d=this,f=d.getProcessors(),g=d.getAliases(),p={};o="rotation"in t?t.rotation:"rotate"in t?t.rotate:void 0,l="scaling"in t?t.scaling:"scale"in t?t.scale:void 0,a="translation"in t?t.translation:"translate"in t?t.translate:void 0,"undefined"!=typeof l&&(Ext.isNumber(l)?(p.scalingX=l,p.scalingY=l):("x"in l&&(p.scalingX=l.x),"y"in l&&(p.scalingY=l.y),"centerX"in l&&(p.scalingCenterX=l.centerX),"centerY"in l&&(p.scalingCenterY=l.centerY))),"undefined"!=typeof o&&(Ext.isNumber(o)?(o=Ext.draw.Draw.rad(o),p.rotationRads=o):("rads"in o?p.rotationRads=o.rads:"degrees"in o&&(p.rotationRads=Ext.isArray(o.degrees)?o.degrees.map(function(t){return Ext.draw.Draw.rad(t)}):Ext.draw.Draw.rad(o.degrees)),"centerX"in o&&(p.rotationCenterX=o.centerX),"centerY"in o&&(p.rotationCenterY=o.centerY))),"undefined"!=typeof a&&("x"in a&&(p.translationX=a.x),"y"in a&&(p.translationY=a.y)),"matrix"in t&&(u=Ext.draw.Matrix.create(t.matrix),c=u.split(),p.matrix=u,p.rotationRads=c.rotation,p.rotationCenterX=0,p.rotationCenterY=0,p.scalingX=c.scaleX,p.scalingY=c.scaleY,p.scalingCenterX=0,p.scalingCenterY=0,p.translationX=c.translateX,p.translationY=c.translateY);for(r in t)if(s=t[r],"undefined"!=typeof s)if(Ext.isArray(s))if(r in g&&(r=g[r]),r in f)for(p[r]=[],i=0,n=s.length;n>i;i++)h=f[r].call(this,s[i]),"undefined"!=typeof h&&(p[r][i]=h);else e&&(p[r]=s);else r in g&&(r=g[r]),r in f?(s=f[r].call(this,s),"undefined"!=typeof s&&(p[r]=s)):e&&(p[r]=s);return p},normalize:function(t,e){if(!t)return{};var i,n,r,s,a,o,l=this,u=l.getProcessors(),h=l.getAliases(),c=t.translation||t.translate,d={};r="rotation"in t?t.rotation:"rotate"in t?t.rotate:void 0,s="scaling"in t?t.scaling:"scale"in t?t.scale:void 0,c&&("x"in c&&(d.translationX=c.x),"y"in c&&(d.translationY=c.y)),"undefined"!=typeof s&&(Ext.isNumber(s)?(d.scalingX=s,d.scalingY=s):("x"in s&&(d.scalingX=s.x),"y"in s&&(d.scalingY=s.y),"centerX"in s&&(d.scalingCenterX=s.centerX),"centerY"in s&&(d.scalingCenterY=s.centerY))),"undefined"!=typeof r&&(Ext.isNumber(r)?(r=Ext.draw.Draw.rad(r),d.rotationRads=r):("rads"in r?d.rotationRads=r.rads:"degrees"in r&&(d.rotationRads=Ext.draw.Draw.rad(r.degrees)),"centerX"in r&&(d.rotationCenterX=r.centerX),"centerY"in r&&(d.rotationCenterY=r.centerY))),"matrix"in t&&(a=Ext.draw.Matrix.create(t.matrix),o=a.split(),d.matrix=a,d.rotationRads=o.rotation,d.rotationCenterX=0,d.rotationCenterY=0,d.scalingX=o.scaleX,d.scalingY=o.scaleY,d.scalingCenterX=0,d.scalingCenterY=0,d.translationX=o.translateX,d.translationY=o.translateY);for(i in t)n=t[i],"undefined"!=typeof n&&(i in h&&(i=h[i]),i in u?(n=u[i].call(this,n),"undefined"!=typeof n&&(d[i]=n)):e&&(d[i]=n));return d},setBypassingNormalization:function(t,e,i){return e.pushDown(t,i)},set:function(t,e,i){return i=this.normalize(i),this.setBypassingNormalization(t,e,i)}}),Ext.define("Ext.draw.modifier.Modifier",{config:{previous:null,next:null,sprite:null},constructor:function(t){this.initConfig(t)},updateNext:function(t){t&&t.setPrevious(this)},updatePrev:function(t){t&&t.setNext(this)},prepareAttributes:function(t){this._previous&&this._previous.prepareAttributes(t)},popUp:function(t,e){this._next?this._next.popUp(t,e):Ext.apply(t,e)},pushDown:function(t,e){if(this._previous)return this._previous.pushDown(t,e);for(var i in e)e[i]===t[i]&&delete e[i];return e}}),Ext.define("Ext.draw.modifier.Target",{extend:Ext.draw.modifier.Modifier,alias:"modifier.target",statics:{uniqueId:0},prepareAttributes:function(t){this._previous&&this._previous.prepareAttributes(t),t.attributeId="attribute-"+Ext.draw.modifier.Target.uniqueId++,t.hasOwnProperty("canvasAttributes")||(t.bbox={plain:{dirty:!0},transform:{dirty:!0}},t.dirty=!0,t.dirtyFlags={},t.canvasAttributes={},t.matrix=new Ext.draw.Matrix,t.inverseMatrix=new Ext.draw.Matrix)},setDirtyFlags:function(t,e){Ext.apply(t,e);var i,n,r,s,a,o,l,u=this._sprite,h=u.self.def._dirtyTriggers,c=t.dirtyFlags,d=!1;for(i in e)if(r=h[i])for(a=0;s=r[a++];)(n=c[s])||(n=c[s]=[]),n.push(i);for(i in e){d=!0;break}if(d){if(c.canvas)for(l=c.canvas,delete c.canvas,a=0,o=l.length;o>a;a++)i=l[a],t.canvasAttributes[i]=t[i];if(t.hasOwnProperty("children"))for(a=0,o=t.children.length;o>a;a++)Ext.apply(t.children[a].dirtyFlags,c),u.updateDirtyFlags(t.children[a]);
u.setDirty(!0)}},popUp:function(t,e){this.setDirtyFlags(t,e),this._sprite.updateDirtyFlags(t)},pushDown:function(t,e){return this._previous&&(e=this._previous.pushDown(t,e)),this.setDirtyFlags(t,e),this._sprite.updateDirtyFlags(t),e}}),function(){var t,e,i,n,r,s,a,o=Math.pow,l=Math.sin,u=Math.cos,h=Math.sqrt,c=Math.PI;for(i=["quad","cubic","quart","quint"],t={pow:function(t,e){return o(t,e[0]||6)},expo:function(t){return o(2,8*(t-1))},circ:function(t){return 1-h(1-t*t)},sine:function(t){return 1-l((1-t)*c/2)},back:function(t,e){return e=e||1.616,t*t*((e+1)*t-e)},bounce:function(t){for(var e,i=0,n=1;1;i+=n,n/=2)if(t>=(7-4*i)/11){e=n*n-o((11-6*i-11*t)/4,2);break}return e},elastic:function(t,e){return o(2,10*--t)*u(20*t*c*(e||1)/3)}},e=function(t,e){return e=e&&e.length?e:[e],Ext.apply(t,{easeIn:function(i){return t(i,e)},easeOut:function(i){return 1-t(1-i,e)},easeInOut:function(i){return.5>=i?t(2*i,e)/2:(2-t(2*(1-i),e))/2}})},n=function(t){return function(e){return o(e,t)}},s=0,a=i.length;a>s;++s)t[i[s]]=n(s+2);t.linear=function(t){return t};for(r in t)t.hasOwnProperty(r)&&e(t[r]);Ext.define("Ext.draw.TimingFunctions",{singleton:!0,easingMap:{linear:t.linear,easeIn:t.quad.easeIn,easeOut:t.quad.easeOut,easeInOut:t.quad.easeInOut,backIn:t.back,backOut:function(e,i){return 1-t.back(1-e,i)},backInOut:function(e,i){return.5>e?.5*t.back(2*e,i):1-.5*t.back(2*(1-e),i)},elasticIn:function(e,i){return 1-t.elastic(1-e,i)},elasticOut:t.elastic,bounceIn:t.bounce,bounceOut:function(e){return 1-t.bounce(1-e)}}},function(){Ext.apply(this,t)})}(),Ext.define("Ext.draw.Animator",{singleton:!0,frameCallbacks:{},frameCallbackId:0,scheduled:0,frameStartTimeOffset:Date.now(),animations:[],running:!1,animationTime:function(){return Ext.AnimationQueue.frameStartTime-this.frameStartTimeOffset},add:function(t){this.contains(t)||(this.animations.push(t),Ext.draw.Animator.ignite(),"fireEvent"in t&&t.fireEvent("animationstart",t))},remove:function(t){for(var e=this,i=e.animations,n=0,r=i.length;r>n;++n)if(i[n]===t)return i.splice(n,1),void("fireEvent"in t&&t.fireEvent("animationend",t))},contains:function(t){return this.animations.indexOf(t)>-1},empty:function(){return 0===this.animations.length},step:function(t){for(var e,i=this,n=i.animations,r=0,s=n.length;s>r;r++)e=n[r],e.step(t),e.animating||(n.splice(r,1),r--,s--,e.fireEvent&&e.fireEvent("animationend"))},schedule:function(t,e){e=e||this;var i="frameCallback"+this.frameCallbackId++;return Ext.isString(t)&&(t=e[t]),Ext.draw.Animator.frameCallbacks[i]={fn:t,scope:e,once:!0},this.scheduled++,Ext.draw.Animator.ignite(),i},cancel:function(t){Ext.draw.Animator.frameCallbacks[t]&&Ext.draw.Animator.frameCallbacks[t].once&&(this.scheduled--,delete Ext.draw.Animator.frameCallbacks[t])},addFrameCallback:function(t,e){e=e||this,Ext.isString(t)&&(t=e[t]);var i="frameCallback"+this.frameCallbackId++;return Ext.draw.Animator.frameCallbacks[i]={fn:t,scope:e},i},removeFrameCallback:function(t){delete Ext.draw.Animator.frameCallbacks[t]},fireFrameCallbacks:function(){var t,e,i,n=this.frameCallbacks;for(t in n)i=n[t],e=i.fn,Ext.isString(e)&&(e=i.scope[e]),e.call(i.scope),n[t]&&i.once&&(this.scheduled--,delete n[t])},handleFrame:function(){this.step(this.animationTime()),this.fireFrameCallbacks(),!this.scheduled&&this.empty()&&(Ext.AnimationQueue.stop(this.handleFrame,this),this.running=!1)},ignite:function(){this.running||(this.running=!0,Ext.AnimationQueue.start(this.handleFrame,this),Ext.draw.Draw.updateIOS())}}),Ext.define("Ext.draw.modifier.Animation",{mixins:{observable:Ext.mixin.Observable},extend:Ext.draw.modifier.Modifier,alias:"modifier.animation",config:{easing:function(t){return t},duration:0,customEasings:{},customDuration:{}},constructor:function(){this.anyAnimation=!1,this.anySpecialAnimations=!1,this.animating=0,this.animatingPool=[],this.callSuper(arguments)},prepareAttributes:function(t){t.hasOwnProperty("timers")||(t.animating=!1,t.timers={},t.animationOriginal=Ext.Object.chain(t),t.animationOriginal.upperLevel=t),this._previous&&this._previous.prepareAttributes(t.animationOriginal)},updateSprite:function(t){this.setConfig(t.config.fx)},updateDuration:function(t){this.anyAnimation=t>0},applyEasing:function(t){return"string"==typeof t?Ext.draw.TimingFunctions.easingMap[t]:t},applyCustomEasings:function(t,e){e=e||{};var i,n,r,s,a;for(i in t)for(r=t[i],n=i.split(","),"string"==typeof r&&(r=Ext.draw.TimingFunctions.easingMap[r]),s=0,a=n.length;a>s;s++)e[n[s]]=r;return e},setEasingOn:function(t,e){t=Ext.Array.from(t).slice();for(var i={},n=0,r=t.length;r>n;n++)i[t[n]]=e;this.setCustomEasings(i)},clearEasingOn:function(t){t=Ext.Array.from(t,!0);for(var e=0,i=t.length;i>e;e++)delete this._customEasings[t[e]]},applyCustomDuration:function(t,e){e=e||{};var i,n,r,s,a,o=this.anySpecialAnimations;for(i in t)for(n=t[i],r=i.split(","),o=!0,s=0,a=r.length;a>s;s++)e[r[s]]=n;return this.anySpecialAnimations=o,e},setDurationOn:function(t,e){t=Ext.Array.from(t).slice();for(var i={},n=0,r=t.length;r>n;n++)i[t[n]]=e;this.setCustomDuration(i)},clearDurationOn:function(t){t=Ext.Array.from(t,!0);for(var e=0,i=t.length;i>e;e++)delete this._customDuration[t[e]]},setAnimating:function(t,e){var i,n,r=this;if(t.animating!==e)if(t.animating=e,e)r.animatingPool.push(t),0===r.animating&&Ext.draw.Animator.add(r),r.animating++;else{for(i=0,n=0;i<r.animatingPool.length;i++)r.animatingPool[i]!==t&&(r.animatingPool[n++]=r.animatingPool[i]);r.animating=r.animatingPool.length=n}},setAttrs:function(t,e){var i,n,r,s,a,o,l,u=t.timers,h=this._sprite.self.def._animationProcessors,c=this._easing,d=this._duration,f=this._customDuration,g=this._customEasings,p=this.anySpecialAnimations,m=this.anyAnimation||p,x=t.animationOriginal,E=!1;if(!m){for(n in e)t[n]===e[n]?delete e[n]:t[n]=e[n],delete x[n],delete u[n];return e}for(n in e){if(r=e[n],s=t[n],r!==s&&m&&void 0!==s&&null!==s&&(a=h[n])){if(o=c,l=d,p&&(n in g&&(o=g[n]),n in f&&(l=f[n])),l){if(u[n]||(u[n]={}),i=u[n],i.start=0,i.easing=o,i.duration=l,i.compute=a.compute,i.serve=a.serve||Ext.draw.Draw.reflectFn,a.parseInitial){var y=a.parseInitial(s,r);i.source=y[0],i.target=y[1]}else a.parse?(i.source=a.parse(s),i.target=a.parse(r)):(i.source=s,i.target=r);u[n]=i,x[n]=r,delete e[n],E=!0;continue}delete x[n]}else delete x[n];delete u[n]}return E&&!t.animating&&this.setAnimating(t,!0),e},updateAttributes:function(t){if(!t.animating)return{};var e,i,n,r={},s=!1,a=t.animationOriginal,o=t.timers,l=Ext.draw.Animator.animationTime();if(t.lastUpdate===l)return{};for(e in o)i=o[e],i.start?n=(l-i.start)/i.duration:(i.start=l,n=0),n>=1?(r[e]=a[e],delete a[e],delete o[e]):(r[e]=i.serve(i.compute(i.source,i.target,i.easing(n),t[e])),s=!0);return t.lastUpdate=l,this.setAnimating(t,s),r},pushDown:function(t,e){return e=Ext.draw.modifier.Modifier.prototype.pushDown.call(this,t.animationOriginal,e),this.setAttrs(t,e)},popUp:function(t,e){return t=t.upperLevel,e=this.setAttrs(t,e),this._next?this._next.popUp(t,e):Ext.apply(t,e)},step:function(){var t,e,i,n=this,r=n.animatingPool.slice();for(e=0,i=r.length;i>e;e++){t=r[e];var s,a=this.updateAttributes(t);for(s in a){this._next&&this._next.popUp(t,a);break}}},stop:function(){this.step();var t,e,i=this,n=i.animatingPool;for(t=0,e=n.length;e>t;t++)n[t].animating=!1;i.animatingPool.length=0,i.animating=0,Ext.draw.Animator.remove(i)},destroy:function(){var t=this;t.animatingPool.length=0,t.animating=0}}),Ext.define("Ext.draw.modifier.Highlight",{extend:Ext.draw.modifier.Modifier,alias:"modifier.highlight",config:{enabled:!1,highlightStyle:null},preFx:!0,applyHighlightStyle:function(t,e){return e=e||{},this.getSprite()?Ext.apply(e,this.getSprite().self.def.normalize(t)):Ext.apply(e,t),e},prepareAttributes:function(t){t.hasOwnProperty("highlightOriginal")||(t.highlighted=!1,t.highlightOriginal=Ext.Object.chain(t)),this._previous&&this._previous.prepareAttributes(t.highlightOriginal)},updateSprite:function(t){t&&(this.getHighlightStyle()&&(this._highlightStyle=t.self.def.normalize(this.getHighlightStyle())),this.setHighlightStyle(t.config.highlightCfg));var e=t.self.def;this.setSprite(t),e.setConfig({defaults:{highlighted:!1},processors:{highlighted:"bool"},aliases:{highlight:"highlighted",highlighting:"highlighted"},dirtyFlags:{},updaters:{}})},filterChanges:function(t,e){var i,n=this,r=t.highlightOriginal,s=n.getHighlightStyle();if(t.highlighted)for(i in e)s.hasOwnProperty(i)&&(r[i]=e[i],delete e[i]);for(i in e)"highlighted"!==i&&r[i]===e[i]&&delete e[i];return e},pushDown:function(t,e){var i,n,r=this.getHighlightStyle(),s=t.highlightOriginal;if(e.hasOwnProperty("highlighted")){if(i=e.highlighted,delete e.highlighted,this._previous&&(e=this._previous.pushDown(s,e)),e=this.filterChanges(t,e),i!==t.highlighted){if(i)for(n in r)s[n]=n in e?e[n]:t[n],s[n]!==r[n]&&(e[n]=r[n]);else for(n in r)n in e||(e[n]=s[n]),delete s[n];e.highlighted=i}}else this._previous&&(e=this._previous.pushDown(s,e)),e=this.filterChanges(t,e);return e},popUp:function(t,e){e=this.filterChanges(t,e),Ext.draw.modifier.Modifier.prototype.popUp.call(this,t,e)}}),Ext.define("Ext.draw.sprite.Sprite",{alias:"sprite.sprite",mixins:{observable:Ext.mixin.Observable},isSprite:!0,inheritableStatics:{def:{processors:{strokeStyle:"color",fillStyle:"color",strokeOpacity:"limited01",fillOpacity:"limited01",lineWidth:"number",lineCap:"enums(butt,round,square)",lineJoin:"enums(round,bevel,miter)",lineDash:"data",lineDashOffset:"number",miterLimit:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",shadowBlur:"number",globalAlpha:"limited01",globalCompositeOperation:"enums(source-over,destination-over,source-in,destination-in,source-out,destination-out,source-atop,destination-atop,lighter,xor,copy)",hidden:"bool",transformFillStroke:"bool",zIndex:"number",translationX:"number",translationY:"number",rotationRads:"number",rotationCenterX:"number",rotationCenterY:"number",scalingX:"number",scalingY:"number",scalingCenterX:"number",scalingCenterY:"number",constrainGradients:"bool"},aliases:{stroke:"strokeStyle",fill:"fillStyle",color:"fillStyle","stroke-width":"lineWidth","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","text-anchor":"textAlign",opacity:"globalAlpha",translateX:"translationX",translateY:"translationY",rotateRads:"rotationRads",rotateCenterX:"rotationCenterX",rotateCenterY:"rotationCenterY",scaleX:"scalingX",scaleY:"scalingY",scaleCenterX:"scalingCenterX",scaleCenterY:"scalingCenterY"},defaults:{hidden:!1,zIndex:0,strokeStyle:"none",fillStyle:"none",lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:1,shadowColor:"none",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,globalAlpha:1,strokeOpacity:1,fillOpacity:1,transformFillStroke:!1,translationX:0,translationY:0,rotationRads:0,rotationCenterX:null,rotationCenterY:null,scalingX:1,scalingY:1,scalingCenterX:null,scalingCenterY:null,constrainGradients:!1},dirtyTriggers:{hidden:"canvas",zIndex:"zIndex",globalAlpha:"canvas",globalCompositeOperation:"canvas",transformFillStroke:"canvas",strokeStyle:"canvas",fillStyle:"canvas",strokeOpacity:"canvas",fillOpacity:"canvas",lineWidth:"canvas",lineCap:"canvas",lineJoin:"canvas",lineDash:"canvas",lineDashOffset:"canvas",miterLimit:"canvas",shadowColor:"canvas",shadowOffsetX:"canvas",shadowOffsetY:"canvas",shadowBlur:"canvas",translationX:"transform",translationY:"transform",rotationRads:"transform",rotationCenterX:"transform",rotationCenterY:"transform",scalingX:"transform",scalingY:"transform",scalingCenterX:"transform",scalingCenterY:"transform",constrainGradients:"canvas"},updaters:{bbox:function(t){t.bbox.plain.dirty=!0,t.bbox.transform.dirty=!0,(0===t.rotationRads||null!==t.rotationCenterX&&null!==t.rotationCenterY)&&(1===t.scalingX&&1===t.scalingY||null!==t.scalingCenterX&&null!==t.scalingCenterY)||t.dirtyFlags.transform||(t.dirtyFlags.transform=[])},zIndex:function(t){t.dirtyZIndex=!0},transform:function(t){t.dirtyTransform=!0,t.bbox.transform.dirty=!0}}}},attr:{},config:{parent:null},onClassExtended:function(t,e){var i,n=t.superclass.self.def.initialConfig;e.inheritableStatics&&e.inheritableStatics.def?(i=Ext.merge({},n,e.inheritableStatics.def),t.def=Ext.create("Ext.draw.sprite.AttributeDefinition",i),delete e.inheritableStatics.def):t.def=Ext.create("Ext.draw.sprite.AttributeDefinition",n)},constructor:function(t){if("Ext.draw.sprite.Sprite"===this.$className)throw"Ext.draw.sprite.Sprite is an abstract class";t=t||{};var e=this;e.id=t.id||Ext.id(null,"ext-sprite-"),e.attr={},e.initConfig(t);var i=Ext.Array.from(t.modifiers,!0);e.prepareModifiers(i),e.initializeAttributes(),e.setAttributes(e.self.def.getDefaults(),!0),e.setAttributes(t)},getDirty:function(){return this.attr.dirty},setDirty:function(t){(this.attr.dirty=t)&&this._parent&&this._parent.setDirty(!0)},addModifier:function(t,e){var i=this;return t instanceof Ext.draw.modifier.Modifier||(t=Ext.factory(t,null,null,"modifier")),t.setSprite(this),t.preFx||t.config&&t.config.preFx?(i.fx.getPrevious()&&i.fx.getPrevious().setNext(t),t.setNext(i.fx)):(i.topModifier.getPrevious().setNext(t),t.setNext(i.topModifier)),e&&i.initializeAttributes(),t},prepareModifiers:function(t){var e,i,n=this;for(n.topModifier=new Ext.draw.modifier.Target({sprite:n}),n.fx=new Ext.draw.modifier.Animation({sprite:n}),n.fx.setNext(n.topModifier),e=0,i=t.length;i>e;e++)n.addModifier(t[e],!1)},initializeAttributes:function(){var t=this;t.topModifier.prepareAttributes(t.attr)},updateDirtyFlags:function(t){var e,i,n=this,r=t.dirtyFlags,s=n.self.def._updaters,a=!1,o=!1;do{a=!1;for(i in r)n.updateDirtyFlags=Ext.emptyFn,e=r[i],delete r[i],s[i]&&s[i].call(n,t,e),a=!0,delete n.updateDirtyFlags;o=o||a}while(a);o&&n.setDirty(!0)},setAttributes:function(t,e,i){var n=this.attr;e?i?this.topModifier.pushDown(n,t):this.topModifier.pushDown(n,Ext.apply({},t)):this.topModifier.pushDown(n,this.self.def.normalize(t))},setAttributesBypassingNormalization:function(t,e){return this.setAttributes(t,!0,e)},getBBox:function(t){var e=this,i=e.attr,n=i.bbox,r=n.plain,s=n.transform;return r.dirty&&(e.updatePlainBBox(r),r.dirty=!1),t?r:(e.applyTransformations(),s.dirty&&(e.updateTransformedBBox(s,r),s.dirty=!1),s)},updatePlainBBox:Ext.emptyFn,updateTransformedBBox:function(t,e){this.attr.matrix.transformBBox(e,0,t)},getBBoxCenter:function(t){var e=this.getBBox(t);return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},hide:function(){return this.attr.hidden=!0,this.setDirty(!0),this},show:function(){return this.attr.hidden=!1,this.setDirty(!0),this},useAttributes:function(t,e){this.applyTransformations();var i,n=this.attr,r=n.canvasAttributes,s=r.strokeStyle,a=r.fillStyle,o=r.lineDash,l=r.lineDashOffset;s&&(s.isGradient?(t.strokeStyle="black",t.strokeGradient=s):t.strokeGradient=!1),a&&(a.isGradient?(t.fillStyle="black",t.fillGradient=a):t.fillGradient=!1),o&&t.setLineDash&&t.setLineDash(o),l&&"number"==typeof t.lineDashOffset&&(t.lineDashOffset=l);for(i in r)void 0!==r[i]&&r[i]!==t[i]&&(t[i]=r[i]);t.setGradientBBox(n.constrainGradients?{x:e[0],y:e[1],width:e[2],height:e[3]}:this.getBBox(n.transformFillStroke))},applyTransformations:function(t){if(t||this.attr.dirtyTransform){var e=this,i=e.attr,n=e.getBBoxCenter(!0),r=n[0],s=n[1],a=i.translationX,o=i.translationY,l=i.scalingX,u=null===i.scalingY?i.scalingX:i.scalingY,h=null===i.scalingCenterX?r:i.scalingCenterX,c=null===i.scalingCenterY?s:i.scalingCenterY,d=i.rotationRads,f=null===i.rotationCenterX?r:i.rotationCenterX,g=null===i.rotationCenterY?s:i.rotationCenterY,p=Math.cos(d),m=Math.sin(d);1===l&&1===u&&(h=0,c=0),0===d&&(f=0,g=0),i.matrix.elements=[p*l,m*u,-m*l,p*u,h+(f-p*f-h+g*m)*l+a,c+(g-p*g-c+f*-m)*u+o],i.matrix.inverse(i.inverseMatrix),i.dirtyTransform=!1,i.bbox.transform.dirty=!0}},preRender:Ext.emptyFn,render:Ext.emptyFn,repaint:function(){for(var t=this.getParent();t&&!(t instanceof Ext.draw.Surface);)t=t.getParent();t&&t.renderFrame()},destroy:function(){for(var t,e=this,i=e.topModifier;i;)t=i,i=i.getPrevious(),t.destroy();delete e.attr,e.destroy=Ext.emptyFn,e.fireEvent("beforedestroy",e)!==!1&&e.fireEvent("destroy",e),this.callSuper()}},function(){this.def=Ext.create("Ext.draw.sprite.AttributeDefinition",this.def)}),Ext.define("Ext.draw.sprite.Line",{extend:Ext.draw.sprite.Sprite,alias:"sprite.line",type:"line",inheritableStatics:{def:{processors:{fromX:"number",fromY:"number",toX:"number",toY:"number"},defaults:{fromX:0,fromY:0,toX:1,toY:1}}},render:function(t,e){var i=this.attr,n=this.attr.matrix;n.toContext(e),e.beginPath(),e.moveTo(i.fromX,i.fromY),e.lineTo(i.toX,i.toY),e.stroke()}}),function(){var t=2.0943951023931953,e=Math.abs,i=(Math.cos,Math.cos),n=Math.acos,r=Math.sqrt,s=Math.exp,a=Math.log;Ext.define("Ext.draw.Solver",{singleton:!0,cubicRoot:function(t){return t>0?s(a(t)/3):0>t?-s(a(-t)/3):0},linearFunction:function(t,e){var i;return 0===t?(i=function(){return e},i.solve=function(){return[]}):(i=function(i){return t*i+e},i.solve=function(i){return[(i-e)/t]}),i},quadraticFunction:function(t,i,n){var s;if(0===t)return this.linearFunction(i,n);s=function(e){return(t*e+i)*e+n};var a=i*i-4*t*n,o=function(e){return a+4*t*e},l=1/t*.5,u=-l*i;return l=e(l),s.solve=function(t){var e=o(t);return 0>e?[]:(e=r(e),[u-e*l,u+e*l])},s},cubicFunction:function(e,s,a,o){var l;if(0===e)return this.quadraticFunction(s,a,o);l=function(t){return((e*t+s)*t+a)*t+o};var u=s/e/3,h=a/e,c=o/e,d=u*u,f=.5*(u*h-c)-u*d,g=d-h/3,p=g*g*g;if(0===g)l.solve=function(t){return[-u+this.cubicRoot(2*f+t/e)]};else{if(g>0){var m=r(g),x=m*m*m;m+=m}l.solve=function(s){s/=e;var a=f+.5*s,o=a*a-p;if(o>0)return o=r(o),[-u+this.cubicRoot(a+o)+this.cubicRoot(a-o)];if(0===o){var l=this.cubicRoot(a),h=-u-l;return a>=0?[h,h,-u+2*l]:[-u+2*l,h,h]}var c=n(a/x)/3,d=m*i(c)-u,g=m*i(c+t)-u,E=m*i(c-t)-u;return g>d?E>g?[d,g,E]:E>d?[d,E,g]:[E,d,g]:E>d?[g,d,E]:E>g?[g,E,d]:[E,g,d]}}return l},createBezierSolver:function(t,e,i,n){return this.cubicFunction(3*(e-i)+n-t,3*(t-2*e+i),3*(e-t),t)}})}(),Ext.define("Ext.draw.Path",{statics:{pathRe:/,?([achlmqrstvxz]),?/gi,pathRe2:/-/gi,pathSplitRe:/\s|,/g},svgString:"",constructor:function(t){var e=this;e.coords=[],e.types=[],e.cursor=null,e.startX=0,e.startY=0,e.solvers={},t&&e.fromSvgString(t)},clear:function(){var t=this;t.coords.length=0,t.types.length=0,t.cursor=null,t.startX=0,t.startY=0,t.solvers={},t.dirt()},dirt:function(){this.svgString=""},moveTo:function(t,e){var i=this;i.cursor||(i.cursor=[t,e]),i.coords.push(t,e),i.types.push("M"),i.startX=t,i.startY=e,i.cursor[0]=t,i.cursor[1]=e,i.dirt()},lineTo:function(t,e){var i=this;i.cursor?(i.coords.push(t,e),i.types.push("L")):(i.cursor=[t,e],i.coords.push(t,e),i.types.push("M")),i.cursor[0]=t,i.cursor[1]=e,i.dirt()},bezierCurveTo:function(t,e,i,n,r,s){var a=this;a.cursor||a.moveTo(t,e),a.coords.push(t,e,i,n,r,s),a.types.push("C"),a.cursor[0]=r,a.cursor[1]=s,a.dirt()},quadraticCurveTo:function(t,e,i,n){var r=this;r.cursor||r.moveTo(t,e),r.bezierCurveTo((2*r.cursor[0]+t)/3,(2*r.cursor[1]+e)/3,(2*i+t)/3,(2*n+e)/3,i,n)},closePath:function(){var t=this;t.cursor&&(t.types.push("Z"),t.dirt())},arcTo:function(t,e,i,n,r,s,a){var o=this;if(void 0===s&&(s=r),void 0===a&&(a=0),!o.cursor)return void o.moveTo(t,e);if(0===r||0===s)return void o.lineTo(t,e);i-=t,n-=e;var l,u,h,c,d,f,g,p,m,x=o.cursor[0]-t,E=o.cursor[1]-e,y=i*E-n*x,v=Math.sqrt(x*x+E*E),b=Math.sqrt(i*i+n*n);if(0===y)return void o.lineTo(t,e);if(s!==r){l=Math.cos(a),u=Math.sin(a),h=l/r,c=u/s,d=-u/r,f=l/s;var S=h*x+c*E;E=d*x+f*E,x=S,S=h*i+c*n,n=d*i+f*n,i=S}else x/=r,E/=s,i/=r,n/=s;p=x*b+i*v,m=E*b+n*v,g=1/(Math.sin(.5*Math.asin(Math.abs(y)/(v*b)))*Math.sqrt(p*p+m*m)),p*=g,m*=g;var C=(p*x+m*E)/(x*x+E*E),w=(p*i+m*n)/(i*i+n*n),T=x*C-p,I=E*C-m,A=i*w-p,P=n*w-m,M=Math.atan2(I,T),D=Math.atan2(P,A);y>0?M>D&&(D+=2*Math.PI):D>M&&(M+=2*Math.PI),s!==r?(p=l*p*r-u*m*s+t,m=u*m*s+l*m*s+e,o.lineTo(l*r*T-u*s*I+p,u*r*T+l*s*I+m),o.ellipse(p,m,r,s,a,M,D,0>y)):(p=p*r+t,m=m*s+e,o.lineTo(r*T+p,s*I+m),o.ellipse(p,m,r,s,a,M,D,0>y))},ellipse:function(t,e,i,n,r,s,a,o){var l,u,h,c=this,d=c.coords,f=d.length;if(a-s>=2*Math.PI)return c.ellipse(t,e,i,n,r,s,s+Math.PI,o),void c.ellipse(t,e,i,n,r,s+Math.PI,a,o);if(o)for(a>s&&(s+=2*Math.PI),l=c.approximateArc(d,t,e,i,n,r,a,s),u=f,h=d.length-2;h>u;u+=2,h-=2){var g=d[u];d[u]=d[h],d[h]=g,g=d[u+1],d[u+1]=d[h+1],d[h+1]=g}else s>a&&(a+=2*Math.PI),l=c.approximateArc(d,t,e,i,n,r,s,a);for(c.cursor?(c.cursor[0]=d[d.length-2],c.cursor[1]=d[d.length-1],c.types.push("L")):(c.cursor=[d[d.length-2],d[d.length-1]],c.types.push("M")),u=2;l>u;u+=6)c.types.push("C");c.dirt()},arc:function(t,e,i,n,r,s){this.ellipse(t,e,i,i,0,n,r,s)},rect:function(t,e,i,n){if(0!=i&&0!=n){var r=this;r.moveTo(t,e),r.lineTo(t+i,e),r.lineTo(t+i,e+n),r.lineTo(t,e+n),r.closePath()}},approximateArc:function(t,e,i,n,r,s,a,o){var l,u,h,c,d,f,g=Math.cos(s),p=Math.sin(s),m=Math.cos(a),x=Math.sin(a),E=g*m*n-p*x*r,y=-g*x*n-p*m*r,v=p*m*n+g*x*r,b=-p*x*n+g*m*r,S=Math.PI/2,C=2,w=E,T=y,I=v,A=b,P=.547443256150549;for(o-=a,0>o&&(o+=2*Math.PI),t.push(E+e,v+i);o>=S;)t.push(w+T*P+e,I+A*P+i,w*P+T+e,I*P+A+i,T+e,A+i),C+=6,o-=S,l=w,w=T,T=-l,l=I,I=A,A=-l;return o&&(u=(.3294738052815987+.012120855841304373*o)*o,h=Math.cos(o),c=Math.sin(o),d=h+u*c,f=c-u*h,t.push(w+T*u+e,I+A*u+i,w*d+T*f+e,I*d+A*f+i,w*h+T*c+e,I*h+A*c+i),C+=6),C},arcSvg:function(t,e,i,n,r,s,a){0>t&&(t=-t),0>e&&(e=-e);var o=this,l=o.cursor[0],u=o.cursor[1],h=(l-s)/2,c=(u-a)/2,d=Math.cos(i),f=Math.sin(i),g=h*d+c*f,p=-h*f+c*d,m=g/t,x=p/e,E=m*m+x*x,y=.5*(l+s),v=.5*(u+a),b=0,S=0;E>=1?(E=Math.sqrt(E),t*=E,e*=E):(E=Math.sqrt(1/E-1),n===r&&(E=-E),b=E*t*x,S=-E*e*m,y+=d*b-f*S,v+=f*b+d*S);var C=Math.atan2((p-S)/e,(g-b)/t),w=Math.atan2((-p-S)/e,(-g-b)/t)-C;r?0>=w&&(w+=2*Math.PI):w>=0&&(w-=2*Math.PI),o.ellipse(y,v,t,e,i,C,C+w,1-r)},fromSvgString:function(t){if(t){var e,i,n,r,s,a,o=this,l={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0,A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},u="",h=0,c=0,d=!1;for(Ext.isString(t)?e=t.replace(Ext.draw.Path.pathRe," $1 ").replace(Ext.draw.Path.pathRe2," -").split(Ext.draw.Path.pathSplitRe):Ext.isArray(t)&&(e=t.join(",").split(Ext.draw.Path.pathSplitRe)),r=0,s=0;r<e.length;r++)""!==e[r]&&(e[s++]=e[r]);for(e.length=s,o.clear(),r=0;r<e.length;)switch(u=d,d=e[r],a=d.toUpperCase()!==d,r++,d){case"M":for(o.moveTo(h=+e[r],c=+e[r+1]),r+=2;s>r&&!l.hasOwnProperty(e[r]);)o.lineTo(h=+e[r],c=+e[r+1]),r+=2;break;case"L":for(o.lineTo(h=+e[r],c=+e[r+1]),r+=2;s>r&&!l.hasOwnProperty(e[r]);)o.lineTo(h=+e[r],c=+e[r+1]),r+=2;break;case"A":for(;s>r&&!l.hasOwnProperty(e[r]);)o.arcSvg(+e[r],+e[r+1],+e[r+2]*Math.PI/180,+e[r+3],+e[r+4],h=+e[r+5],c=+e[r+6]),r+=7;break;case"C":for(;s>r&&!l.hasOwnProperty(e[r]);)o.bezierCurveTo(+e[r],+e[r+1],i=+e[r+2],n=+e[r+3],h=+e[r+4],c=+e[r+5]),r+=6;break;case"Z":o.closePath();break;case"m":for(o.moveTo(h+=+e[r],c+=+e[r+1]),r+=2;s>r&&!l.hasOwnProperty(e[r]);)o.lineTo(h+=+e[r],c+=+e[r+1]),r+=2;break;case"l":for(o.lineTo(h+=+e[r],c+=+e[r+1]),r+=2;s>r&&!l.hasOwnProperty(e[r]);)o.lineTo(h+=+e[r],c+=+e[r+1]),r+=2;break;case"a":for(;s>r&&!l.hasOwnProperty(e[r]);)o.arcSvg(+e[r],+e[r+1],+e[r+2]*Math.PI/180,+e[r+3],+e[r+4],h+=+e[r+5],c+=+e[r+6]),r+=7;break;case"c":for(;s>r&&!l.hasOwnProperty(e[r]);)o.bezierCurveTo(h+ +e[r],c+ +e[r+1],i=h+ +e[r+2],n=c+ +e[r+3],h+=+e[r+4],c+=+e[r+5]),r+=6;break;case"z":o.closePath();break;case"s":for("c"!==u&&"C"!==u&&"s"!==u&&"S"!==u&&(i=h,n=c);s>r&&!l.hasOwnProperty(e[r]);)o.bezierCurveTo(h+h-i,c+c-n,i=h+ +e[r],n=c+ +e[r+1],h+=+e[r+2],c+=+e[r+3]),r+=4;break;case"S":for("c"!==u&&"C"!==u&&"s"!==u&&"S"!==u&&(i=h,n=c);s>r&&!l.hasOwnProperty(e[r]);)o.bezierCurveTo(h+h-i,c+c-n,i=+e[r],n=+e[r+1],h=+e[r+2],c=+e[r+3]),r+=4;break;case"q":for(;s>r&&!l.hasOwnProperty(e[r]);)o.quadraticCurveTo(i=h+ +e[r],n=c+ +e[r+1],h+=+e[r+2],c+=+e[r+3]),r+=4;break;case"Q":for(;s>r&&!l.hasOwnProperty(e[r]);)o.quadraticCurveTo(i=+e[r],n=+e[r+1],h=+e[r+2],c=+e[r+3]),r+=4;break;case"t":for("q"!==u&&"Q"!==u&&"t"!==u&&"T"!==u&&(i=h,n=c);s>r&&!l.hasOwnProperty(e[r]);)o.quadraticCurveTo(i=h+h-i,n=c+c-n,h+=+e[r+1],c+=+e[r+2]),r+=2;break;case"T":for("q"!==u&&"Q"!==u&&"t"!==u&&"T"!==u&&(i=h,n=c);s>r&&!l.hasOwnProperty(e[r]);)o.quadraticCurveTo(i=h+h-i,n=c+c-n,h=+e[r+1],c=+e[r+2]),r+=2;break;case"h":for(;s>r&&!l.hasOwnProperty(e[r]);)o.lineTo(h+=+e[r],c),r++;break;case"H":for(;s>r&&!l.hasOwnProperty(e[r]);)o.lineTo(h=+e[r],c),r++;break;case"v":for(;s>r&&!l.hasOwnProperty(e[r]);)o.lineTo(h,c+=+e[r]),r++;break;case"V":for(;s>r&&!l.hasOwnProperty(e[r]);)o.lineTo(h,c=+e[r]),r++}}},rayTestLine:function(t,e,i,n,r,s){var a;if(e===n){if(s!==e)return 0;if(Math.min(t,i)<=r&&r<=Math.max(t,i))return-1}return s>e&&n>s||s>n&&e>s?(a=(s-e)*(i-t)/(n-e)+t,a===r?-1:r>a?0:1):0},rayTestCubicBezier:function(t,e,i,n,r,s,a,o,l,u,h){if(Math.min(t,i,r,a)<=l&&l<=Math.max(t,i,r,a)&&Math.min(e,n,s,o)<=u&&u<=Math.max(e,n,s,o)){var c=this,d=c.solvers[h]||(c.solvers[h]=Ext.draw.Solver.createBezierSolver(t,i,r,a)),f=d.solve(u);return+(l<=f[0]&&0<=f[0]&&f[0]<=1)+ +(l<=f[1]&&0<=f[1]&&f[1]<=1)+ +(l<=f[2]&&0<=f[2]&&f[2]<=1)}return 0},isPointInPath:function(t,e){var i,n,r=this,s=0,a=0,o=r.types,l=r.coords,u=o.length,h=null,c=null,d=0,f=0;for(i=0,n=0;u>i;i++)switch(o[i]){case"M":null!==h&&(a=r.rayTestLine(h,c,d,f,t,e),s+=0>a?1:a),h=d=l[n],c=f=l[n+1],n+=2;break;case"L":if(a=r.rayTestLine(d,f,l[n],l[n+1],t,e),0>a)return!0;s+=a,d=l[n],f=l[n+1],n+=2;break;case"C":if(a=r.rayTestCubicBezier(d,f,l[n],l[n+1],l[n+2],l[n+3],l[n+4],l[n+5],t,e,i),0>a)return!0;s+=a,d=l[n+4],f=l[n+5],n+=6;break;case"Z":}return s%2===1},clone:function(){var t=this,e=new Ext.draw.Path;return e.coords=t.coords.slice(0),e.types=t.types.slice(0),e.cursor=t.cursor?t.cursor.slice(0):null,e.startX=t.startX,e.startY=t.startY,e.svgString=t.svgString,e},transform:function(t){if(!t.isIdentity()){for(var e,i,n=t.getXX(),r=t.getYX(),s=t.getDX(),a=t.getXY(),o=t.getYY(),l=t.getDY(),u=this.coords,h=0,c=u.length;c>h;h+=2)e=u[h],i=u[h+1],u[h]=e*n+i*r+s,u[h+1]=e*a+i*o+l;this.dirt()}},getDimension:function(t){if(t||(t={}),!this.types||!this.types.length)return t.x=0,t.y=0,t.width=0,t.height=0,t;t.left=1/0,t.top=1/0,t.right=-1/0,t.bottom=-1/0;for(var e,i,n=0,r=0,s=this.types,a=this.coords,o=s.length;o>n;n++)switch(s[n]){case"M":case"L":e=a[r],i=a[r+1],t.left=Math.min(e,t.left),t.top=Math.min(i,t.top),t.right=Math.max(e,t.right),t.bottom=Math.max(i,t.bottom),r+=2;break;case"C":this.expandDimension(t,e,i,a[r],a[r+1],a[r+2],a[r+3],e=a[r+4],i=a[r+5]),r+=6}return t.x=t.left,t.y=t.top,t.width=t.right-t.left,t.height=t.bottom-t.top,t},getDimensionWithTransform:function(t,e){if(!this.types||!this.types.length)return e||(e={}),e.x=0,e.y=0,e.width=0,e.height=0,e;e.left=1/0,e.top=1/0,e.right=-1/0,e.bottom=-1/0;for(var i,n,r=t.getXX(),s=t.getYX(),a=t.getDX(),o=t.getXY(),l=t.getYY(),u=t.getDY(),h=0,c=0,d=this.types,f=this.coords,g=d.length;g>h;h++)switch(d[h]){case"M":case"L":i=f[c]*r+f[c+1]*s+a,n=f[c]*o+f[c+1]*l+u,e.left=Math.min(i,e.left),e.top=Math.min(n,e.top),e.right=Math.max(i,e.right),e.bottom=Math.max(n,e.bottom),c+=2;break;case"C":this.expandDimension(e,i,n,f[c]*r+f[c+1]*s+a,f[c]*o+f[c+1]*l+u,f[c+2]*r+f[c+3]*s+a,f[c+2]*o+f[c+3]*l+u,i=f[c+4]*r+f[c+5]*s+a,n=f[c+4]*o+f[c+5]*l+u),c+=6}return e||(e={}),e.x=e.left,e.y=e.top,e.width=e.right-e.left,e.height=e.bottom-e.top,e},expandDimension:function(t,e,i,n,r,s,a,o,l){var u=this,h=t.left,c=t.right,d=t.top,f=t.bottom,g=u.dim||(u.dim=[]);u.curveDimension(e,n,s,o,g),h=Math.min(h,g[0]),c=Math.max(c,g[1]),u.curveDimension(i,r,a,l,g),d=Math.min(d,g[0]),f=Math.max(f,g[1]),t.left=h,t.right=c,t.top=d,t.bottom=f},curveDimension:function(t,e,i,n,r){var s,a,o,l=3*(-t+3*(e-i)+n),u=6*(t-2*e+i),h=-3*(t-e),c=Math.min(t,n),d=Math.max(t,n);if(0===l){if(0===u)return r[0]=c,void(r[1]=d);s=-h/u,s>0&&1>s&&(a=this.interpolate(t,e,i,n,s),c=Math.min(c,a),d=Math.max(d,a))}else o=u*u-4*l*h,o>=0&&(o=Math.sqrt(o),s=(o-u)/2/l,s>0&&1>s&&(a=this.interpolate(t,e,i,n,s),c=Math.min(c,a),d=Math.max(d,a)),o>0&&(s-=o/l,s>0&&1>s&&(a=this.interpolate(t,e,i,n,s),c=Math.min(c,a),d=Math.max(d,a))));r[0]=c,r[1]=d},interpolate:function(t,e,i,n,r){if(0===r)return t;if(1===r)return n;var s=(1-r)/r;return r*r*r*(n+s*(3*i+s*(3*e+s*t)))},fromStripes:function(t){var e,i,n,r=this,s=0,a=t.length;for(r.clear();a>s;s++)for(n=t[s],r.coords.push.apply(r.coords,n),r.types.push("M"),e=2,i=n.length;i>e;e+=6)r.types.push("C");r.cursor||(r.cursor=[]),r.cursor[0]=r.coords[r.coords.length-2],r.cursor[1]=r.coords[r.coords.length-1],r.dirt()},toStripes:function(t){var e,i,n,r,s,a,o,l,u,h=t||[],c=this.types,d=this.coords,f=c.length;for(l=0,u=0;f>l;l++)switch(c[l]){case"M":e=[a=r=d[u++],o=s=d[u++]],h.push(e);break;case"L":i=d[u++],n=d[u++],e.push((r+r+i)/3,(s+s+n)/3,(r+i+i)/3,(s+n+n)/3,r=i,s=n);break;case"C":e.push(d[u++],d[u++],d[u++],d[u++],r=d[u++],s=d[u++]);break;case"Z":i=a,n=o,e.push((r+r+i)/3,(s+s+n)/3,(r+i+i)/3,(s+n+n)/3,r=i,s=n)}return h},updateSvgString:function(){for(var t=[],e=this.types,i=this.coords,n=e.length,r=0,s=0;n>r;r++)switch(e[r]){case"M":t.push("M"+i[s]+","+i[s+1]),s+=2;break;case"L":t.push("L"+i[s]+","+i[s+1]),s+=2;break;case"C":t.push("C"+i[s]+","+i[s+1]+" "+i[s+2]+","+i[s+3]+" "+i[s+4]+","+i[s+5]),s+=6;break;case"Z":t.push("Z")}this.svgString=t.join("")},toString:function(){return this.svgString||this.updateSvgString(),this.svgString}}),Ext.define("Ext.draw.sprite.Path",{extend:Ext.draw.sprite.Sprite,alias:"sprite.path",type:"path",inheritableStatics:{def:{processors:{path:function(t){return t instanceof Ext.draw.Path||(t=new Ext.draw.Path(t)),t}},aliases:{d:"path"},dirtyTriggers:{path:"bbox"},updaters:{path:function(t){var e=t.path;e&&e.bindAttr===t||(e=new Ext.draw.Path,e.bindAttr=t,t.path=e),e.clear(),this.updatePath(e,t),t.dirtyFlags.bbox=["path"]}}}},updatePlainBBox:function(t){this.attr.path&&this.attr.path.getDimension(t)},updateTransformedBBox:function(t){this.attr.path&&this.attr.path.getDimensionWithTransform(this.attr.matrix,t)},render:function(t,e){var i=this.attr.matrix,n=this.attr;n.path&&0!==n.path.coords.length&&(i.toContext(e),e.appendPath(n.path),e.fillStroke(n))},updatePath:function(){}}),Ext.define("Ext.draw.sprite.Circle",{extend:Ext.draw.sprite.Path,alias:"sprite.circle",type:"circle",inheritableStatics:{def:{processors:{cx:"number",cy:"number",r:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy"},defaults:{cx:0,cy:0,r:0},dirtyTriggers:{cx:"path",cy:"path",r:"path"}}},updatePlainBBox:function(t){var e=this.attr,i=e.cx,n=e.cy,r=e.r;t.x=i-r,t.y=n-r,t.width=r+r,t.height=r+r},updateTransformedBBox:function(t){var e,i,n=this.attr,r=n.cx,s=n.cy,a=n.r,o=n.matrix,l=o.getScaleX(),u=o.getScaleY();e=l*a,i=u*a,t.x=o.x(r,s)-e,t.y=o.y(r,s)-i,t.width=e+e,t.height=i+i},updatePath:function(t,e){t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!1)}}),Ext.define("Ext.draw.sprite.Ellipse",{extend:Ext.draw.sprite.Path,alias:"sprite.ellipse",type:"circle",inheritableStatics:{def:{processors:{cx:"number",cy:"number",rx:"number",ry:"number",axisRotation:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy",radiusX:"rx",radiusY:"ry"},defaults:{cx:0,cy:0,rx:1,ry:1,axisRotation:0},dirtyTriggers:{cx:"path",cy:"path",rx:"path",ry:"path",axisRotation:"path"}}},updatePlainBBox:function(t){var e=this.attr,i=e.cx,n=e.cy,r=e.rx,s=e.ry;t.x=i-r,t.y=n-s,t.width=r+r,t.height=s+s},updateTransformedBBox:function(t){var e,i,n,r,s,a,o,l,u=this.attr,h=u.cx,c=u.cy,d=u.rx,f=u.ry,g=f/d,p=u.matrix.clone();p.append(1,0,0,g,0,c*(1-g)),e=p.getXX(),n=p.getYX(),s=p.getDX(),i=p.getXY(),r=p.getYY(),a=p.getDY(),o=Math.sqrt(e*e+n*n)*d,l=Math.sqrt(i*i+r*r)*d,t.x=h*e+c*n+s-o,t.y=h*i+c*r+a-l,t.width=o+o,t.height=l+l},updatePath:function(t,e){t.ellipse(e.cx,e.cy,e.rx,e.ry,e.axisRotation,0,2*Math.PI,!1)}}),Ext.define("Ext.draw.TextMeasurer",{singleton:!0,measureDiv:null,measureCache:{},actualMeasureText:function(t,e){var i,n=Ext.draw.TextMeasurer,r=n.measureDiv,s=1e5;if(!r){var a=Ext.Element.create({style:{overflow:"hidden",position:"relative","float":"left",width:0,height:0}});n.measureDiv=r=Ext.Element.create({}),r.setStyle({position:"absolute",x:s,y:s,"z-index":-s,"white-space":"nowrap",display:"block",padding:0,margin:0}),Ext.getBody().appendChild(a),a.appendChild(r)
}return e&&r.setStyle({font:e,lineHeight:"normal"}),r.setText("("+t+")"),i=r.getSize(),r.setText("()"),i.width-=r.getSize().width,i},measureTextSingleLine:function(t,e){t=t.toString();var i,n,r,s,a,o=this.measureCache,l=t.split(""),u=0,h=0;if(o[e]||(o[e]={}),o=o[e],o[t])return o[t];for(r=0,s=l.length;s>r;r++)n=l[r],(i=o[n])||(a=this.actualMeasureText(n,e),i=o[n]=a),u+=i.width,h=Math.max(h,i.height);return o[t]={width:u,height:h}},measureText:function(t,e){var i,n,r,s=t.split("\n"),a=s.length,o=0,l=0;if(1===a)return this.measureTextSingleLine(t,e);for(r=[],n=0;a>n;n++)i=this.measureTextSingleLine(s[n],e),r.push(i),o+=i.height,l=Math.max(l,i.width);return{width:l,height:o,sizes:r}}}),Ext.define("Ext.draw.sprite.Text",{extend:Ext.draw.sprite.Sprite,alias:"sprite.text",type:"text",lineBreakRe:/\n/g,inheritableStatics:{shortHand1Re:/'(.*)'/g,shortHand2Re:/ /g,shortHand3Re:/\s*,\s*/g,shortHand4Re:/\$\$\$\$/g,def:{processors:{x:"number",y:"number",text:"string",fontSize:function(t){return isNaN(t)?t.match(Ext.dom.Element.unitRe)?t:void 0:+t+"px"},fontStyle:"enums(,italic,oblique)",fontVariant:"enums(,small-caps)",fontWeight:function(t){return function(e){if(!e)return"";if("normal"===e)return"";if(isNaN(e)){if(e in t)return e}else if(e=+e,e>=100&&900>=e)return e}}({normal:!0,bold:!0,bolder:!0,lighter:!0}),fontFamily:"string",textAlign:function(t){return function(e){return"middle"===e?"center":e?Ext.isString(e)&&e in t?e:void 0:"center"}}({left:!0,right:!0,center:!0,start:!0,end:!0}),textBaseline:function(t){return function(e){return e===!1?"alphabetic":e in t?e:"center"===e?"middle":void 0}}({top:!0,hanging:!0,middle:!0,alphabetic:!0,ideographic:!0,bottom:!0}),font:"string"},aliases:{"font-size":"fontSize","font-family":"fontFamily","font-weight":"fontWeight","font-variant":"fontVariant","text-anchor":"textAlign"},defaults:{fontStyle:"",fontVariant:"",fontWeight:"",fontSize:"10px",fontFamily:"sans-serif",font:"10px sans-serif",textBaseline:"alphabetic",textAlign:"start",strokeStyle:"rgba(0, 0, 0, 0)",divBased:!0,fillStyle:"#000",x:0,y:0,text:""},dirtyTriggers:{fontStyle:"font,bbox",fontVariant:"font,bbox",fontWeight:"font,bbox",fontSize:"font,bbox",fontFamily:"font,bbox",font:"font-short-hand,bbox,canvas",textBaseline:"bbox",textAlign:"bbox",x:"bbox",y:"bbox",text:"bbox"},updaters:{"font-short-hand":function(t){return function(e){var i,n,r,s,a,o=e.font;for(o=o.replace(Ext.draw.sprite.Text.shortHand1Re,function(t,e){return e.replace(Ext.draw.sprite.Text.shortHand2Re,"$$$$")}),o=o.replace(Ext.draw.sprite.Text.shortHand3Re,","),i=o.split(" "),e={},r=0,s=i.length;s>r;r++)n=i[r],a=t[n],a?e[a]=n:n.match(Ext.dom.Element.unitRe)?e.fontSize=n:e.fontFamily=n.replace(Ext.draw.sprite.Text.shortHand4Re," ");this.setAttributes(e,!0)}}({italic:"fontStyles",oblique:"fontStyles",bold:"fontWeights",bolder:"fontWeights",lighter:"fontWeights",100:"fontWeights",200:"fontWeights",300:"fontWeights",400:"fontWeights",500:"fontWeights",600:"fontWeights",700:"fontWeights",800:"fontWeights",900:"fontWeights","small-caps":"fontVariant"}),font:function(t){var e="";t.fontWeight&&(e+=t.fontWeight+" "),t.fontVariant&&(e+=t.fontVariant+" "),t.fontSize&&(e+=t.fontSize+" "),t.fontFamily&&(e+=t.fontFamily+" "),this.setAttributes({font:e.substr(0,e.length-1)},!0)}}}},constructor:function(t){Ext.draw.sprite.Sprite.prototype.constructor.call(this,t)},updatePlainBBox:function(t){var e=this,i=e.attr,n=i.x,r=i.y,s=[],a=i.font,o=i.text,l=i.textBaseline,u=i.textAlign,h=Ext.draw.TextMeasurer.measureText(o,a),c=h.sizes,d=h.height,f=h.width,g=c?c.length:0,p=0;switch(l){case"hanging":case"top":break;case"ideographic":case"bottom":r-=d;break;case"alphabetic":r-=.8*d;break;case"middle":case"center":r-=.5*d}switch(u){case"end":case"right":for(n-=f;g>p;p++)s.push(f-c[p].width);break;case"middle":case"center":for(n-=.5*f;g>p;p++)s.push(.5*(f-c[p].width))}i.textAlignOffsets=s,t.x=n,t.y=r,t.width=f,t.height=d},setText:function(t){this.setAttributes({text:t},!0)},setElementStyles:function(t,e){var i,n=t.stylesCache||(t.stylesCache={}),r=t.dom.style;for(i in e)n[i]!==e[i]&&(n[i]=r[i]=e[i])},render:function(t,e){var i,n,r,s,a=this.attr,o=Ext.draw.Matrix.fly(a.matrix.elements.slice(0)),l=this.getBBox(!0),u=a.textAlignOffsets;if(0!==a.text.length)for(s=a.text.split("\n"),i=a.bbox.plain.x,n=a.bbox.plain.y,o.toContext(e),r=0;r<s.length;r++)"rgba(0, 0, 0, 0)"!==e.fillStyle&&e.fillText(s[r],i+(u[r]||0),n+l.height/s.length*r),"rgba(0, 0, 0, 0)"!==e.strokeStyle&&e.strokeText(s[r],i+(u[r]||0),n+l.height/s.length*r)}}),Ext.define("Ext.draw.sprite.EllipticalArc",{extend:Ext.draw.sprite.Ellipse,alias:"sprite.ellipticalArc",type:"ellipticalArc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:2*Math.PI,anticlockwise:!1},dirtyTriggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(t,e){t.ellipse(e.cx,e.cy,e.rx,e.ry,e.axisRotation,e.startAngle,e.endAngle,e.anticlockwise)}}),Ext.define("Ext.draw.sprite.Sector",{extend:Ext.draw.sprite.Path,alias:"sprite.sector",type:"sector",inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number"},aliases:{rho:"endRho"},dirtyTriggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,bbox",endAngle:"path,bbox",startRho:"path,bbox",endRho:"path,bbox",margin:"path,bbox"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:0,startRho:0,endRho:150,margin:0,path:"M 0,0"}}},updatePath:function(t,e){var i=Math.min(e.startAngle,e.endAngle),n=Math.max(e.startAngle,e.endAngle),r=.5*(i+n),s=e.margin,a=e.centerX,o=e.centerY,l=Math.min(e.startRho,e.endRho),u=Math.max(e.startRho,e.endRho);s&&(a+=s*Math.cos(r),o+=s*Math.sin(r)),t.moveTo(a+l*Math.cos(i),o+l*Math.sin(i)),t.lineTo(a+u*Math.cos(i),o+u*Math.sin(i)),t.arc(a,o,u,i,n,!1),t.lineTo(a+l*Math.cos(n),o+l*Math.sin(n)),t.arc(a,o,l,n,i,!0)}}),Ext.define("Ext.draw.sprite.Composite",{extend:Ext.draw.sprite.Sprite,alias:"sprite.composite",type:"composite",constructor:function(){this.callSuper(arguments),this.sprites=[],this.sprites.map={}},add:function(t){t instanceof Ext.draw.sprite.Sprite||(t=Ext.create("sprite."+t.type,t),t.setParent(this));var e=t.applyTransformations,i=this,n=i.attr;return t.applyTransformations=function(){t.attr.dirtyTransform&&(n.dirtyTransform=!0,n.bbox.plain.dirty=!0,n.bbox.transform.dirty=!0),e.call(t)},this.sprites.push(t),this.sprites.map[t.id]=t.getId(),n.bbox.plain.dirty=!0,n.bbox.transform.dirty=!0,t},addAll:function(t){if(t.isSprite||t.type)this.add(t);else if(Ext.isArray(t))for(var e=0;e<t.length;)this.add(t[e++])},updatePlainBBox:function(t){var e,i,n,r,s=this,a=1/0,o=-1/0,l=1/0,u=-1/0;for(n=0,r=s.sprites.length;r>n;n++)e=s.sprites[n],e.applyTransformations(),i=e.getBBox(),a>i.x&&(a=i.x),o<i.x+i.width&&(o=i.x+i.width),l>i.y&&(l=i.y),u<i.y+i.height&&(u=i.y+i.height);t.x=a,t.y=l,t.width=o-a,t.height=u-l},render:function(t,e,i){var n,r,s=this.attr.matrix;for(s.toContext(e),n=0,r=this.sprites.length;r>n;n++)t.renderSprite(this.sprites[n],i)}}),Ext.define("Ext.draw.sprite.Arc",{extend:Ext.draw.sprite.Circle,alias:"sprite.arc",type:"arc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:2*Math.PI,anticlockwise:!1},dirtyTriggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(t,e){t.arc(e.cx,e.cy,e.r,e.startAngle,e.endAngle,e.anticlockwise)}}),Ext.define("Ext.draw.sprite.Rect",{extend:Ext.draw.sprite.Path,alias:"sprite.rect",type:"rect",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number",radius:"number"},aliases:{},dirtyTriggers:{x:"path",y:"path",width:"path",height:"path",radius:"path"},defaults:{x:0,y:0,width:1,height:1,radius:0}}},updatePlainBBox:function(t){var e=this.attr;t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},updateTransformedBBox:function(t,e){this.attr.matrix.transformBBox(e,this.attr.radius,t)},updatePath:function(t,e){var i=e.x,n=e.y,r=e.width,s=e.height,a=Math.min(e.radius,.5*Math.abs(e.height),.5*Math.abs(e.width));0===a?t.rect(i,n,r,s):(t.moveTo(i+a,n),t.arcTo(i+r,n,i+r,n+s,a),t.arcTo(i+r,n+s,i,n+s,a),t.arcTo(i,n+s,i,n,a),t.arcTo(i,n,i+a,n,a))}}),Ext.define("Ext.draw.sprite.Image",{extend:Ext.draw.sprite.Rect,alias:"sprite.image",type:"image",statics:{imageLoaders:{}},inheritableStatics:{def:{processors:{src:"string"},defaults:{src:"",width:null,height:null}}},render:function(t,e){var i,n,r=this,s=r.attr,a=s.matrix,o=s.src,l=s.x,u=s.y,h=s.width,c=s.height,d=Ext.draw.sprite.Image.imageLoaders[o];d&&d.done?(a.toContext(e),e.drawImage(d.image,l,u,h||d.width,c||d.width)):d?(Ext.Array.include(d.pendingSprites,r),Ext.Array.include(d.pendingSurfaces,t)):(i=new Image,d=Ext.draw.sprite.Image.imageLoaders[o]={image:i,done:!1,pendingSprites:[r],pendingSurfaces:[t]},i.width=h,i.height=c,i.onload=function(){if(!d.done){for(d.done=!0,n=0;n<d.pendingSprites.length;n++)d.pendingSprites[n].setDirty(!0);for(n in d.pendingSurfaces)d.pendingSurfaces[n].renderFrame()}},i.src=o)}}),Ext.define("Ext.draw.sprite.Instancing",{extend:Ext.draw.sprite.Sprite,alias:"sprite.instancing",type:"instancing",config:{template:null},instances:null,constructor:function(t){this.instances=[],this.callSuper([t]),t&&t.template&&this.setTemplate(t.template)},applyTemplate:function(t){return t instanceof Ext.draw.sprite.Sprite||(t=Ext.create(t.xclass||"sprite."+t.type,t)),t.setParent(this),t.attr.children=[],this.instances=[],this.position=0,t},createInstance:function(t,e,i,n){var r=this.getTemplate(),s=r.attr,a=Ext.Object.chain(s);return r.topModifier.prepareAttributes(a),r.attr=a,r.setAttributes(t,i,n),a.data=e,this.instances.push(a),r.attr=s,this.position++,s.children.push(a),a},getBBox:function(){return null},getBBoxFor:function(t,e){var i,n=this.getTemplate(),r=n.attr;return n.attr=this.instances[t],i=n.getBBox(e),n.attr=r,i},render:function(t,e,i,n){var r,s=this,a=s.attr.matrix,o=s.getTemplate(),l=o.attr,u=s.instances,h=s.position;for(a.toContext(e),o.preRender(t,e,i,n),o.useAttributes(e,n),r=0;h>r&&!u[r].dirtyZIndex;r++);for(r=0;h>r;r++)u[r].hidden||(e.save(),o.attr=u[r],o.applyTransformations(),o.useAttributes(e,n),o.render(t,e,i,n),e.restore());o.attr=l},setAttributesFor:function(t,e,i){var n=this.getTemplate(),r=n.attr,s=this.instances[t];n.attr=s;try{e=i?Ext.apply({},e):n.self.def.normalize(e),n.topModifier.pushDown(s,e),n.updateDirtyFlags(s)}finally{n.attr=r}},destroy:function(){this.callSuper(),this.instances.length=0,this.instances=null,this.getTemplate()&&this.getTemplate().destroy()}}),Ext.define("Ext.draw.gradient.Linear",{extend:Ext.draw.gradient.Gradient,type:"linear",config:{degrees:0},setAngle:function(t){this.setDegrees(t)},generateGradient:function(t,e){var i,n,r,s=Ext.draw.Draw.rad(this.getDegrees()),a=Math.cos(s),o=Math.sin(s),l=e.width,u=e.height,h=e.x+.5*l,c=e.y+.5*u,d=this.getStops(),f=d.length;if(!isNaN(h)&&!isNaN(c)&&u>0&&l>0){for(n=Math.sqrt(u*u+l*l)*Math.abs(Math.cos(s-Math.atan(u/l)))/2,i=t.createLinearGradient(h+a*n,c+o*n,h-a*n,c-o*n),r=0;f>r;r++)i.addColorStop(d[r].offset,d[r].color);return i}return"none"}}),Ext.define("Ext.draw.gradient.Radial",{extend:Ext.draw.gradient.Gradient,type:"radial",config:{start:{x:0,y:0,r:0},end:{x:0,y:0,r:1}},applyStart:function(t,e){if(!e)return t;var i={x:e.x,y:e.y,r:e.r};return"x"in t?i.x=t.x:"centerX"in t&&(i.x=t.centerX),"y"in t?i.y=t.y:"centerY"in t&&(i.y=t.centerY),"r"in t?i.r=t.r:"radius"in t&&(i.r=t.radius),i},applyEnd:function(t,e){if(!e)return t;var i={x:e.x,y:e.y,r:e.r};return"x"in t?i.x=t.x:"centerX"in t&&(i.x=t.centerX),"y"in t?i.y=t.y:"centerY"in t&&(i.y=t.centerY),"r"in t?i.r=t.r:"radius"in t&&(i.r=t.radius),i},generateGradient:function(t,e){var i,n=this.getStart(),r=this.getEnd(),s=.5*e.width,a=.5*e.height,o=e.x+s,l=e.y+a,u=t.createRadialGradient(o+n.x*s,l+n.y*a,n.r*Math.max(s,a),o+r.x*s,l+r.y*a,r.r*Math.max(s,a)),h=this.getStops(),c=h.length;for(i=0;c>i;i++)u.addColorStop(h[i].offset,h[i].color);return u}}),Ext.define("Ext.draw.Matrix",{statics:{createAffineMatrixFromTwoPair:function(t,e,i,n,r,s,a,o){var l=i-t,u=n-e,h=a-r,c=o-s,d=1/(l*l+u*u),f=l*h+u*c,g=h*u-l*c,p=-f*t-g*e,m=g*t-f*e;return new this(f*d,-g*d,g*d,f*d,p*d+r,m*d+s)},createPanZoomFromTwoPair:function(t,e,i,n,r,s,a,o){if(2===arguments.length)return this.createPanZoomFromTwoPair.apply(this,t.concat(e));var l=i-t,u=n-e,h=.5*(t+i),c=.5*(e+n),d=a-r,f=o-s,g=.5*(r+a),p=.5*(s+o),m=l*l+u*u,x=d*d+f*f,E=Math.sqrt(x/m);return new this(E,0,0,E,g-E*h,p-E*c)},fly:function(){var t=null,e=function(e){return t.elements=e,t};return function(i){return t||(t=new Ext.draw.Matrix),t.elements=i,Ext.draw.Matrix.fly=e,t}}(),create:function(t){return t instanceof this?t:new this(t)}},constructor:function(t,e,i,n,r,s){this.elements=t&&6===t.length?t.slice():void 0!==t?[t,e,i,n,r,s]:[1,0,0,1,0,0]},prepend:function(t,e,i,n,r,s){var a=this.elements,o=a[0],l=a[1],u=a[2],h=a[3],c=a[4],d=a[5];return a[0]=t*o+i*l,a[1]=e*o+n*l,a[2]=t*u+i*h,a[3]=e*u+n*h,a[4]=t*c+i*d+r,a[5]=e*c+n*d+s,this},prependMatrix:function(t){return this.prepend.apply(this,t.elements)},append:function(t,e,i,n,r,s){var a=this.elements,o=a[0],l=a[1],u=a[2],h=a[3],c=a[4],d=a[5];return a[0]=t*o+e*u,a[1]=t*l+e*h,a[2]=i*o+n*u,a[3]=i*l+n*h,a[4]=r*o+s*u+c,a[5]=r*l+s*h+d,this},appendMatrix:function(t){return this.append.apply(this,t.elements)},set:function(t,e,i,n,r,s){var a=this.elements;return a[0]=t,a[1]=e,a[2]=i,a[3]=n,a[4]=r,a[5]=s,this},inverse:function(t){var e=this.elements,i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=1/(i*s-n*r);return i*=l,n*=l,r*=l,s*=l,t?(t.set(s,-n,-r,i,r*o-s*a,n*a-i*o),t):new Ext.draw.Matrix(s,-n,-r,i,r*o-s*a,n*a-i*o)},translate:function(t,e,i){return i?this.prepend(1,0,0,1,t,e):this.append(1,0,0,1,t,e)},scale:function(t,e,i,n,r){var s=this;return null==e&&(e=t),void 0===i&&(i=0),void 0===n&&(n=0),r?s.prepend(t,0,0,e,i-i*t,n-n*e):s.append(t,0,0,e,i-i*t,n-n*e)},rotate:function(t,e,i,n){var r=this,s=Math.cos(t),a=Math.sin(t);return e=e||0,i=i||0,n?r.prepend(s,a,-a,s,e-s*e+i*a,i-s*i-e*a):r.append(s,a,-a,s,e-s*e+i*a,i-s*i-e*a)},rotateFromVector:function(t,e,i){var n=this,r=Math.sqrt(t*t+e*e),s=t/r,a=e/r;return i?n.prepend(s,a,-a,s,0,0):n.append(s,a,-a,s,0,0)},clone:function(){return new Ext.draw.Matrix(this.elements)},flipX:function(){return this.append(-1,0,0,1,0,0)},flipY:function(){return this.append(1,0,0,-1,0,0)},skewX:function(t){return this.append(1,Math.tan(t),0,-1,0,0)},skewY:function(t){return this.append(1,0,Math.tan(t),-1,0,0)},reset:function(){return this.set(1,0,0,1,0,0)},precisionCompensate:function(t,e){var i=this.elements,n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],l=i[5],u=r*s-n*a;e.b=t*r/n,e.c=t*s/a,e.d=t,e.xx=n/t,e.yy=a/t,e.dx=(l*n*s-o*n*a)/u/t,e.dy=(o*r*a-l*n*a)/u/t},precisionCompensateRect:function(t,e){var i=this.elements,n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],l=i[5],u=s/n;e.b=t*r/n,e.c=t*u,e.d=t*a/n,e.xx=n/t,e.yy=n/t,e.dx=(l*s-o*a)/(r*u-a)/t,e.dy=-(l*n-o*r)/(r*u-a)/t},x:function(t,e){var i=this.elements;return t*i[0]+e*i[2]+i[4]},y:function(t,e){var i=this.elements;return t*i[1]+e*i[3]+i[5]},get:function(t,e){return+this.elements[t+2*e].toFixed(4)},transformPoint:function(t){var e=this.elements;return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]},transformBBox:function(t,e,i){var n,r,s,a=this.elements,o=t.x,l=t.y,u=.5*t.width,h=.5*t.height,c=a[0],d=a[1],f=a[2],g=a[3],p=o+u,m=l+h;return e?(u-=e,h-=e,s=[Math.sqrt(a[0]*a[0]+a[2]*a[2]),Math.sqrt(a[1]*a[1]+a[3]*a[3])],n=Math.abs(u*c)+Math.abs(h*f)+Math.abs(s[0]*e),r=Math.abs(u*d)+Math.abs(h*g)+Math.abs(s[1]*e)):(n=Math.abs(u*c)+Math.abs(h*f),r=Math.abs(u*d)+Math.abs(h*g)),i||(i={}),i.x=p*c+m*f+a[4]-n,i.y=p*d+m*g+a[5]-r,i.width=n+n,i.height=r+r,i},transformList:function(t){var e,i,n=this.elements,r=n[0],s=n[2],a=n[4],o=n[1],l=n[3],u=n[5],h=t.length;for(i=0;h>i;i++)e=t[i],t[i]=[e[0]*r+e[1]*s+a,e[0]*o+e[1]*l+u];return t},isIdentity:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},equals:function(t){var e=this.elements,i=t.elements;return e[0]===i[0]&&e[1]===i[1]&&e[2]===i[2]&&e[3]===i[3]&&e[4]===i[4]&&e[5]===i[5]},toArray:function(){var t=this.elements;return[t[0],t[2],t[4],t[1],t[3],t[5]]},toVerticalArray:function(){return this.elements.slice()},toString:function(){var t=this;return[t.get(0,0),t.get(0,1),t.get(1,0),t.get(1,1),t.get(2,0),t.get(2,1)].join(",")},toContext:function(t){return t.transform.apply(t,this.elements),this},toSvg:function(){var t=this.elements;return"matrix("+t[0].toFixed(9)+","+t[1].toFixed(9)+","+t[2].toFixed(9)+","+t[3].toFixed(9)+","+t[4].toFixed(9)+","+t[5].toFixed(9)+")"},getScaleX:function(){var t=this.elements;return Math.sqrt(t[0]*t[0]+t[2]*t[2])},getScaleY:function(){var t=this.elements;return Math.sqrt(t[1]*t[1]+t[3]*t[3])},getXX:function(){return this.elements[0]},getXY:function(){return this.elements[1]},getYX:function(){return this.elements[2]},getYY:function(){return this.elements[3]},getDX:function(){return this.elements[4]},getDY:function(){return this.elements[5]},split:function(){var t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],s={translateX:t[4],translateY:t[5]};return s.scaleX=Math.sqrt(e*e+n*n),s.shear=(e*i+n*r)/s.scaleX,i-=s.shear*e,r-=s.shear*n,s.scaleY=Math.sqrt(i*i+r*r),s.shear/=s.scaleY,s.rotation=-Math.atan2(n/s.scaleX,i/s.scaleY),s.isSimple=Math.abs(s.shear)<1e-9&&(!s.rotation||Math.abs(s.scaleX-s.scaleY)<1e-9),s}},function(){function t(t,e,i){t[e]={get:function(){return this.elements[i]},set:function(t){this.elements[i]=t}}}if(Object.defineProperties){var e={};t(e,"a",0),t(e,"b",1),t(e,"c",2),t(e,"d",3),t(e,"e",4),t(e,"f",5),Object.defineProperties(this.prototype,e)}this.prototype.multiply=this.prototype.appendMatrix}),Ext.define("Ext.draw.Surface",{extend:Ext.Component,xtype:"surface",defaultIdPrefix:"ext-surface-",devicePixelRatio:window.devicePixelRatio||1,statics:{stableSort:function(t){if(!(t.length<2)){var e,i,n,r,s={},a=[];for(i=0,n=t.length;n>i;i++)r=t[i].attr.zIndex,s[r]?s[r].push(t[i]):s[r]=[t[i]];for(e=Ext.Object.getKeys(s).sort(function(t,e){return t-e}),i=0,n=e.length;n>i;i++)a.push.apply(a,s[e[i]]);for(i=0,n=t.length;n>i;i++)t[i]=a[i]}}},config:{region:null,background:null,items:[],dirty:!1},dirtyPredecessor:0,constructor:function(t){var e=this;e.predecessors=[],e.successors=[],e.pendingRenderFrame=!1,e.map={},e.callSuper([t]),e.matrix=new Ext.draw.Matrix,e.inverseMatrix=e.matrix.inverse(e.inverseMatrix),e.resetTransform()},roundPixel:function(t){return Math.round(this.devicePixelRatio*t)/this.devicePixelRatio},waitFor:function(t){var e=this,i=e.predecessors;Ext.Array.contains(i,t)||(i.push(t),t.successors.push(e),t._dirty&&e.dirtyPredecessor++)},setDirty:function(t){if(this._dirty!==t){var e,i,n=this.successors,r=n.length;for(i=0;r>i;i++)e=n[i],t?(e.dirtyPredecessor++,e.setDirty(!0)):(e.dirtyPredecessor--,0===e.dirtyPredecessor&&e.pendingRenderFrame&&e.renderFrame());this._dirty=t}},applyElement:function(t,e){return e?e.set(t):e=Ext.Element.create(t),this.setDirty(!0),e},applyBackground:function(t,e){return this.setDirty(!0),Ext.isString(t)&&(t={fillStyle:t}),Ext.factory(t,Ext.draw.sprite.Rect,e)},applyRegion:function(t,e){return e&&t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]?void 0:Ext.isArray(t)?[t[0],t[1],t[2],t[3]]:Ext.isObject(t)?[t.x||t.left,t.y||t.top,t.width||t.right-t.left,t.height||t.bottom-t.top]:void 0},updateRegion:function(t){var e=this,i=t[0],n=t[1],r=i+t[2],s=n+t[3],a=this.getBackground(),o=e.element;o.setBox({top:Math.floor(n),left:Math.floor(i),width:Math.ceil(r-Math.floor(i)),height:Math.ceil(s-Math.floor(n))}),a&&a.setAttributes({x:0,y:0,width:Math.ceil(r-Math.floor(i)),height:Math.ceil(s-Math.floor(n))}),e.setDirty(!0)},resetTransform:function(){this.matrix.set(1,0,0,1,0,0),this.inverseMatrix.set(1,0,0,1,0,0),this.setDirty(!0)},updateComponent:function(t){t&&t.element.dom.appendChild(this.element.dom)},get:function(t){return this.map[t]||this.items[t]},add:function(){var t,e,i,n,r,s=this,a=Array.prototype.slice.call(arguments),o=Ext.isArray(a[0]),l=[];if(i=Ext.Array.clean(o?a[0]:a),!i.length)return l;for(e=s.prepareItems(i),n=0,r=e.length;r>n;n++)t=e[n],s.map[t.getId()]=t,l.push(t),t.setParent(this),s.onAdd(t);return i=s.getItems(),i&&i.push.apply(i,l),s.dirtyZIndex=!0,s.setDirty(!0),o||1!==l.length?l:l[0]},onAdd:Ext.emptyFn,remove:function(t,e){t&&(delete this.map[t.getId()],e?t.destroy():(t.setParent(null),Ext.Array.remove(this.getItems(),t)),this.dirtyZIndex=!0,this.setDirty(!0))},removeAll:function(t){var e=this.getItems(),i=e.length;if(t)for(;i>0;)e[--i].destroy();else for(;i>0;)e[--i].setParent(null);e.length=0,this.map={},this.dirtyZIndex=!0},applyItems:function(t){return this.getItems()&&this.removeAll(!0),Ext.Array.from(this.add(t))},prepareItems:function(t){t=[].concat(t);var e,i,n,r=this,s=function(t){this.remove(t,!1)};for(i=0,n=t.length;n>i;i++)e=t[i],e instanceof Ext.draw.sprite.Sprite||(e=t[i]=r.createItem(e)),e.on("beforedestroy",s,r);return t},createItem:function(t){var e=Ext.create(t.xclass||"sprite."+t.type,t);return e},getBBox:function(t,e){var i,n,r,s,t=Ext.Array.from(t),a=1/0,o=-1/0,l=1/0,u=-1/0;for(r=0,s=t.length;s>r;r++)i=t[r],n=i.getBBox(e),a>n.x&&(a=n.x),o<n.x+n.width&&(o=n.x+n.width),l>n.y&&(l=n.y),u<n.y+n.height&&(u=n.y+n.height);return{x:a,y:l,width:o-a,height:u-l}},clear:Ext.emptyFn,orderByZIndex:function(){var t,e,i=this,n=i.getItems(),r=!1;if(i.getDirty()){for(t=0,e=n.length;e>t;t++)if(n[t].attr.dirtyZIndex){r=!0;break}for(r&&(Ext.draw.Surface.stableSort(n),this.setDirty(!0)),t=0,e=n.length;e>t;t++)n[t].attr.dirtyZIndex=!1}},repaint:function(){var t=this;t.repaint=Ext.emptyFn,setTimeout(function(){delete t.repaint,t.element.repaint()},1)},renderFrame:function(){if(this.element){if(this.dirtyPredecessor>0)return void(this.pendingRenderFrame=!0);var t,e,i,n=this,r=this.getRegion(),s=n.getBackground(),a=n.getItems();if(r&&(n.orderByZIndex(),n.getDirty())){for(n.clear(),n.clearTransform(),s&&n.renderSprite(s),e=0,i=a.length;i>e;e++){if(t=a[e],!1===n.renderSprite(t))return;t.attr.textPositionCount=n.textPosition}n.setDirty(!1)}}},renderSprite:Ext.emptyFn,clearTransform:Ext.emptyFn,getDirty:function(){return this._dirty},destroy:function(){var t=this;t.removeAll(),t.setBackground(null),t.predecessors=null,t.successors=null,t.callSuper()}}),Ext.define("Ext.draw.engine.SvgContext",{toSave:["strokeOpacity","strokeStyle","fillOpacity","fillStyle","globalAlpha","lineWidth","lineCap","lineJoin","lineDash","lineDashOffset","miterLimit","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","globalCompositeOperation","position"],strokeOpacity:1,strokeStyle:"none",fillOpacity:1,fillStyle:"none",lineDash:[],lineDashOffset:0,globalAlpha:1,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"none",globalCompositeOperation:"src",urlStringRe:/^url\(#([\w\-]+)\)$/,constructor:function(t){this.surface=t,this.status=[],this.matrix=new Ext.draw.Matrix,this.path=null,this.clear()},clear:function(){this.group=this.surface.mainGroup,this.position=0,this.path=null},getElement:function(t){return this.surface.getSvgElement(this.group,t,this.position++)},removeElement:function(t){var e,i,n,r,s,a,o,t=Ext.fly(t);if(t){if("g"===t.dom.tagName){s=t.dom.gradients;for(o in s)s[o].destroy()}else e=t.getAttribute("fill"),i=t.getAttribute("stroke"),n=e&&e.match(this.urlStringRe),r=i&&i.match(this.urlStringRe),n&&n[1]&&(a=Ext.fly(n[1]),a&&a.destroy()),r&&r[1]&&(a=Ext.fly(r[1]),a&&a.destroy());t.destroy()}},save:function(){var t,e,i=this.toSave,n={},r=this.getElement("g");for(e=0;e<i.length;e++)t=i[e],t in this&&(n[t]=this[t]);return this.position=0,n.matrix=this.matrix.clone(),this.status.push(n),this.group=r,r},restore:function(){for(var t,e,i=this.toSave,n=this.status.pop(),r=this.group.dom.childNodes;r.length>this.position;)this.removeElement(r[r.length-1]);for(e=0;e<i.length;e++)t=i[e],t in n?this[t]=n[t]:delete this[t];this.setTransform.apply(this,n.matrix.elements),this.group=this.group.getParent()},transform:function(t,e,i,n,r,s){if(this.path){var a=Ext.draw.Matrix.fly([t,e,i,n,r,s]).inverse();this.path.transform(a)}this.matrix.append(t,e,i,n,r,s)},setTransform:function(t,e,i,n,r,s){this.path&&this.path.transform(this.matrix),this.matrix.reset(),this.transform(t,e,i,n,r,s)},scale:function(t,e){this.transform(t,0,0,e,0,0)},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=-Math.sin(t),r=Math.cos(t);this.transform(e,i,n,r,0,0)},translate:function(t,e){this.transform(1,0,0,1,t,e)},setGradientBBox:function(t){this.bbox=t},beginPath:function(){this.path=new Ext.draw.Path},moveTo:function(t,e){this.path||this.beginPath(),this.path.moveTo(t,e),this.path.element=null},lineTo:function(t,e){this.path||this.beginPath(),this.path.lineTo(t,e),this.path.element=null},rect:function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},strokeRect:function(t,e,i,n){this.beginPath(),this.rect(t,e,i,n),this.stroke()},fillRect:function(t,e,i,n){this.beginPath(),this.rect(t,e,i,n),this.fill()},closePath:function(){this.path||this.beginPath(),this.path.closePath(),this.path.element=null},arcSvg:function(t,e,i,n,r,s,a){this.path||this.beginPath(),this.path.arcSvg(t,e,i,n,r,s,a),this.path.element=null},arc:function(t,e,i,n,r,s){this.path||this.beginPath(),this.path.arc(t,e,i,n,r,s),this.path.element=null},ellipse:function(t,e,i,n,r,s,a,o){this.path||this.beginPath(),this.path.ellipse(t,e,i,n,r,s,a,o),this.path.element=null},arcTo:function(t,e,i,n,r,s,a){this.path||this.beginPath(),this.path.arcTo(t,e,i,n,r,s,a),this.path.element=null},bezierCurveTo:function(t,e,i,n,r,s){this.path||this.beginPath(),this.path.bezierCurveTo(t,e,i,n,r,s),this.path.element=null},strokeText:function(t,e,i){if(t=String(t),this.strokeStyle){var n=this.getElement("text"),r=this.surface.getSvgElement(n,"tspan",0);this.surface.setElementAttributes(n,{x:e,y:i,transform:this.matrix.toSvg(),stroke:this.strokeStyle,fill:"none",opacity:this.globalAlpha,"stroke-opacity":this.strokeOpacity,style:"font: "+this.font}),this.lineDash.length&&this.surface.setElementAttributes(n,{"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset}),r.dom.firstChild&&r.dom.removeChild(r.dom.firstChild),this.surface.setElementAttributes(r,{"alignment-baseline":"middle","baseline-shift":"-50%"}),r.appendChild(document.createTextNode(Ext.String.htmlDecode(t)))}},fillText:function(t,e,i){if(t=String(t),this.fillStyle){var n=this.getElement("text"),r=this.surface.getSvgElement(n,"tspan",0);this.surface.setElementAttributes(n,{x:e,y:i,transform:this.matrix.toSvg(),fill:this.fillStyle,opacity:this.globalAlpha,"fill-opacity":this.fillOpacity,style:"font: "+this.font}),r.dom.firstChild&&r.dom.removeChild(r.dom.firstChild),this.surface.setElementAttributes(r,{"alignment-baseline":"middle","baseline-shift":"-50%"}),r.appendChild(document.createTextNode(Ext.String.htmlDecode(t)))}},drawImage:function(t,e,i,n,r,s,a,o,l){var u=this,h=u.getElement("image"),c=e,d=i,f="undefined"==typeof n?t.width:n,g="undefined"==typeof r?t.height:r,p=null;"undefined"!=typeof l&&(p=e+" "+i+" "+n+" "+r,c=s,d=a,f=o,g=l),h.dom.setAttributeNS("http://www.w3.org/1999/xlink","href",t.src),u.surface.setElementAttributes(h,{viewBox:p,x:c,y:d,width:f,height:g,opacity:u.globalAlpha,transform:u.matrix.toSvg()})},fill:function(){if(this.path&&this.fillStyle){var t,e=this.fillGradient,i=this.bbox,n=this.path.element;n||(t=this.path.toString(),n=this.path.element=this.getElement("path"),this.surface.setElementAttributes(n,{d:t,transform:this.matrix.toSvg()})),this.surface.setElementAttributes(n,{fill:e&&i?e.generateGradient(this,i):this.fillStyle,"fill-opacity":this.fillOpacity*this.globalAlpha})}},stroke:function(){if(this.path&&this.strokeStyle){var t,e=this.strokeGradient,i=this.bbox,n=this.path.element;n&&this.path.svgString||(t=this.path.toString(),n=this.path.element=this.getElement("path"),this.surface.setElementAttributes(n,{fill:"none",d:t,transform:this.matrix.toSvg()})),this.surface.setElementAttributes(n,{stroke:e&&i?e.generateGradient(this,i):this.strokeStyle,"stroke-linecap":this.lineCap,"stroke-linejoin":this.lineJoin,"stroke-width":this.lineWidth,"stroke-opacity":this.strokeOpacity*this.globalAlpha}),this.lineDash.length&&this.surface.setElementAttributes(n,{"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset})}},fillStroke:function(t,e){var i=this,n=i.fillStyle,r=i.strokeStyle,s=i.fillOpacity,a=i.strokeOpacity;void 0===e&&(e=t.transformFillStroke),e||t.inverseMatrix.toContext(i),n&&0!==s&&i.fill(),r&&0!==a&&i.stroke()},appendPath:function(t){this.path=t.clone()},createLinearGradient:function(t,e,i,n){var r,s=this,a=s.surface.getNextDef("linearGradient"),o=s.group.dom.gradients||(s.group.dom.gradients={});return s.surface.setElementAttributes(a,{x1:t,y1:e,x2:i,y2:n,gradientUnits:"userSpaceOnUse"}),r=new Ext.draw.engine.SvgContext.Gradient(s,s.surface,a),o[a.dom.id]=r,r},createRadialGradient:function(t,e,i,n,r,s){var a,o=this,l=o.surface.getNextDef("radialGradient"),u=o.group.dom.gradients||(o.group.dom.gradients={});return o.surface.setElementAttributes(l,{fx:t,fy:e,cx:n,cy:r,r:s,gradientUnits:"userSpaceOnUse"}),a=new Ext.draw.engine.SvgContext.Gradient(o,o.surface,l,i/s),u[l.dom.id]=a,a}}),Ext.define("Ext.draw.engine.SvgContext.Gradient",{statics:{map:{}},constructor:function(t,e,i,n){var r,s=this.statics().map;r=s[i.dom.id],r&&(r.element=null),s[i.dom.id]=this,this.ctx=t,this.surface=e,this.element=i,this.position=0,this.compression=n||0},addColorStop:function(t,e){var i=this.surface.getSvgElement(this.element,"stop",this.position++),n=this.compression;this.surface.setElementAttributes(i,{offset:(100*((1-n)*t+n)).toFixed(2)+"%","stop-color":e,"stop-opacity":Ext.draw.Color.fly(e).a.toFixed(15)})},toString:function(){for(var t=this.element.dom.childNodes;t.length>this.position;)Ext.fly(t[t.length-1]).destroy();return"url(#"+this.element.getId()+")"},destroy:function(){var t=this.statics().map,e=this.element;e&&(delete t[e.dom.id],e.destroy()),this.callSuper()}}),Ext.define("Ext.draw.engine.Svg",{extend:Ext.draw.Surface,statics:{BBoxTextCache:{}},config:{highPrecision:!1},getElementConfig:function(){return{reference:"element",style:{position:"absolute"},children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"},children:[{tag:"svg",reference:"svgElement",namespace:"http://www.w3.org/2000/svg",version:1.1,cls:"x-surface"}]}]}},constructor:function(t){var e=this;e.callSuper([t]),e.mainGroup=e.createSvgNode("g"),e.defElement=e.createSvgNode("defs"),e.svgElement.appendChild(e.mainGroup),e.svgElement.appendChild(e.defElement),e.ctx=new Ext.draw.engine.SvgContext(e)},createSvgNode:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg",t);return Ext.get(e)},getSvgElement:function(t,e,i){var n;if(t.dom.childNodes.length>i){if(n=t.dom.childNodes[i],n.tagName===e)return Ext.get(n);Ext.destroy(n)}return n=Ext.get(this.createSvgNode(e)),0===i?t.insertFirst(n):n.insertAfter(Ext.fly(t.dom.childNodes[i-1])),n.cache={},n},setElementAttributes:function(t,e){var i,n,r=t.dom,s=t.cache;for(i in e)n=e[i],s[i]!==n&&(s[i]=n,r.setAttribute(i,n))},getNextDef:function(t){return this.getSvgElement(this.defElement,t,this.defPosition++)},clearTransform:function(){var t=this;t.mainGroup.set({transform:t.matrix.toSvg()})},clear:function(){this.ctx.clear(),this.defPosition=0},renderSprite:function(t){var e=this,i=e.getRegion(),n=e.ctx;if(t.attr.hidden||0===t.attr.opacity)return n.save(),void n.restore();try{if(t.element=n.save(),t.preRender(this),t.useAttributes(n,i),!1===t.render(this,n,[0,0,i[2],i[3]]))return!1;t.setDirty(!1)}finally{n.restore()}},destroy:function(){var t=this;t.ctx.destroy(),t.mainGroup.destroy(),delete t.mainGroup,delete t.ctx,t.callSuper(arguments)
},remove:function(t){t&&t.element&&(this.ctx?this.ctx.removeElement(t.element):t.element.destroy(),t.element=null),this.callSuper(arguments)}}),Ext.define("Ext.draw.engine.Canvas",{extend:Ext.draw.Surface,config:{highPrecision:!1},statics:{contextOverrides:{setGradientBBox:function(t){this.bbox=t},fill:function(){var t=this.fillStyle,e=this.fillGradient,i=this.fillOpacity,n="rgba(0, 0, 0, 0)",r="rgba(0, 0, 0, 0.0)",s=this.bbox,a=this.globalAlpha;t!==n&&t!==r&&0!==i&&(e&&s&&(this.fillStyle=e.generateGradient(this,s)),1!==i&&(this.globalAlpha=a*i),this.$fill(),1!==i&&(this.globalAlpha=a),e&&s&&(this.fillStyle=t))},stroke:function(){var t=this.strokeStyle,e=this.strokeGradient,i=this.strokeOpacity,n="rgba(0, 0, 0, 0)",r="rgba(0, 0, 0, 0.0)",s=this.bbox,a=this.globalAlpha;t!==n&&t!==r&&0!==i&&(e&&s&&(this.strokeStyle=e.generateGradient(this,s)),1!==i&&(this.globalAlpha=a*i),this.$stroke(),1!==i&&(this.globalAlpha=a),e&&s&&(this.strokeStyle=t))},fillStroke:function(t,e){var i=this,n=this.fillStyle,r=this.fillOpacity,s=this.strokeStyle,a=this.strokeOpacity,o=i.shadowColor,l=i.shadowBlur,u="rgba(0, 0, 0, 0)",h="rgba(0, 0, 0, 0.0)";void 0===e&&(e=t.transformFillStroke),e||t.inverseMatrix.toContext(i),n!==u&&n!==h&&0!==r&&(i.fill(),i.shadowColor="rgba(0,0,0,0)",i.shadowBlur=0),s!==u&&s!==h&&0!==a&&i.stroke(),i.shadowColor=o,i.shadowBlur=l},ellipse:function(t,e,i,n,r,s,a,o){var l=Math.cos(r),u=Math.sin(r);this.transform(l*i,u*i,-u*n,l*n,t,e),this.arc(0,0,1,s,a,o),this.transform(l/i,-u/n,u/i,l/n,-(l*t+u*e)/i,(u*t-l*e)/n)},appendPath:function(t){var e=this,i=0,n=0,r=t.types,s=t.coords,a=t.types.length;for(e.beginPath();a>i;i++)switch(r[i]){case"M":e.moveTo(s[n],s[n+1]),n+=2;break;case"L":e.lineTo(s[n],s[n+1]),n+=2;break;case"C":e.bezierCurveTo(s[n],s[n+1],s[n+2],s[n+3],s[n+4],s[n+5]),n+=6;break;case"Z":e.closePath()}}}},splitThreshold:1800,getElementConfig:function(){return{reference:"element",style:{position:"absolute"},children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"}}]}},createCanvas:function(){var t,e=Ext.Element.create({tag:"canvas",cls:"x-surface"}),i=Ext.draw.engine.Canvas.contextOverrides,n=e.dom.getContext("2d"),r=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1;this.devicePixelRatio/=Ext.os.is.WindowsPhone?window.innerWidth/window.screen.width:r,n.ellipse&&delete i.ellipse;for(t in i)n["$"+t]=n[t];Ext.apply(n,i),this.getHighPrecision()?this.enablePrecisionCompensation(n):this.disablePrecisionCompensation(n),this.innerElement.appendChild(e),this.canvases.push(e),this.contexts.push(n)},initElement:function(){this.callSuper(),this.canvases=[],this.contexts=[],this.createCanvas(),this.activeCanvases=0},updateHighPrecision:function(t){var e,i,n=this.contexts,r=n.length;for(e=0;r>e;e++)i=n[e],t?this.enablePrecisionCompensation(i):this.disablePrecisionCompensation(i)},precisionMethods:{rect:!1,fillRect:!1,strokeRect:!1,clearRect:!1,moveTo:!1,lineTo:!1,arc:!1,arcTo:!1,save:!1,restore:!1,updatePrecisionCompensate:!1,setTransform:!1,transform:!1,scale:!1,translate:!1,rotate:!1,quadraticCurveTo:!1,bezierCurveTo:!1,createLinearGradient:!1,createRadialGradient:!1,fillText:!1,strokeText:!1,drawImage:!1},disablePrecisionCompensation:function(t){var e,i=this.precisionMethods;for(e in i)delete t[e];this.setDirty(!0)},enablePrecisionCompensation:function(t){var e=this,i=1,n=1,r=0,s=0,a=new Ext.draw.Matrix,o=[],l={},u=t.constructor.prototype,h={rect:function(t,e,a,o){return u.rect.call(this,t*i+r,e*n+s,a*i,o*n)},fillRect:function(t,e,a,o){this.updatePrecisionCompensateRect(),u.fillRect.call(this,t*i+r,e*n+s,a*i,o*n),this.updatePrecisionCompensate()},strokeRect:function(t,e,a,o){this.updatePrecisionCompensateRect(),u.strokeRect.call(this,t*i+r,e*n+s,a*i,o*n),this.updatePrecisionCompensate()},clearRect:function(t,e,a,o){return u.clearRect.call(this,t*i+r,e*n+s,a*i,o*n)},moveTo:function(t,e){return u.moveTo.call(this,t*i+r,e*n+s)},lineTo:function(t,e){return u.lineTo.call(this,t*i+r,e*n+s)},arc:function(t,e,n,a,o,l){this.updatePrecisionCompensateRect(),u.arc.call(this,t*i+r,e*i+s,n*i,a,o,l),this.updatePrecisionCompensate()},arcTo:function(t,e,a,o,l){this.updatePrecisionCompensateRect(),u.arcTo.call(this,t*i+r,e*n+s,a*i+r,o*n+s,l*i),this.updatePrecisionCompensate()},save:function(){return o.push(a),a=a.clone(),u.save.call(this)},restore:function(){a=o.pop(),u.restore.call(this),this.updatePrecisionCompensate()},updatePrecisionCompensate:function(){return a.precisionCompensate(e.devicePixelRatio,l),i=l.xx,n=l.yy,r=l.dx,s=l.dy,u.setTransform.call(this,e.devicePixelRatio,l.b,l.c,l.d,0,0)},updatePrecisionCompensateRect:function(){return a.precisionCompensateRect(e.devicePixelRatio,l),i=l.xx,n=l.yy,r=l.dx,s=l.dy,u.setTransform.call(this,e.devicePixelRatio,l.b,l.c,l.d,0,0)},setTransform:function(t,e,i,n,r,s){a.set(t,e,i,n,r,s),this.updatePrecisionCompensate()},transform:function(t,e,i,n,r,s){a.append(t,e,i,n,r,s),this.updatePrecisionCompensate()},scale:function(t,e){return this.transform(t,0,0,e,0,0)},translate:function(t,e){return this.transform(1,0,0,1,t,e)},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this.transform(e,i,-i,e,0,0)},quadraticCurveTo:function(t,e,a,o){return u.quadraticCurveTo.call(this,t*i+r,e*n+s,a*i+r,o*n+s)},bezierCurveTo:function(t,e,a,o,l,h){return u.bezierCurveTo.call(this,t*i+r,e*n+s,a*i+r,o*n+s,l*i+r,h*n+s)},createLinearGradient:function(t,e,a,o){this.updatePrecisionCompensateRect();var l=u.createLinearGradient.call(this,t*i+r,e*n+s,a*i+r,o*n+s);return this.updatePrecisionCompensate(),l},createRadialGradient:function(t,e,n,a,o,l){this.updatePrecisionCompensateRect();var h=u.createLinearGradient.call(this,t*i+r,e*i+s,n*i,a*i+r,o*i+s,l*i);return this.updatePrecisionCompensate(),h},fillText:function(t,e,i,n){u.setTransform.apply(this,a.elements),"undefined"==typeof n?u.fillText.call(this,t,e,i):u.fillText.call(this,t,e,i,n),this.updatePrecisionCompensate()},strokeText:function(t,e,i,n){u.setTransform.apply(this,a.elements),"undefined"==typeof n?u.strokeText.call(this,t,e,i):u.strokeText.call(this,t,e,i,n),this.updatePrecisionCompensate()},fill:function(){this.updatePrecisionCompensateRect(),u.fill.call(this),this.updatePrecisionCompensate()},stroke:function(){this.updatePrecisionCompensateRect(),u.stroke.call(this),this.updatePrecisionCompensate()},drawImage:function(t,e,a,o,l,h,c,d,f){switch(arguments.length){case 3:return u.drawImage.call(this,t,e*i+r,a*n+s);case 5:return u.drawImage.call(this,t,e*i+r,a*n+s,o*i,l*n);case 9:return u.drawImage.call(this,t,e,a,o,l,h*i+r,c*n*s,d*i,f*n)}}};Ext.apply(t,h),this.setDirty(!0)},updateRegion:function(t){this.callSuper([t]);var e,i,n,r,s=this,a=Math.floor(t[0]),o=Math.floor(t[1]),l=Math.ceil(t[0]+t[2]),u=Math.ceil(t[1]+t[3]),h=s.devicePixelRatio,c=l-a,d=u-o,f=Math.round(s.splitThreshold/h),g=Math.ceil(c/f),p=s.activeCanvases;for(e=0,i=0;g>e;e++,i+=f)e>=s.canvases.length&&s.createCanvas(),n=s.canvases[e].dom,n.style.left=i+"px",d*h!==n.height&&(n.height=d*h,n.style.height=d+"px"),r=Math.min(f,c-i),r*h!==n.width&&(n.width=r*h,n.style.width=r+"px"),s.applyDefaults(s.contexts[e]);for(;p>e;e++)n=s.canvases[e].dom,n.width=0,n.height=0;s.activeCanvases=g,s.clear()},clearTransform:function(){var t,e,i=this,n=i.activeCanvases;for(t=0;n>t;t++)e=i.contexts[t],e.translate(-i.splitThreshold*t,0),e.scale(i.devicePixelRatio,i.devicePixelRatio),i.matrix.toContext(e)},renderSprite:function(t){for(var e,i,n,r,s,a,o,l=this,u=l._region,h=l.matrix,c=t._parent,d=Ext.draw.Matrix.fly([1,0,0,1,0,0]),f=0,g=u[2];c&&c!==l;)d.prependMatrix(c.matrix||c.attr&&c.attr.matrix),c=c.getParent();if(d.prependMatrix(h),e=t.getBBox(),e&&(e=d.transformBBox(e)),t.preRender(l),t.attr.hidden||0===t.attr.globalAlpha)return void t.setDirty(!1);for(a=0,o=a+u[3],i=0,n=0;i<l.activeCanvases;i++,n+=l.splitThreshold/l.devicePixelRatio)if(r=l.contexts[i],s=Math.min(u[2]-n,l.splitThreshold/l.devicePixelRatio),f=n,g=f+s,!e||!(e.x>g||e.x+e.width<f||e.y>o||e.y+e.height<a))try{if(r.save(),t.useAttributes(r,u),!1===t.render(l,r,[f,a,s,o-a],u))return!1}finally{r.restore()}t.setDirty(!1)},applyDefaults:function(t){t.strokeStyle="rgba(0,0,0,0)",t.fillStyle="rgba(0,0,0,0)",t.textAlign="start",t.textBaseline="top",t.miterLimit=1},clear:function(){var t,e,i,n=this,r=this.activeCanvases;for(t=0;r>t;t++)e=n.canvases[t].dom,i=n.contexts[t],i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height);n.setDirty(!0)},destroy:function(){var t,e=this,i=e.canvases.length;for(t=0;i>t;t++)e.contexts[t]=null,e.canvases[t].destroy(),e.canvases[t]=null;delete e.contexts,delete e.canvases,e.callSuper(arguments)}},function(){Ext.os.is.Android4&&Ext.browser.is.Chrome?this.prototype.splitThreshold=3e3:Ext.os.is.Android&&(this.prototype.splitThreshold=1e10)}),Ext.define("Ext.draw.Component",{extend:Ext.Container,xtype:"draw",defaultType:"surface",engine:"Ext.draw.engine.Canvas",statics:{WATERMARK:'Powered by <span style="color:#22E962; font-weight: 900">Sencha Touch</span> <span style="color:#75cdff; font-weight: 900">GPLv3</span>'},config:{cls:"x-draw-component",autoSize:!1,viewBox:!1,fitSurface:!0,resizeHandler:null,background:null,sprites:null,gradients:[]},constructor:function(t){t=t||{},this.callSuper(arguments),this.frameCallbackId=Ext.draw.Animator.addFrameCallback("renderFrame",this)},applyGradients:function(t){var e,i,n,r,s=[];if(!Ext.isArray(t))return s;for(e=0,i=t.length;i>e;e++)n=t[e],Ext.isObject(n)&&("string"!=typeof n.type&&(n.type="linear"),n.angle&&(n.degrees=n.angle,delete n.angle),Ext.isObject(n.stops)&&(n.stops=function(t){var e,i=[];for(r in t)e=t[r],e.offset=r/100,i.push(e);return i}(n.stops)),s.push(n));return Ext.draw.gradient.GradientDefinition.add(s),s},initialize:function(){var t=this;t.callSuper(),t.element.on("resize","onResize",this)},applySprites:function(t){if(t){t=Ext.Array.from(t);var e,i,n=t.length;for(e=0;n>e;e++)i=t[e].surface instanceof Ext.draw.Surface?t[e].surface:this.getSurface(Ext.isString(t[e].surface)?t[e].surface:"main"),i.add(t[e])}},getElementConfig:function(){return{reference:"element",className:"x-container",children:[{reference:"innerElement",className:"x-inner",children:[{reference:"watermarkElement",cls:"x-chart-watermark",html:Ext.draw.Component.WATERMARK,style:Ext.draw.Component.WATERMARK?"":"display: none"}]}]}},updateBackground:function(t){this.element.setStyle({background:t})},onPlaceWatermark:function(){},onResize:function(){var t,e=this,i=e.element.getSize(),n=e.getResizeHandler()||e.resizeHandler;e.fireEvent("resize",e,i),t=n.call(e,i),t!==!1&&(e.renderFrame(),e.onPlaceWatermark())},resizeHandler:function(t){var e=this;e.getItems().each(function(e){e.setRegion([0,0,t.width,t.height])})},getSurface:function(t){t=this.getId()+"-"+(t||"main");var e,i=this,n=i.getItems(),r=n.get(t);return r||(r=i.add({xclass:i.engine,id:t}),i.getFitSurface()&&(e=i.element.getSize(),r.setRegion([0,0,e.width,e.height])),r.renderFrame()),r},renderFrame:function(){var t,e,i=this,n=i.getItems();for(t=0,e=n.length;e>t;t++)n.items[t].renderFrame()},destroy:function(){Ext.draw.Animator.removeFrameCallback(this.frameCallbackId),this.callSuper()}},function(){location.search.match("svg")?Ext.draw.Component.prototype.engine="Ext.draw.engine.Svg":(Ext.os.is.BlackBerry&&10===Ext.os.version.getMajor()||Ext.browser.is.AndroidStock4&&(1===Ext.os.version.getMinor()||2===Ext.os.version.getMinor()||3===Ext.os.version.getMinor()))&&(Ext.draw.Component.prototype.engine="Ext.draw.engine.Svg")}),Ext.define("Ext.chart.Markers",{extend:Ext.draw.sprite.Instancing,revisions:0,constructor:function(){this.callSuper(arguments),this.map={},this.revisions={}},clear:function(t){t=t||"default",t in this.revisions?this.revisions[t]++:this.revisions[t]=1},putMarkerFor:function(t,e,i,n,r){t=t||"default";var s=this,a=s.map[t]||(s.map[t]={});i in a?s.setAttributesFor(a[i],e,n):(a[i]=s.instances.length,s.createInstance(e,null,n)),s.instances[a[i]].category=t,r||(s.instances[a[i]].revision=s.revisions[t]||(s.revisions[t]=1))},getMarkerBBoxFor:function(t,e,i){return t in this.map&&e in this.map[t]?this.getBBoxFor(this.map[t][e],i):{x:1/0,y:1/0,width:-1/0,height:-1/0}},getBBox:function(){return null},render:function(t,e,i){var n,r=this,s=r.revisions,a=r.attr.matrix,o=r.getTemplate(),l=o.attr,u=r.instances,h=r.instances.length;for(a.toContext(e),o.preRender(t,e,i),o.useAttributes(e),n=0;h>n;n++)u[n].hidden||u[n].revision!==s[u[n].category]||(e.save(),o.attr=u[n],o.applyTransformations(),o.useAttributes(e),o.render(t,e,i),e.restore());o.attr=l}}),Ext.define("Ext.chart.label.Callout",{extend:Ext.draw.modifier.Modifier,prepareAttributes:function(t){t.hasOwnProperty("calloutOriginal")||(t.calloutOriginal=Ext.Object.chain(t)),this._previous&&this._previous.prepareAttributes(t.calloutOriginal)},setAttrs:function(t,e){var i,n,r=t.callout,s=t.calloutOriginal,a=t.bbox.plain,o=(a.width||0)+t.labelOverflowPadding,l=(a.height||0)+t.labelOverflowPadding;if("callout"in e&&(r=e.callout),"callout"in e||"calloutPlaceX"in e||"calloutPlaceY"in e||"x"in e||"y"in e){var u,h="rotationRads"in e?s.rotationRads=e.rotationRads:s.rotationRads,c="x"in e?s.x=e.x:s.x,d="y"in e?s.y=e.y:s.y,f="calloutPlaceX"in e?e.calloutPlaceX:t.calloutPlaceX,g="calloutPlaceY"in e?e.calloutPlaceY:t.calloutPlaceY,p="calloutVertical"in e?e.calloutVertical:t.calloutVertical;h%=2*Math.PI,Math.cos(h)<0&&(h=(h+Math.PI)%(2*Math.PI)),h>Math.PI&&(h-=2*Math.PI),p?(h=h*(1-r)-Math.PI/2*r,u=o,o=l,l=u):h*=1-r,e.rotationRads=h,e.x=c*(1-r)+f*r,e.y=d*(1-r)+g*r,i=f-c,n=g-d,Math.abs(n*o)>Math.abs(l*i)?n>0?(e.calloutEndX=e.x-l/(2*n)*i*r,e.calloutEndY=e.y-l/2*r):(e.calloutEndX=e.x+l/(2*n)*i*r,e.calloutEndY=e.y+l/2*r):i>0?(e.calloutEndX=e.x-o/2,e.calloutEndY=e.y-o/(2*i)*n*r):(e.calloutEndX=e.x+o/2,e.calloutEndY=e.y+o/(2*i)*n*r)}return e},pushDown:function(t,e){return e=Ext.draw.modifier.Modifier.prototype.pushDown.call(this,t.calloutOriginal,e),this.setAttrs(t,e)},popUp:function(t,e){return t=Object.getPrototypeOf(t),e=this.setAttrs(t,e),this._next?this._next.popUp(t,e):Ext.apply(t,e)}}),Ext.define("Ext.chart.label.Label",{extend:Ext.draw.sprite.Text,inheritableStatics:{def:{processors:{callout:"limited01",calloutPlaceX:"number",calloutPlaceY:"number",calloutStartX:"number",calloutStartY:"number",calloutEndX:"number",calloutEndY:"number",calloutColor:"color",calloutVertical:"bool",labelOverflowPadding:"number",display:"enums(none,under,over,rotate,insideStart,insideEnd,outside)",orientation:"enums(horizontal,vertical)",renderer:"default"},defaults:{callout:0,calloutPlaceX:0,calloutPlaceY:0,calloutStartX:0,calloutStartY:0,calloutEndX:0,calloutEndY:0,calloutVertical:!1,calloutColor:"black",labelOverflowPadding:5,display:"none",orientation:"",renderer:null},dirtyTriggers:{callout:"transform",calloutPlaceX:"transform",calloutPlaceY:"transform",labelOverflowPadding:"transform",calloutRotation:"transform",display:"hidden"},updaters:{hidden:function(t){t.hidden="none"===t.display}}}},config:{fx:{customDuration:{callout:200}},field:null},prepareModifiers:function(){this.callSuper(arguments),this.calloutModifier=new Ext.chart.label.Callout({sprite:this}),this.fx.setNext(this.calloutModifier),this.calloutModifier.setNext(this.topModifier)},render:function(t,e){var i=this,n=i.attr;e.save(),e.globalAlpha*=2*Math.max(0,n.callout-.5),e.globalAlpha>0&&(e.strokeStyle=n.calloutColor,e.fillStyle=n.calloutColor,e.beginPath(),e.moveTo(i.attr.calloutStartX,i.attr.calloutStartY),e.lineTo(i.attr.calloutEndX,i.attr.calloutEndY),e.stroke(),e.beginPath(),e.arc(i.attr.calloutStartX,i.attr.calloutStartY,1,0,2*Math.PI,!0),e.fill(),e.beginPath(),e.arc(i.attr.calloutEndX,i.attr.calloutEndY,1,0,2*Math.PI,!0),e.fill()),e.restore(),Ext.draw.sprite.Text.prototype.render.apply(i,arguments)}}),Ext.define("Ext.chart.series.Series",{mixins:{observable:Ext.mixin.Observable},type:null,seriesType:"sprite",identifiablePrefix:"ext-line-",observableType:"series",config:{chart:null,title:null,renderer:null,showInLegend:!0,triggerAfterDraw:!1,themeStyle:{},style:{},subStyle:{},colors:null,store:null,label:{textBaseline:"middle",textAlign:"center",font:"14px Helvetica"},labelOverflowPadding:5,labelField:null,marker:null,markerSubStyle:null,itemInstancing:null,background:null,highlightItem:null,surface:null,overlaySurface:null,hidden:!1,highlightCfg:null,animate:null},directions:[],sprites:null,getFields:function(t){var e,i,n,r=this,s=[];for(i=0,n=t.length;n>i;i++)e=r["get"+t[i]+"Field"](),s.push(e);return s},updateAnimate:function(t){for(var e=this.getSprites(),i=-1,n=e.length;++i<n;)e[i].fx.setConfig(t)},updateTitle:function(t){if(t){var e,i,n=this.getChart(),r=n.getSeries(),s=n.getLegendStore();r&&(e=Ext.Array.indexOf(r,this),-1!==e&&(i=s.getAt(e),i.set("name",t)))}},updateColors:function(t){this.setSubStyle({fillStyle:t}),this.doUpdateStyles()},applyHighlightCfg:function(t,e){return Ext.apply(e||{},t)},applyItemInstancing:function(t,e){return Ext.merge(e||{},t)},setAttributesForItem:function(t,e){t&&t.sprite&&(t.sprite.itemsMarker&&"items"===t.category&&t.sprite.putMarker(t.category,e,t.index,!1,!0),t.sprite.isMarkerHolder&&"markers"===t.category?t.sprite.putMarker(t.category,e,t.index,!1,!0):t.sprite instanceof Ext.draw.sprite.Instancing?t.sprite.setAttributesFor(t.index,e):t.sprite.setAttributes(e))},applyHighlightItem:function(t,e){return t===e||Ext.isObject(t)&&Ext.isObject(e)&&t.sprite===e.sprite&&t.index===e.index?void 0:t},updateHighlightItem:function(t,e){this.setAttributesForItem(e,{highlighted:!1}),this.setAttributesForItem(t,{highlighted:!0})},constructor:function(){var t=this;t.getId(),t.sprites=[],t.dataRange=[],Ext.ComponentManager.register(t),t.mixins.observable.constructor.apply(t,arguments)},applyStore:function(t){return Ext.StoreManager.lookup(t)},getStore:function(){return this._store||this.getChart()&&this.getChart().getStore()},updateStore:function(t,e){var i,n,r=this,s=this.getChart()&&this.getChart().getStore(),a=r.getSprites(),o=a.length;if(t=t||s,e=e||s,e&&(e.un("updaterecord","onUpdateRecord",r),e.un("refresh","refresh",r)),t){for(t.on("updaterecord","onUpdateRecord",r),t.on("refresh","refresh",r),i=0;o>i;i++)n=a[i],n.setStore&&n.setStore(t);r.refresh()}},onStoreChanged:function(t,e){this._store||this.updateStore(t,e)},coordinateStacked:function(t,e,i){var n,r,s,a,o,l,u,h,c=this,d=c.getStore(),f=d.getData().items,g=c["get"+t+"Axis"](),p=c.getHidden(),m={min:0,max:0},x=c["fieldCategory"+t],E={},y=[],v=[],b=[],S=c.getStacked(),C=c.getSprites();if(C.length>0){for(r=0;r<x.length;r++){for(n=x[r],o=c.getFields([n]),s=0;s<f.length;s++)y[s]=0,v[s]=0,b[s]=0;for(s=0;s<o.length;s++)if(E={},l=o[s],p[s])E["dataStart"+n]=y,E["data"+n]=y,C[s].setAttributes(E);else{if(u=c.coordinateData(f,l,g),S){for(h=[],a=0;a<f.length;a++)u[a]||(u[a]=0),u[a]>=0?(y[a]=v[a],v[a]+=u[a],h[a]=v[a]):(y[a]=b[a],b[a]+=u[a],h[a]=b[a]);E["dataStart"+n]=y,E["data"+n]=h,c.getRangeOfData(y,m),c.getRangeOfData(h,m)}else E["dataStart"+n]=y,E["data"+n]=u,c.getRangeOfData(u,m);C[s].setAttributes(E)}}for(c.dataRange[e]=m.min,c.dataRange[e+i]=m.max,E={},E["dataMin"+t]=m.min,E["dataMax"+t]=m.max,r=0;r<C.length;r++)C[r].setAttributes(E)}},coordinate:function(t,e,i){var n,r,s,a=this,o=a.getStore(),l=a.getHidden(),u=o.getData().items,h=a["get"+t+"Axis"](),c={min:1/0,max:-1/0},d=a["fieldCategory"+t]||[t],f=a.getFields(d),g={},p=a.getSprites();if(p.length>0){if(!Ext.isBoolean(l)||!l)for(n=0;n<d.length;n++)r=f[n],s=a.coordinateData(u,r,h),a.getRangeOfData(s,c),g["data"+d[n]]=s;for(a.dataRange[e]=c.min,a.dataRange[e+i]=c.max,g["dataMin"+t]=c.min,g["dataMax"+t]=c.max,h&&(h.range=null,g["range"+t]=h.getRange()),n=0;n<p.length;n++)p[n].setAttributes(g)}},coordinateData:function(t,e,i){var n,r,s=[],a=t.length,o=i&&i.getLayout(),l=i?function(t,e,i,n){return o.getCoordFor(t,e,i,n)}:function(t){return+t};for(n=0;a>n;n++)r=t[n].data[e],s[n]=Ext.isEmpty(r)?r:l(r,e,n,t);return s},getRangeOfData:function(t,e){var i,n,r=t.length,s=e.min,a=e.max;for(i=0;r>i;i++)n=t[i],s>n&&(s=n),n>a&&(a=n);e.min=s,e.max=a},updateLabelData:function(){var t,e,i,n,r,s,a=this,o=a.getStore(),l=o.getData().items,u=a.getSprites(),h=a.getLabel().getTemplate(),c=Ext.Array.from(h.getField()||a.getLabelField());if(u.length&&c.length)for(t=0;t<u.length;t++){for(n=[],r=u[t],s=r.getField(),c.indexOf(s)<0&&(s=c[t]),e=0,i=l.length;i>e;e++)n.push(l[e].get(s));r.setAttributes({labels:n})}},updateLabelField:function(t){var e=this.getLabel().getTemplate();e.config.field||e.setField(t)},processData:function(){if(this.getStore()){var t,e,i,n=this,r=this.directions,s=r.length;for(t=0;s>t;t++)e=r[t],n["get"+e+"Axis"]&&(i=n["get"+e+"Axis"]())?i.processData(n):n["coordinate"+e]&&n["coordinate"+e]();n.updateLabelData()}},applyBackground:function(t){return this.getChart()?(this.getSurface().setBackground(t),this.getSurface().getBackground()):t},updateChart:function(t,e){var i=this;e&&(e.un("axeschanged","onAxesChanged",i),i.sprites=[],i.setSurface(null),i.setOverlaySurface(null),i.onChartDetached(e)),t&&(i.setSurface(t.getSurface("series-surface","series")),i.setOverlaySurface(t.getSurface("overlay-surface","overlay")),t.on("axeschanged","onAxesChanged",i),t.getAxes()&&i.onAxesChanged(t),i.onChartAttached(t)),i.updateStore(i._store,null)},onAxesChanged:function(t){var e,i,n,r,s,a,o,l,u,h,c=this,d=t.getAxes(),f={},g={},p=!1,m=this.directions;for(s=0,a=m.length;a>s;s++)r=m[s],g[r]=c.getFields(c["fieldCategory"+r]);for(s=0,a=d.length;a>s;s++)e=d[s],f[e.getDirection()]?f[e.getDirection()].push(e):f[e.getDirection()]=[e];for(s=0,a=m.length;a>s;s++)if(r=m[s],f[r])for(i=f[r],o=0,l=i.length;l>o;o++)if(e=i[o],0===e.getFields().length)c["set"+r+"Axis"](e),e.getNeedHighPrecision()&&(p=!0);else if(n=g[r])for(u=0,h=n.length;h>u;u++)if(e.fieldsMap[n[u]]){c["set"+r+"Axis"](e),e.getNeedHighPrecision()&&(p=!0);break}this.getSurface().setHighPrecision(p)},onChartDetached:function(t){var e=this;e.fireEvent("chartdetached",t,e),t.un("storechanged","onStoreChanged",e)},onChartAttached:function(t){var e=this;e.setBackground(e.getBackground()),e.fireEvent("chartattached",t,e),t.on("storechanged","onStoreChanged",e),e.processData()},updateOverlaySurface:function(t){var e=this;t&&e.getLabel()&&e.getOverlaySurface().add(e.getLabel())},applyLabel:function(t,e){return e?e.getTemplate().setAttributes(t):(e=new Ext.chart.Markers({zIndex:10}),e.setTemplate(new Ext.chart.label.Label(t))),e},createItemInstancingSprite:function(t,e){var i,n=this,r=new Ext.chart.Markers;r.setAttributes({zIndex:Number.MAX_VALUE});var s=Ext.apply({},e);return n.getHighlightCfg()&&(s.highlightCfg=n.getHighlightCfg(),s.modifiers=["highlight"]),r.setTemplate(s),i=r.getTemplate(),i.setAttributes(n.getStyle()),i.fx.on("animationstart","onSpriteAnimationStart",this),i.fx.on("animationend","onSpriteAnimationEnd",this),t.bindMarker("items",r),n.getSurface().add(r),r},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer()}},createSprite:function(){var t,e,i=this,n=i.getSurface(),r=i.getItemInstancing(),s=n.add(i.getDefaultSpriteConfig());return s.setAttributes(this.getStyle()),r&&(s.itemsMarker=i.createItemInstancingSprite(s,r)),s.bindMarker&&(i.getMarker()&&(t=new Ext.chart.Markers,e=Ext.merge({},i.getMarker()),i.getHighlightCfg()&&(e.highlightCfg=i.getHighlightCfg(),e.modifiers=["highlight"]),t.setTemplate(e),t.getTemplate().fx.setCustomDuration({translationX:0,translationY:0}),s.dataMarker=t,s.bindMarker("markers",t),i.getOverlaySurface().add(t)),(i.getLabel().getTemplate().getField()||i.getLabelField())&&s.bindMarker("labels",i.getLabel())),s.setStore&&s.setStore(i.getStore()),s.fx.on("animationstart","onSpriteAnimationStart",i),s.fx.on("animationend","onSpriteAnimationEnd",i),i.sprites.push(s),s},getSprites:Ext.emptyFn,onUpdateRecord:function(){this.processData()},refresh:function(){this.processData()},isXType:function(t){return"series"===t},getItemId:function(){return this.getId()},applyStyle:function(t,e){var i=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));return i&&i.def&&(t=i.def.normalize(t)),Ext.apply(e||Ext.Object.chain(this.getThemeStyle()),t)},applyMarker:function(t,e){var i,n=t&&t.type||e&&e.type||this.seriesType;return n?(i=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+n)),i&&i.def?(t=i.def.normalize(t,!0),t.type=n,Ext.merge(e||{},t)):Ext.merge(e||{},t)):void 0},applyMarkerSubStyle:function(t,e){var i,n=t&&t.type||e&&e.type||this.seriesType;return n?(i=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+n)),i&&i.def?(t=i.def.batchedNormalize(t,!0),Ext.merge(e||{},t)):Ext.merge(e||{},t)):void 0},applySubStyle:function(t,e){var i=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));return i&&i.def?(t=i.def.batchedNormalize(t,!0),Ext.merge(e||{},t)):Ext.merge(e||{},t)},updateHidden:function(t){this.getColors(),this.getSubStyle(),this.setSubStyle({hidden:t}),this.processData(),this.doUpdateStyles()},setHiddenByIndex:function(t,e){Ext.isArray(this.getHidden())?(this.getHidden()[t]=e,this.updateHidden(this.getHidden())):this.setHidden(e)},updateStyle:function(){this.doUpdateStyles()},updateSubStyle:function(){this.doUpdateStyles()},doUpdateStyles:function(){for(var t,e=this.sprites,i=this.getItemInstancing(),n=0,r=e&&e.length,s=this.getMarker();r>n;n++)t=this.getStyleByIndex(n),i&&e[n].itemsMarker.getTemplate().setAttributes(t),e[n].setAttributes(t),s&&e[n].dataMarker&&e[n].dataMarker.getTemplate().setAttributes(this.getMarkerStyleByIndex(n))},getMarkerStyleByIndex:function(t){return this.getOverriddenStyleByIndex(t,this.getOverriddenStyleByIndex(t,this.getMarkerSubStyle(),this.getMarker()),this.getStyleByIndex(t))},getStyleByIndex:function(t){return this.getOverriddenStyleByIndex(t,this.getSubStyle(),this.getStyle())},getOverriddenStyleByIndex:function(t,e,i){var n,r=Ext.Object.chain(i||{});for(var s in e)n=e[s],r[s]=Ext.isArray(n)?n[t%e[s].length]:n;return r},getItemForPoint:Ext.emptyFn,onSpriteAnimationStart:function(t){this.fireEvent("animationstart",t)},onSpriteAnimationEnd:function(t){this.fireEvent("animationend",t)},provideLegendInfo:function(t){t.push({name:this.getTitle()||this.getId(),mark:"black",disabled:!1,series:this.getId(),index:0})},destroy:function(){this.clearListeners(),Ext.ComponentManager.unregister(this);var t=this.getStore();t&&t.getAutoDestroy()&&Ext.destroy(t),this.setStore(null),this.callSuper()}}),Ext.define("Ext.chart.interactions.Abstract",{xtype:"interaction",mixins:{observable:Ext.mixin.Observable},config:{gesture:"tap",chart:null,enabled:!0},throttleGap:0,stopAnimationBeforeSync:!1,constructor:function(t){var e=this;e.initConfig(t),Ext.ComponentManager.register(this)},initialize:Ext.emptyFn,updateChart:function(t,e){{var i=this;i.getGestures()}e&&i.removeChartListener(e),t&&i.addChartListener()},updateEnabled:function(t){var e=this,i=e.getChart();i&&(t?e.addChartListener():e.removeChartListener(i))},getGestures:function(){var t={};return t[this.getGesture()]=this.onGesture,t},onGesture:Ext.emptyFn,getItemForEvent:function(t){var e=this,i=e.getChart(),n=i.getEventXY(t);return i.getItemForPoint(n[0],n[1])},getItemsForEvent:function(t){var e=this,i=e.getChart(),n=i.getEventXY(t);return i.getItemsForPoint(n[0],n[1])},addChartListener:function(){function t(t,e){n.on(t,i.listeners[t]=function(n){var r,s=i.getLocks();return!i.getEnabled()||t in s&&s[t]!==i?void 0:(r=(Ext.isFunction(e)?e:i[e]).apply(this,arguments),r===!1&&n&&n.stopPropagation&&n.stopPropagation(),r)},i)}var e,i=this,n=i.getChart(),r=i.getGestures();if(i.getEnabled()){i.listeners=i.listeners||{};for(e in r)t(e,r[e])}},removeChartListener:function(t){function e(e){t.un(e,n.listeners[e]),delete n.listeners[e]}var i,n=this,r=n.getGestures();for(i in r)e(i)},lockEvents:function(){for(var t=this,e=t.getLocks(),i=Array.prototype.slice.call(arguments),n=i.length;n--;)e[i[n]]=t},unlockEvents:function(){for(var t=this.getLocks(),e=Array.prototype.slice.call(arguments),i=e.length;i--;)delete t[e[i]]},getLocks:function(){var t=this.getChart();return t.lockedEvents||(t.lockedEvents={})},isMultiTouch:function(){return Ext.browser.is.IE10?!0:!(Ext.os.is.MultiTouch===!1||Ext.browser.is.AndroidStock2||Ext.os.is.Desktop)},initializeDefaults:Ext.emptyFn,doSync:function(){var t=this.getChart();this.syncTimer&&(clearTimeout(this.syncTimer),this.syncTimer=null),this.stopAnimationBeforeSync&&(t.resizing=!0),t.redraw(),this.stopAnimationBeforeSync&&(t.resizing=!1),this.syncThrottle=Date.now()+this.throttleGap},sync:function(){var t=this;if(t.throttleGap&&Ext.frameStartTime<t.syncThrottle){if(t.syncTimer)return;t.syncTimer=setTimeout(function(){t.doSync()},t.throttleGap)}else t.doSync()},getItemId:function(){return this.getId()},isXType:function(t){return"interaction"===t},destroy:function(){Ext.ComponentManager.unregister(this),this.listeners=[],this.callSuper()}},function(){Ext.browser.is.AndroidStock2?this.prototype.throttleGap=20:Ext.os.is.Android4&&(this.prototype.throttleGap=40)}),Ext.define("Ext.chart.MarkerHolder",{extend:Ext.mixin.Mixin,mixinConfig:{id:"markerHolder",hooks:{constructor:"constructor",preRender:"preRender"}},isMarkerHolder:!0,constructor:function(){this.boundMarkers={},this.cleanRedraw=!1},bindMarker:function(t,e){e&&(this.boundMarkers[t]||(this.boundMarkers[t]=[]),Ext.Array.include(this.boundMarkers[t],e))},getBoundMarker:function(t){return this.boundMarkers[t]},preRender:function(){var t,e,i,n,r=this.boundMarkers,s=this.getId(),a=this.getParent(),o=this.surfaceMatrix?this.surfaceMatrix.set(1,0,0,1,0,0):this.surfaceMatrix=new Ext.draw.Matrix;if(this.cleanRedraw=!this.attr.dirty,!this.cleanRedraw)for(e in this.boundMarkers)if(r[e])for(t=r[e],i=0,n=t.length;n>i;i++)t[i].clear(s);for(;a&&a.attr&&a.attr.matrix;)o.prependMatrix(a.attr.matrix),a=a.getParent();o.prependMatrix(a.matrix),this.surfaceMatrix=o,this.inverseSurfaceMatrix=o.inverse(this.inverseSurfaceMatrix)},putMarker:function(t,e,i,n){var r,s,a,o=this.getId();if(this.boundMarkers[t])for(r=this.boundMarkers[t],s=0,a=r.length;a>s;s++)r[s].putMarkerFor(o,e,i,n)},getMarkerBBox:function(t,e,i){var n,r,s,a,o=this.getId(),l=1/0,u=-1/0,h=1/0,c=-1/0;if(this.boundMarkers[t])for(r=this.boundMarkers[t],s=0,a=r.length;a>s;s++)n=r[s].getMarkerBBoxFor(o,e,i),l>n.x&&(l=n.x),u<n.x+n.width&&(u=n.x+n.width),h>n.y&&(h=n.y),c<n.y+n.height&&(c=n.y+n.height);return{x:l,y:h,width:u-l,height:c-h}}}),Ext.define("Ext.chart.axis.sprite.Axis",{extend:Ext.draw.sprite.Sprite,mixins:{markerHolder:Ext.chart.MarkerHolder},inheritableStatics:{def:{processors:{grid:"bool",axisLine:"bool",minorTicks:"bool",minorTickSize:"number",majorTicks:"bool",majorTickSize:"number",length:"number",startGap:"number",endGap:"number",dataMin:"number",dataMax:"number",visibleMin:"number",visibleMax:"number",position:"enums(left,right,top,bottom,angular,radial)",minStepSize:"number",estStepSize:"number",titleOffset:"number",textPadding:"number",min:"number",max:"number",centerX:"number",centerY:"number",radius:"number",baseRotation:"number",data:"default",enlargeEstStepSizeByText:"bool"},defaults:{grid:!1,axisLine:!0,minorTicks:!1,minorTickSize:3,majorTicks:!0,majorTickSize:5,length:0,startGap:0,endGap:0,visibleMin:0,visibleMax:1,dataMin:0,dataMax:1,position:"",minStepSize:0,estStepSize:20,min:0,max:1,centerX:0,centerY:0,radius:1,baseRotation:0,data:null,titleOffset:0,textPadding:5,scalingCenterY:0,scalingCenterX:0,strokeStyle:"black",enlargeEstStepSizeByText:!1},dirtyTriggers:{minorTickSize:"bbox",majorTickSize:"bbox",position:"bbox,layout",axisLine:"bbox,layout",min:"layout",max:"layout",length:"layout",minStepSize:"layout",estStepSize:"layout",data:"layout",dataMin:"layout",dataMax:"layout",visibleMin:"layout",visibleMax:"layout",enlargeEstStepSizeByText:"layout"},updaters:{layout:function(){this.doLayout()}}}},config:{label:null,layout:null,segmenter:null,renderer:null,layoutContext:null,axis:null},thickness:0,stepSize:0,getBBox:function(){return null},doLayout:function(){var t=this,e=t.attr,i=t.getLayout(),n=e.dataMin+(e.dataMax-e.dataMin)*e.visibleMin,r=e.dataMin+(e.dataMax-e.dataMin)*e.visibleMax,s={attr:e,segmenter:t.getSegmenter()};
"left"===e.position||"right"===e.position?(e.translationX=0,e.translationY=r*e.length/(r-n),e.scalingX=1,e.scalingY=-e.length/(r-n),e.scalingCenterY=0,e.scalingCenterX=0,t.applyTransformations(!0)):("top"===e.position||"bottom"===e.position)&&(e.translationX=-n*e.length/(r-n),e.translationY=0,e.scalingX=e.length/(r-n),e.scalingY=1,e.scalingCenterY=0,e.scalingCenterX=0,t.applyTransformations(!0)),i&&(i.calculateLayout(s),t.setLayoutContext(s))},iterate:function(t,e){var i,n;if(t.getLabel){for(t.min<t.from&&e.call(this,t.min,t.getLabel(t.min),-1,t),i=0;i<=t.steps;i++)e.call(this,t.get(i),t.getLabel(i),i,t);t.max>t.to&&e.call(this,t.max,t.getLabel(t.max),t.steps+1,t)}else{for(t.min<t.from&&e.call(this,t.min,t.min,-1,t),i=0;i<=t.steps;i++)n=t.get(i),e.call(this,n,n,i,t);t.max>t.to&&e.call(this,t.max,t.max,t.steps+1,t)}},renderTicks:function(t,e,i,n){function r(i){return function(n){n=t.roundPixel(n*p+m)+d,e.moveTo(0,n),e.lineTo(i,n)}}function s(i){return function(r){r=t.roundPixel(r*p+m)+d,e.moveTo(n[2]-i,r),e.lineTo(n[2],r)}}function a(i){return function(n){n=t.roundPixel(n*f+g)-d,e.moveTo(n,0),e.lineTo(n,i)}}function o(i){return function(r){r=t.roundPixel(r*f+g)-d,e.moveTo(r,n[3]),e.lineTo(r,n[3]-i)}}var l=this,u=l.attr,h=u.position,c=u.matrix,d=.5*u.lineWidth,f=c.getXX(),g=c.getDX(),p=c.getYY(),m=c.getDY(),x=i.majorTicks,E=u.majorTickSize,y=i.minorTicks,v=u.minorTickSize;if(x)switch(h){case"right":l.iterate(x,r(E)),y&&l.iterate(y,r(v));break;case"left":l.iterate(x,s(E)),y&&l.iterate(y,s(v));break;case"bottom":l.iterate(x,a(E)),y&&l.iterate(y,a(v));break;case"top":l.iterate(x,o(E)),y&&l.iterate(y,o(v));break;case"angular":l.iterate(x,function(t){t=t/(u.max+1)*Math.PI*2+u.baseRotation,e.moveTo(u.centerX+u.length*Math.cos(t),u.centerY+u.length*Math.sin(t)),e.lineTo(u.centerX+(u.length+E)*Math.cos(t),u.centerY+(u.length+E)*Math.sin(t))})}},renderLabels:function(t,e,i,n){var r,s,a,o,l,u=this,h=u.attr,c=.5*h.lineWidth,d=h.position,f=h.matrix,g=h.textPadding,p=f.getXX(),m=f.getDX(),x=f.getYY(),E=f.getDY(),y=0,v=i.majorTicks,b=Math.max(h.majorTickSize,h.minorTickSize)+h.lineWidth,S=this.getLabel(),C=null,w=0,T=0,I=i.segmenter,A=this.getRenderer(),P=null;if(v&&S&&!S.attr.hidden){switch(r=S.attr.font,e.font!==r&&(e.font=r),S.setAttributes({translationX:0,translationY:0},!0,!0),S.applyTransformations(),s=S.attr.inverseMatrix.elements.slice(0),d){case"left":S.setAttributes({translationX:t.roundPixel(n[2]-b+m)-c-u.thickness/2},!0,!0);break;case"right":S.setAttributes({translationX:t.roundPixel(b+m)-c+u.thickness/2},!0,!0);break;case"top":S.setAttributes({translationY:t.roundPixel(n[3]-b)-c-u.thickness/2},!0,!0);break;case"bottom":S.setAttributes({translationY:t.roundPixel(b)-c+u.thickness/2},!0,!0);break;case"radial":S.setAttributes({translationX:h.centerX},!0,!0);break;case"angular":S.setAttributes({translationY:h.centerY},!0,!0)}if("left"===d||"right"===d?u.iterate(v,function(e,n){if(void 0!==n&&(l=A?A.call(this,n,i,C):I.renderer(n,i,C),C=n,S.setAttributes({text:String(l),translationY:t.roundPixel(e*x+E)},!0,!0),S.applyTransformations(),y=Math.max(y,S.getBBox().width+b),y<=u.thickness)){if(o=Ext.draw.Matrix.fly(S.attr.matrix.elements.slice(0)),a=o.prepend.apply(o,s).transformBBox(S.getBBox(!0)),P&&!Ext.draw.Draw.isBBoxIntersect(a,P,g))return;t.renderSprite(S),P=a,w+=a.height,T++}}):"top"===d||"bottom"===d?u.iterate(v,function(e,n){if(void 0!==n&&(l=A?A.call(this,n,i,C):I.renderer(n,i,C),C=n,S.setAttributes({text:String(l),translationX:t.roundPixel(e*p+m)},!0,!0),S.applyTransformations(),y=Math.max(y,S.getBBox().height+b),y<=u.thickness)){if(o=Ext.draw.Matrix.fly(S.attr.matrix.elements.slice(0)),a=o.prepend.apply(o,s).transformBBox(S.getBBox(!0)),P&&!Ext.draw.Draw.isBBoxIntersect(a,P,g))return;t.renderSprite(S),P=a,w+=a.width,T++}}):"radial"===d?u.iterate(v,function(e,n){if(void 0!==n&&(l=A?A.call(this,n,i,C):I.renderer(n,i,C),C=n,"undefined"!=typeof l)){if(S.setAttributes({text:String(l),translationY:h.centerY-t.roundPixel(e)/h.max*h.length},!0,!0),S.applyTransformations(),a=S.attr.matrix.transformBBox(S.getBBox(!0)),P&&!Ext.draw.Draw.isBBoxIntersect(a,P))return;t.renderSprite(S),P=a,w+=a.width,T++}}):"angular"===d&&u.iterate(v,function(e,n){if(void 0!==n&&(l=A?A.call(this,n,i,C):I.renderer(n,i,C),C=n,"undefined"!=typeof l)){var r=e/(h.max+1)*Math.PI*2+h.baseRotation;if(S.setAttributes({text:String(l),translationX:h.centerX+(h.length+10)*Math.cos(r),translationY:h.centerY+(h.length+10)*Math.sin(r)},!0,!0),S.applyTransformations(),a=S.attr.matrix.transformBBox(S.getBBox(!0)),P&&!Ext.draw.Draw.isBBoxIntersect(a,P))return;t.renderSprite(S),P=a,w+=a.width,T++}}),h.enlargeEstStepSizeByText&&T&&(w/=T,w+=b,w*=2,h.estStepSize<w&&(h.estStepSize=w)),Math.abs(u.thickness-y)>1)return u.thickness=y,h.bbox.plain.dirty=!0,h.bbox.transform.dirty=!0,u.doThicknessChanged(),!1}},renderAxisLine:function(t,e,i,n){var r,s=this,a=s.attr,o=.5*a.lineWidth,l=a.position;if(a.axisLine)switch(l){case"left":r=t.roundPixel(n[2])-o,e.moveTo(r,-a.endGap),e.lineTo(r,a.length+a.startGap);break;case"right":e.moveTo(o,-a.endGap),e.lineTo(o,a.length+a.startGap);break;case"bottom":e.moveTo(-a.startGap,o),e.lineTo(a.length+a.endGap,o);break;case"top":r=t.roundPixel(n[3])-o,e.moveTo(-a.startGap,r),e.lineTo(a.length+a.endGap,r);break;case"angular":e.moveTo(a.centerX+a.length,a.centerY),e.arc(a.centerX,a.centerY,a.length,0,2*Math.PI,!0)}},renderGridLines:function(t,e,i){var n,r,s,a=this,o=a.attr,l=o.matrix,u=o.startGap,h=o.endGap,c=l.getXX(),d=l.getYY(),f=l.getDX(),g=l.getDY(),p=o.position,m=i.majorTicks;o.grid&&m&&("left"===p||"right"===p?(s=o.min*d+g+h+u,a.iterate(m,function(t,e,i){n=t*d+g+h,a.putMarker("horizontal-"+(i%2?"odd":"even"),{y:n,height:s-n},r=i,!0),s=n}),r++,n=0,a.putMarker("horizontal-"+(r%2?"odd":"even"),{y:n,height:s-n},r,!0)):"top"===p||"bottom"===p?(s=o.min*c+f+u,u&&a.putMarker("vertical-even",{x:0,width:s},-1,!0),a.iterate(m,function(t,e,i){n=t*c+f+u,a.putMarker("vertical-"+(i%2?"odd":"even"),{x:n,width:s-n},r=i,!0),s=n}),r++,n=o.length+o.startGap+o.endGap,a.putMarker("vertical-"+(r%2?"odd":"even"),{x:n,width:s-n},r,!0)):"radial"===p?a.iterate(m,function(t,e,i){n=t/o.max*o.length,a.putMarker("circular-"+(i%2?"odd":"even"),{scalingX:n,scalingY:n},i,!0),s=n}):"angular"===p&&a.iterate(m,function(t,e,i){n=t/(o.max+1)*Math.PI*2+o.baseRotation,a.putMarker("radial-"+(i%2?"odd":"even"),{rotationRads:n,rotationCenterX:0,rotationCenterY:0,scalingX:o.length,scalingY:o.length},i,!0),s=n}))},doThicknessChanged:function(){var t=this.getAxis();t&&t.onThicknessChanged()},render:function(t,e,i){var n=this,r=n.getLayoutContext();if(r){if(!1===n.renderLabels(t,e,r,i))return!1;e.beginPath(),n.renderTicks(t,e,r,i),n.renderAxisLine(t,e,r,i),n.renderGridLines(t,e,r,i),e.stroke()}}}),Ext.define("Ext.chart.axis.segmenter.Segmenter",{config:{axis:null},constructor:function(t){this.initConfig(t)},renderer:function(t){return String(t)},from:function(t){return t},diff:Ext.emptyFn,align:Ext.emptyFn,add:Ext.emptyFn,preferredStep:Ext.emptyFn}),Ext.define("Ext.chart.axis.segmenter.Names",{extend:Ext.chart.axis.segmenter.Segmenter,alias:"segmenter.names",renderer:function(t){return t},diff:function(t,e){return Math.floor(e-t)},align:function(t){return Math.floor(t)},add:function(t,e){return t+e},preferredStep:function(){return{unit:1,step:1}}}),Ext.define("Ext.chart.axis.segmenter.Time",{extend:Ext.chart.axis.segmenter.Segmenter,alias:"segmenter.time",config:{step:null},renderer:function(t,e){var i=Ext.Date;switch(e.majorTicks.unit){case"y":return i.format(t,"Y");case"mo":return i.format(t,"Y-m");case"d":return i.format(t,"Y-m-d")}return i.format(t,"Y-m-d\nH:i:s")},from:function(t){return new Date(t)},diff:function(t,e,i){var n=Ext.Date;return isFinite(t)&&(t=new Date(t)),isFinite(e)&&(e=new Date(e)),n.diff(t,e,i)},align:function(t,e,i){return"d"===i&&e>=7?(t=Ext.Date.align(t,"d",e),t.setDate(t.getDate()-t.getDay()+1),t):Ext.Date.align(t,i,e)},add:function(t,e,i){return Ext.Date.add(new Date(t),i,e)},preferredStep:function(t,e){if(this.getStep())return this.getStep();for(var i,n=new Date(+t),r=new Date(+t+Math.ceil(e)),s=Ext.Date,a=[[s.YEAR,1,2,5,10,20,50,100,200,500],[s.MONTH,1,3,6],[s.DAY,1,7,14],[s.HOUR,1,6,12],[s.MINUTE,1,5,15,30],[s.SECOND,1,5,15,30],[s.MILLI,1,2,5,10,20,50,100,200,500]],o=0;o<a.length;o++){var l=a[o][0],u=this.diff(n,r,l);if(u>0){for(var h=1;h<a[o].length;h++)if(u<=a[o][h]){i={unit:l,step:a[o][h]};break}i||(o--,i={unit:a[o][0],step:1});break}}return i||(i={unit:s.DAY,step:1}),i}}),Ext.define("Ext.chart.axis.segmenter.Numeric",{extend:Ext.chart.axis.segmenter.Segmenter,alias:"segmenter.numeric",renderer:function(t,e){return t.toFixed(Math.max(0,e.majorTicks.unit.fixes))},diff:function(t,e,i){return Math.floor((e-t)/i.scale)},align:function(t,e,i){return Math.floor(t/(i.scale*e))*i.scale*e},add:function(t,e,i){return t+e*i.scale},preferredStep:function(t,e){var i=Math.floor(Math.log(e)*Math.LOG10E),n=Math.pow(10,i);return e/=n,2>e?e=2:5>e?e=5:10>e&&(e=10,i++),{unit:{fixes:-i,scale:n},step:e}},exactStep:function(t,e){var i=Math.floor(Math.log(e)*Math.LOG10E),n=Math.pow(10,i);return{unit:{fixes:-i+(e%n===0?0:1),scale:1},step:e}}}),Ext.define("Ext.chart.axis.layout.Layout",{config:{axis:null},constructor:function(){this.initConfig()},processData:function(t){var e,i,n,r=this,s=r.getAxis(),a=s.getDirection(),o=s.boundSeries;if(t)t["coordinate"+a]();else for(e=0,i=o.length;i>e;e++)n=o[e],n["get"+a+"Axis"]()===s&&n["coordinate"+a]()},calculateMajorTicks:function(t){var e=this,i=t.attr,n=i.max-i.min,r=n/Math.max(1,i.length)*(i.visibleMax-i.visibleMin),s=i.min+n*i.visibleMin,a=i.min+n*i.visibleMax,o=i.estStepSize*r,l=e.snapEnds(t,i.min,i.max,o);l&&(e.trimByRange(t,l,s,a),t.majorTicks=l)},calculateMinorTicks:function(t){t.attr;this.snapMinorEnds&&(t.minorTicks=this.snapMinorEnds(t))},calculateLayout:function(t){var e=t.attr,i=e.majorTicks,n=e.minorTicks;return 0===e.length?null:void(i&&(this.calculateMajorTicks(t),n&&this.calculateMinorTicks(t)))},snapEnds:Ext.emptyFn,trimByRange:function(t,e,i,n){var r=t.segmenter,s=e.unit,a=r.diff(e.from,i,s),o=r.diff(e.from,n,s),l=Math.max(0,Math.ceil(a/e.step)),u=Math.min(e.steps,Math.floor(o/e.step));if(u<e.steps&&(e.to=r.add(e.from,u*e.step,s)),e.max>n&&(e.max=e.to),e.from<i)for(e.from=r.add(e.from,l*e.step,s);e.from<i;)l++,e.from=r.add(e.from,e.step,s);e.min<i&&(e.min=e.from),e.steps=u-l}}),Ext.define("Ext.chart.axis.layout.Discrete",{extend:Ext.chart.axis.layout.Layout,alias:"axisLayout.discrete",processData:function(){var t,e,i,n=this,r=n.getAxis(),s=r.boundSeries,a=r.getDirection();for(this.labels=[],this.labelMap={},t=0,e=s.length;e>t;t++)i=s[t],i["get"+a+"Axis"]()===r&&i["coordinate"+a]();r.getSprites()[0].setAttributes({data:this.labels})},calculateLayout:function(t){t.data=this.labels,this.callSuper([t])},calculateMajorTicks:function(t){var e=this,i=t.attr,n=t.data,r=i.max-i.min,s=r/Math.max(1,i.length)*(i.visibleMax-i.visibleMin),a=i.min+r*i.visibleMin,o=i.min+r*i.visibleMax,l=i.estStepSize*s,u=e.snapEnds(t,Math.max(0,i.min),Math.min(i.max,n.length-1),l);u&&(e.trimByRange(t,u,a,o),t.majorTicks=u)},snapEnds:function(t,e,i,n){n=Math.ceil(n);var r=Math.floor((i-e)/n),s=t.data;return{min:e,max:i,from:e,to:r*n+e,step:n,steps:r,unit:1,getLabel:function(t){return s[this.from+this.step*t]},get:function(t){return this.from+this.step*t}}},trimByRange:function(t,e,i,n){var r=e.unit,s=Math.ceil((i-e.from)/r)*r,a=Math.floor((n-e.from)/r)*r,o=Math.max(0,Math.ceil(s/e.step)),l=Math.min(e.steps,Math.floor(a/e.step));if(l<e.steps&&(e.to=l),e.max>n&&(e.max=e.to),e.from<i&&e.step>0)for(e.from=e.from+o*e.step*r;e.from<i;)o++,e.from+=e.step*r;e.min<i&&(e.min=e.from),e.steps=l-o},getCoordFor:function(t){return this.labels.push(t),this.labels.length-1}}),Ext.define("Ext.chart.axis.layout.Continuous",{extend:Ext.chart.axis.layout.Layout,alias:"axisLayout.continuous",config:{adjustMinimumByMajorUnit:!1,adjustMaximumByMajorUnit:!1},getCoordFor:function(t){return+t},snapEnds:function(t,e,i,n){var r=t.segmenter,s=this.getAxis(),a=s.getMinimum(),o=s.getMaximum(),l=s.getMajorTickSteps(),u=l&&Ext.isNumber(a)&&Ext.isNumber(o)&&r.exactStep?r.exactStep(e,(i-e)/l):r.preferredStep(e,n),h=u.unit,c=u.step,d=r.align(e,c,h),f=r.diff(e,i,h)+1;return{min:r.from(e),max:r.from(i),from:d,to:r.add(d,f*c,h),step:c,steps:f,unit:h,get:function(t){return r.add(this.from,this.step*t,h)}}},snapMinorEnds:function(t){var e=t.majorTicks,i=this.getAxis().getMinorTickSteps(),n=t.segmenter,r=e.min,s=e.max,a=e.from,o=e.unit,l=e.step/i,u=l*o.scale,h=a-r,c=Math.floor(h/u),d=c+Math.floor((s-e.to)/u)+1,f=e.steps*i+d;return{min:r,max:s,from:r+h%u,to:n.add(a,f*l,o),step:l,steps:f,unit:o,get:function(t){return t%i+c+1!==0?n.add(this.from,this.step*t,o):null}}}}),Ext.define("Ext.chart.axis.layout.CombineDuplicate",{extend:Ext.chart.axis.layout.Discrete,alias:"axisLayout.combineDuplicate",getCoordFor:function(t){if(!(t in this.labelMap)){var e=this.labelMap[t]=this.labels.length;return this.labels.push(t),e}return this.labelMap[t]}}),Ext.define("Ext.chart.axis.Axis",{xtype:"axis",mixins:{observable:Ext.mixin.Observable},config:{position:"bottom",fields:[],label:{x:0,y:0,textBaseline:"middle",textAlign:"center",fontSize:12,fontFamily:"Helvetica"},grid:!1,renderer:null,chart:null,style:null,titleMargin:4,background:null,minimum:0/0,maximum:0/0,minZoom:1,maxZoom:1e4,layout:"continuous",segmenter:"numeric",hidden:!1,majorTickSteps:!1,minorTickSteps:!1,adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,title:{fontSize:18,fontFamily:"Helvetica"},increment:.5,length:0,center:null,radius:null,rotation:null,labelInSpan:null,visibleRange:[0,1],needHighPrecision:!1},observableType:"component",titleOffset:0,animating:0,prevMin:0,prevMax:1,boundSeries:[],sprites:null,range:null,xValues:[],yValues:[],applyRotation:function(t){var e=2*Math.PI;return(t%e+Math.PI)%e-Math.PI},updateRotation:function(t){var e=this.getSprites(),i=this.getPosition();!this.getHidden()&&"angular"===i&&e[0]&&e[0].setAttributes({baseRotation:t})},applyTitle:function(t,e){var i;return Ext.isString(t)&&(t={text:t}),e?e.setAttributes(t):(e=Ext.create("sprite.text",t),(i=this.getSurface())&&i.add(e)),e},constructor:function(t){var e=this;e.sprites=[],this.labels=[],this.initConfig(t),e.getId(),e.mixins.observable.constructor.apply(e,arguments),Ext.ComponentManager.register(e)},getAlignment:function(){switch(this.getPosition()){case"left":case"right":return"vertical";case"top":case"bottom":return"horizontal";case"radial":return"radial";case"angular":return"angular"}},getGridAlignment:function(){switch(this.getPosition()){case"left":case"right":return"horizontal";case"top":case"bottom":return"vertical";case"radial":return"circular";case"angular":return"radial"}},getSurface:function(){if(!this.surface){var t=this.getChart();if(!t)return null;var e,i=this.surface=t.getSurface(this.getId(),"axis"),n=this.gridSurface=t.getSurface("main"),r=this.getSprites(),s=r[0],a=this.getGrid(),o=this.getGridAlignment();a&&(e=this.gridSpriteEven=new Ext.chart.Markers,e.setTemplate({xclass:"grid."+o}),Ext.isObject(a)&&(e.getTemplate().setAttributes(a),Ext.isObject(a.even)&&e.getTemplate().setAttributes(a.even)),n.add(e),s.bindMarker(o+"-even",e),e=this.gridSpriteOdd=new Ext.chart.Markers,e.setTemplate({xclass:"grid."+o}),Ext.isObject(a)&&(e.getTemplate().setAttributes(a),Ext.isObject(a.odd)&&e.getTemplate().setAttributes(a.odd)),n.add(e),s.bindMarker(o+"-odd",e),n.waitFor(i))}return this.surface},getCoordFor:function(t,e,i,n){return this.getLayout().getCoordFor(t,e,i,n)},applyPosition:function(t){return t.toLowerCase()},applyLabel:function(t,e){return e||(e=new Ext.draw.sprite.Text({})),e.setAttributes(t),e},applyLayout:function(t,e){return t=Ext.factory(t,null,e,"axisLayout"),t.setAxis(this),t},applySegmenter:function(t,e){return t=Ext.factory(t,null,e,"segmenter"),t.setAxis(this),t},updateMinimum:function(){this.range=null},updateMaximum:function(){this.range=null},hideLabels:function(){this.getSprites()[0].setDirty(!0),this.setLabel({hidden:!0})},showLabels:function(){this.getSprites()[0].setDirty(!0),this.setLabel({hidden:!1})},renderFrame:function(){this.getSurface().renderFrame()},updateChart:function(t,e){var i,n=this;e&&e.un("serieschanged",n.onSeriesChanged,n),t&&(t.on("serieschanged",n.onSeriesChanged,n),t.getSeries()&&n.onSeriesChanged(t),n.surface=null,i=n.getSurface(),i.add(n.getSprites()),i.add(n.getTitle()))},applyBackground:function(t){var e=Ext.ClassManager.getByAlias("sprite.rect");return e.def.normalize(t)},processData:function(){this.getLayout().processData(),this.range=null},getDirection:function(){return this.getChart().getDirectionForAxis(this.getPosition())},isSide:function(){var t=this.getPosition();return"left"===t||"right"===t},applyFields:function(t){return[].concat(t)},updateFields:function(t){this.fieldsMap={};for(var e=0;e<t.length;e++)this.fieldsMap[t[e]]=!0},applyVisibleRange:function(t,e){if(t[0]>t[1]){var i=t[0];t[0]=t[1],t[0]=i}return t[1]===t[0]&&(t[1]+=1/this.getMaxZoom()),t[1]>t[0]+1?(t[0]=0,t[1]=1):t[0]<0?(t[1]-=t[0],t[0]=0):t[1]>1&&(t[0]-=t[1]-1,t[1]=1),e&&t[0]===e[0]&&t[1]===e[1]?void 0:t},updateVisibleRange:function(t){this.fireEvent("transformed",this,t)},onSeriesChanged:function(t){var e,i=this,n=t.getSeries(),r="get"+i.getDirection()+"Axis",s=[],a=n.length;for(e=0;a>e;e++)this===n[e][r]()&&s.push(n[e]);i.boundSeries=s,i.getLayout().processData()},applyRange:function(t){return t?[null===t[0]?this.dataRange[0]:t[0],null===t[1]?this.dataRange[1]:t[1]]:this.dataRange.slice(0)},getRange:function(){var t=this,e="get"+t.getDirection()+"Range";if(t.range)return t.range;if(!isNaN(t.getMinimum())&&!isNaN(t.getMaximum()))return this.range=[t.getMinimum(),t.getMaximum()];var i,n,r,s=1/0,a=-1/0,o=t.boundSeries;for(n=0,r=o.length;r>n;n++){i=o[n];var l=i[e]();l&&(l[0]<s&&(s=l[0]),l[1]>a&&(a=l[1]))}return isFinite(a)||(a=t.prevMax),isFinite(s)||(s=t.prevMin),(this.getLabelInSpan()||s===a)&&(a+=this.getIncrement(),s-=this.getIncrement()),isNaN(t.getMinimum())?t.prevMin=s:s=t.getMinimum(),isNaN(t.getMaximum())?t.prevMax=a:a=t.getMaximum(),this.range=[s,a]},applyStyle:function(t,e){var i=Ext.ClassManager.getByAlias("sprite."+this.seriesType);return i&&i.def&&(t=i.def.normalize(t)),e=Ext.apply(e||{},t)},updateCenter:function(t){var e=this.getSprites(),i=e[0],n=t[0],r=t[1];i&&i.setAttributes({centerX:n,centerY:r}),this.gridSpriteEven&&this.gridSpriteEven.getTemplate().setAttributes({translationX:n,translationY:r,rotationCenterX:n,rotationCenterY:r}),this.gridSpriteOdd&&this.gridSpriteOdd.getTemplate().setAttributes({translationX:n,translationY:r,rotationCenterX:n,rotationCenterY:r})},getSprites:function(){if(this.getChart()){var t,e,i=this,n=i.getRange(),r=i.getPosition(),s=i.getChart(),a=s.getAnimate(),o=i.getLength();return a===!1&&(a={duration:0}),n&&(e=Ext.applyIf({position:r,axis:i,min:n[0],max:n[1],length:o,grid:i.getGrid(),hidden:i.getHidden(),titleOffset:i.titleOffset,layout:i.getLayout(),segmenter:i.getSegmenter(),label:i.getLabel()},i.getStyle()),i.sprites.length?(t=i.sprites[0],t.fx.setConfig(a),t.setAttributes(e),t.setLayout(i.getLayout()),t.setSegmenter(i.getSegmenter()),t.setLabel(i.getLabel())):(t=new Ext.chart.axis.sprite.Axis(e),t.fx.setCustomDuration({baseRotation:0}),t.fx.on("animationstart","onAnimationStart",i),t.fx.on("animationend","onAnimationEnd",i),i.sprites.push(t),i.updateTitleSprite()),i.getRenderer()&&t.setRenderer(i.getRenderer())),i.sprites}},updateTitleSprite:function(){if(this.sprites[0]){var t=this,e=this.sprites[0].thickness,i=t.getSurface(),n=this.getTitle(),r=t.getPosition(),s=t.getTitleMargin(),a=t.getLength(),o=i.roundPixel(a/2);if(n)switch(r){case"top":n.setAttributes({x:o,y:s/2,textBaseline:"top",textAlign:"center"},!0,!0),n.applyTransformations(),t.titleOffset=n.getBBox().height+s;break;case"bottom":n.setAttributes({x:o,y:e+s/2,textBaseline:"top",textAlign:"center"},!0,!0),n.applyTransformations(),t.titleOffset=n.getBBox().height+s;break;case"left":n.setAttributes({x:s/2,y:o,textBaseline:"top",textAlign:"center",rotationCenterX:s/2,rotationCenterY:o,rotationRads:-Math.PI/2},!0,!0),n.applyTransformations(),t.titleOffset=n.getBBox().width+s;break;case"right":n.setAttributes({x:e+s/2,y:o,textBaseline:"bottom",textAlign:"center",rotationCenterX:e+s/2,rotationCenterY:o,rotationRads:Math.PI/2},!0,!0),n.applyTransformations(),t.titleOffset=n.getBBox().width+s}}},onThicknessChanged:function(){var t=this;t.getChart().onThicknessChanged()},getThickness:function(){return this.getHidden()?0:(this.sprites[0]&&this.sprites[0].thickness||1)+this.titleOffset},onAnimationStart:function(){this.animating++,1===this.animating&&this.fireEvent("animationstart")},onAnimationEnd:function(){this.animating--,0===this.animating&&this.fireEvent("animationend")},getItemId:function(){return this.getId()},getAncestorIds:function(){return[this.getChart().getId()]},isXType:function(t){return"axis"===t},destroy:function(){Ext.ComponentManager.unregister(this),this.callSuper()}}),Ext.define("Ext.mixin.Sortable",{extend:Ext.mixin.Mixin,mixinConfig:{id:"sortable"},config:{sorters:null,defaultSortDirection:"ASC",sortRoot:null},dirtySortFn:!1,sortFn:null,sorted:!1,applySorters:function(t,e){return e||(e=this.createSortersCollection()),e.clear(),this.sorted=!1,t&&this.addSorters(t),e},createSortersCollection:function(){return this._sorters=Ext.create("Ext.util.Collection",function(t){return t.getId()}),this._sorters},addSorter:function(t,e){this.addSorters([t],e)},addSorters:function(t,e){var i=this.getSorters();return this.insertSorters(i?i.length:0,t,e)},insertSorter:function(t,e,i){return this.insertSorters(t,[e],i)},insertSorters:function(t,e,i){Ext.isArray(e)||(e=[e]);var n,r,s,a,o=e.length,l=i||this.getDefaultSortDirection(),u=this.getSortRoot(),h=this.getSorters(),c=[];for(h||(h=this.createSortersCollection()),r=0;o>r;r++){if(s=e[r],n={direction:l,root:u},"string"==typeof s){if(a=h.get(s)){i?a.setDirection(i):a.toggle();continue}n.property=s}else if(Ext.isFunction(s))n.sorterFn=s;else if(Ext.isObject(s)){if(s.isSorter){c.push(s),s.getRoot()||s.setRoot(u);continue}s.fn&&(s.sorterFn=s.fn,delete s.fn),n=Ext.apply(n,s)}else Ext.Logger.warn("Invalid sorter specified:",s);s=Ext.create("Ext.util.Sorter",n),c.push(s)}for(r=0,o=c.length;o>r;r++)h.insert(t+r,c[r]);return this.dirtySortFn=!0,h.length&&(this.sorted=!0),h},removeSorter:function(t){return this.removeSorters([t])},removeSorters:function(t){Ext.isArray(t)||(t=[t]);var e,i,n=t.length,r=this.getSorters();for(e=0;n>e;e++)i=t[e],"string"==typeof i?r.removeAtKey(i):"function"==typeof i?r.each(function(t){t.getSorterFn()===i&&r.remove(t)}):i.isSorter&&r.remove(i);r.length||(this.sorted=!1)},updateSortFn:function(){var t=this.getSorters().items;return this.sortFn=function(e,i){var n,r,s=t.length;for(r=0;s>r&&(n=t[r].sort.call(this,e,i),0===n);r++);return n},this.dirtySortFn=!1,this.sortFn},getSortFn:function(){return this.dirtySortFn?this.updateSortFn():this.sortFn},sort:function(t){return Ext.Array.sort(t,this.getSortFn()),t},findInsertionIndex:function(t,e,i){for(var n,r,s=0,a=t.length-1,o=i||this.getSortFn();a>=s;)n=s+a>>1,r=o(e,t[n]),r>=0?s=n+1:0>r&&(a=n-1);return s}}),Ext.define("Ext.mixin.Filterable",{extend:Ext.mixin.Mixin,mixinConfig:{id:"filterable"},config:{filters:null,filterRoot:null},dirtyFilterFn:!1,filterFn:null,filtered:!1,applyFilters:function(t,e){return e||(e=this.createFiltersCollection()),e.clear(),this.filtered=!1,this.dirtyFilterFn=!0,t&&this.addFilters(t),e},createFiltersCollection:function(){return this._filters=Ext.create("Ext.util.Collection",function(t){return t.getId()}),this._filters},addFilter:function(t){this.addFilters([t])},addFilters:function(t){var e=this.getFilters();return this.insertFilters(e?e.length:0,t)},insertFilter:function(t,e){return this.insertFilters(t,[e])},insertFilters:function(t,e){Ext.isArray(e)||(e=[e]);var i,n,r,s=e.length,a=this.getFilterRoot(),o=this.getFilters(),l=[];for(o||(o=this.createFiltersCollection()),n=0;s>n;n++){if(r=e[n],i={root:a},Ext.isFunction(r))i.filterFn=r;else if(Ext.isObject(r)){if(r.isFilter){l.push(r),r.getRoot()||r.setRoot(a);continue}r.fn&&(r.filterFn=r.fn,delete r.fn),i=Ext.apply(i,r)}else Ext.Logger.warn("Invalid filter specified:",r);r=Ext.create("Ext.util.Filter",i),l.push(r)}for(n=0,s=l.length;s>n;n++)o.insert(t+n,l[n]);return this.dirtyFilterFn=!0,o.length&&(this.filtered=!0),o},removeFilters:function(t){Ext.isArray(t)||(t=[t]);var e,i,n=t.length,r=this.getFilters();for(e=0;n>e;e++)i=t[e],"string"==typeof i?r.each(function(t){t.getProperty()===i&&r.remove(t)}):"function"==typeof i?r.each(function(t){t.getFilterFn()===i&&r.remove(t)}):i.isFilter?r.remove(i):void 0!==i.property&&void 0!==i.value&&r.each(function(t){t.getProperty()===i.property&&t.getValue()===i.value&&r.remove(t)});r.length||(this.filtered=!1)},updateFilterFn:function(){var t=this.getFilters().items;return this.filterFn=function(e){var i,n=!0,r=t.length;for(i=0;r>i;i++){var s=t[i],a=s.getFilterFn(),o=s.getScope()||this;n=n&&a.call(o,e)}return n},this.dirtyFilterFn=!1,this.filterFn},filter:function(t){return this.getFilters().length?Ext.Array.filter(t,this.getFilterFn()):t},isFiltered:function(t){return this.getFilters().length?!this.getFilterFn()(t):!1},getFilterFn:function(){return this.dirtyFilterFn?this.updateFilterFn():this.filterFn}}),Ext.define("Ext.util.Collection",{config:{autoFilter:!0,autoSort:!0},mixins:{sortable:Ext.mixin.Sortable,filterable:Ext.mixin.Filterable},constructor:function(t,e){var i=this;i.all=[],i.items=[],i.keys=[],i.indices={},i.map={},i.length=0,t&&(i.getKey=t),this.initConfig(e)},updateAutoSort:function(t,e){e===!1&&t&&this.items.length&&this.sort()},updateAutoFilter:function(t,e){e===!1&&t&&this.all.length&&this.filter()},insertSorters:function(){return this.mixins.sortable.insertSorters.apply(this,arguments),this.getAutoSort()&&this.items.length&&this.sort(),this},removeSorters:function(t){return this.mixins.sortable.removeSorters.call(this,t),this.sorted&&this.getAutoSort()&&this.items.length&&this.sort(),this},applyFilters:function(t){var e=this.mixins.filterable.applyFilters.call(this,t);return!t&&this.all.length&&this.getAutoFilter()&&this.filter(),e},addFilters:function(t){return this.mixins.filterable.addFilters.call(this,t),this.items.length&&this.getAutoFilter()&&this.filter(),this},removeFilters:function(t){return this.mixins.filterable.removeFilters.call(this,t),this.filtered&&this.all.length&&this.getAutoFilter()&&this.filter(),this},filter:function(t,e,i,n){return t?Ext.isString(t)?(this.addFilters({property:t,value:e,anyMatch:i,caseSensitive:n}),this.items):(this.addFilters(t),this.items):(this.items=this.mixins.filterable.filter.call(this,this.all.slice()),this.updateAfterFilter(),void(this.sorted&&this.getAutoSort()&&this.sort()))},updateAfterFilter:function(){var t,e,i,n=this.items,r=this.keys,s=this.indices={},a=n.length;for(r.length=0,t=0;a>t;t++)e=n[t],i=this.getKey(e),s[i]=t,r[t]=i;this.length=n.length,this.dirtyIndices=!1},sort:function(t,e){var i,n,r,s=this.items,a=this.keys,o=this.indices,l=s.length;if(t)return this.addSorters(t,e),this.items;for(i=0;l>i;i++)s[i]._current_key=a[i];for(this.handleSort(s),i=0;l>i;i++)n=s[i],r=n._current_key,a[i]=r,o[r]=i,delete n._current_key;this.dirtyIndices=!0},handleSort:function(t){this.mixins.sortable.sort.call(this,t)},add:function(t,e){var i=this,n=this.filtered,r=this.sorted,s=this.all,a=this.items,o=this.keys,l=this.indices,u=this.mixins.filterable,h=a.length,c=h;if(1==arguments.length&&(e=t,t=i.getKey(e)),"undefined"!=typeof t&&null!==t){if("undefined"!=typeof i.map[t])return i.replace(t,e);i.map[t]=e}return s.push(e),n&&this.getAutoFilter()&&u.isFiltered.call(i,e)?null:(i.length++,r&&this.getAutoSort()&&(c=this.findInsertionIndex(a,e)),c!==h?(this.dirtyIndices=!0,Ext.Array.splice(o,c,0,t),Ext.Array.splice(a,c,0,e)):(l[t]=h,o.push(t),a.push(e)),e)},getKey:function(t){return t.id},replace:function(t,e){var i,n,r,s=this,a=s.sorted,o=s.filtered,l=s.mixins.filterable,u=s.items,h=s.keys,c=s.all,d=s.map,f=null,g=u.length;if(1==arguments.length?(e=t,t=r=s.getKey(e)):r=s.getKey(e),i=d[t],"undefined"==typeof t||null===t||"undefined"==typeof i)return s.add(r,e);if(s.map[r]=e,r!==t&&delete s.map[t],a&&s.getAutoSort()){if(Ext.Array.remove(u,i),Ext.Array.remove(h,t),Ext.Array.remove(c,i),c.push(e),s.dirtyIndices=!0,o&&s.getAutoFilter()){if(l.isFiltered.call(s,e))return g!==u.length&&s.length--,null;g===u.length&&(s.length++,f=e)}n=this.findInsertionIndex(u,e),Ext.Array.splice(h,n,0,r),Ext.Array.splice(u,n,0,e)}else{if(o){if(s.getAutoFilter()&&l.isFiltered.call(s,e))return-1!==s.indexOf(i)&&(Ext.Array.remove(u,i),Ext.Array.remove(h,t),s.length--,s.dirtyIndices=!0),null;if(-1===s.indexOf(i))return u.push(e),h.push(r),s.indices[r]=s.length,s.length++,e}n=s.indexOf(i),h[n]=r,u[n]=e,r!==t&&(this.dirtyIndices=!0)}return f},addAll:function(t){var e,i,n,r,s=this,a=s.filtered,o=s.sorted,l=s.all,u=s.items,h=s.keys,c=s.map,d=s.getAutoFilter(),f=s.getAutoSort(),g=[],p=[],m=s.mixins.filterable,x=[];if(Ext.isObject(t))for(i in t)t.hasOwnProperty(i)&&(p.push(u[i]),g.push(i));else for(p=t,e=t.length,n=0;e>n;n++)g.push(s.getKey(t[n]));for(n=0;e>n;n++){if(i=g[n],r=p[n],"undefined"!=typeof i&&null!==i){if("undefined"!=typeof c[i]){s.replace(i,r);continue}c[i]=r}l.push(r),a&&d&&m.isFiltered.call(s,r)||(s.length++,h.push(i),u.push(r),x.push(r))}return x.length?(s.dirtyIndices=!0,o&&f&&s.sort(),x):null},each:function(t,e){for(var i,n=this.items.slice(),r=0,s=n.length;s>r&&(i=n[r],t.call(e||i,i,r,s)!==!1);r++);},eachKey:function(t,e){var i,n=this.keys,r=this.items,s=n.length;for(i=0;s>i;i++)t.call(e||window,n[i],r[i],i,s)},findBy:function(t,e){for(var i=this.keys,n=this.items,r=0,s=n.length;s>r;r++)if(t.call(e||window,n[r],i[r]))return n[r];return null},filterBy:function(t,e){var i,n=this,r=new this.self,s=n.keys,a=n.all,o=a.length;for(r.getKey=n.getKey,i=0;o>i;i++)t.call(e||n,a[i],n.getKey(a[i]))&&r.add(s[i],a[i]);return r},insert:function(t,e,i){var n=this,r=this.sorted,s=this.map,a=this.filtered;if(2==arguments.length&&(i=e,e=n.getKey(i)),t>=n.length||r&&n.getAutoSort())return n.add(e,i);if("undefined"!=typeof e&&null!==e){if("undefined"!=typeof s[e])return n.replace(e,i),!1;s[e]=i}return this.all.push(i),a&&this.getAutoFilter()&&this.mixins.filterable.isFiltered.call(n,i)?null:(n.length++,Ext.Array.splice(n.items,t,0,i),Ext.Array.splice(n.keys,t,0,e),n.dirtyIndices=!0,i)},insertAll:function(t,e){if(t>=this.items.length||this.sorted&&this.getAutoSort())return this.addAll(e);var i,n,r,s,a=this,o=this.filtered,l=this.sorted,u=this.all,h=this.items,c=this.keys,d=this.map,f=this.getAutoFilter(),g=this.getAutoSort(),p=[],m=[],x=[],E=this.mixins.filterable,y=!1;if(l&&this.getAutoSort()&&Ext.Logger.error("Inserting a collection of items into a sorted Collection is invalid. Please just add these items or remove the sorters."),Ext.isObject(e))for(n in e)e.hasOwnProperty(n)&&(m.push(h[n]),p.push(n));else for(m=e,i=e.length,r=0;i>r;r++)p.push(a.getKey(e[r]));for(r=0;i>r;r++){if(n=p[r],s=m[r],"undefined"!=typeof n&&null!==n){if("undefined"!=typeof d[n]){a.replace(n,s);continue}d[n]=s}u.push(s),o&&f&&E.isFiltered.call(a,s)||(a.length++,Ext.Array.splice(h,t+r,0,s),Ext.Array.splice(c,t+r,0,n),y=!0,x.push(s))}return y?(this.dirtyIndices=!0,l&&g&&this.sort(),x):null},remove:function(t){var e=this.items.indexOf(t);if(-1===e){if(Ext.Array.remove(this.all,t),"function"==typeof this.getKey){var i=this.getKey(t);void 0!==i&&delete this.map[i]}return t}return this.removeAt(this.items.indexOf(t))},removeAll:function(t){if(t){var e,i=t.length;for(e=0;i>e;e++)this.remove(t[e])}return this},removeAt:function(t){var e,i,n=this,r=n.items,s=n.keys,a=n.all;return t<n.length&&t>=0?(e=r[t],i=s[t],"undefined"!=typeof i&&delete n.map[i],Ext.Array.erase(r,t,1),Ext.Array.erase(s,t,1),Ext.Array.remove(a,e),delete n.indices[i],n.length--,this.dirtyIndices=!0,e):!1},removeAtKey:function(t){return this.removeAt(this.indexOfKey(t))},getCount:function(){return this.length
},indexOf:function(t){this.dirtyIndices&&this.updateIndices();var e=t?this.indices[this.getKey(t)]:-1;return void 0===e?-1:e},indexOfKey:function(t){this.dirtyIndices&&this.updateIndices();var e=this.indices[t];return void 0===e?-1:e},updateIndices:function(){var t,e,i,n=this.items,r=n.length,s=this.indices={};for(t=0;r>t;t++)e=n[t],i=this.getKey(e),s[i]=t;this.dirtyIndices=!1},get:function(t){var e,i=this,n=i.map[t];return void 0!==n?e=n:"number"==typeof t&&(e=i.items[t]),"function"!=typeof e||i.getAllowFunctions()?e:null},getAt:function(t){return this.items[t]},getByKey:function(t){return this.map[t]},contains:function(t){var e=this.getKey(t);return e?this.containsKey(e):Ext.Array.contains(this.items,t)},containsKey:function(t){return"undefined"!=typeof this.map[t]},clear:function(){var t=this;t.length=0,t.items.length=0,t.keys.length=0,t.all.length=0,t.dirtyIndices=!0,t.indices={},t.map={}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},getRange:function(t,e){var i,n=this,r=n.items,s=[];if(r.length<1)return s;if(t=t||0,e=Math.min("undefined"==typeof e?n.length-1:e,n.length-1),e>=t)for(i=t;e>=i;i++)s[s.length]=r[i];else for(i=t;i>=e;i--)s[s.length]=r[i];return s},findIndexBy:function(t,e,i){for(var n=this,r=n.keys,s=n.items,a=i||0,o=s.length;o>a;a++)if(t.call(e||n,s[a],r[a]))return a;return-1},clone:function(){for(var t=this,e=new this.self,i=t.keys,n=t.items,r=0,s=n.length;s>r;r++)e.add(i[r],n[r]);return e.getKey=t.getKey,e},destroy:function(){this.callSuper(),this.clear()}}),Ext.define("Ext.data.ResultSet",{config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null},constructor:function(t){this.initConfig(t)},applyCount:function(t){return t||0===t?t:this.getRecords().length},updateRecords:function(t){this.setCount(t.length)}}),Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:[Ext.mixin.Observable],isReader:!0,config:{idProperty:void 0,clientIdProperty:"clientId",totalProperty:"total",successProperty:"success",messageProperty:null,rootProperty:"",implicitIncludes:!0,model:void 0},constructor:function(t){this.initConfig(t)},fieldCount:0,applyModel:function(t){return"string"==typeof t&&(t=Ext.data.ModelManager.getModel(t),t||Ext.Logger.error("Model with name "+arguments[0]+" doesnt exist.")),t&&!t.prototype.isModel&&Ext.isObject(t)&&(t=Ext.data.ModelManager.registerType(t.storeId||t.id||Ext.id(),t)),t},applyIdProperty:function(t){return!t&&this.getModel()&&(t=this.getModel().getIdProperty()),t},updateModel:function(t){t&&(this.getIdProperty()||this.setIdProperty(t.getIdProperty()),this.buildExtractors())},createAccessor:Ext.emptyFn,createFieldAccessExpression:function(){return"undefined"},buildExtractors:function(){if(this.getModel()){var t=this,e=t.getTotalProperty(),i=t.getSuccessProperty(),n=t.getMessageProperty();e&&(t.getTotal=t.createAccessor(e)),i&&(t.getSuccess=t.createAccessor(i)),n&&(t.getMessage=t.createAccessor(n)),t.extractRecordData=t.buildRecordDataExtractor()}},buildRecordDataExtractor:function(){var t,e,i,n,r=this,s=r.getModel(),a=s.getFields(),o=a.length,l=[],u=r.getModel().getClientIdProperty(),h="__field",c=["var me = this,\n","    fields = me.getModel().getFields(),\n","    idProperty = me.getIdProperty(),\n",'    idPropertyIsFn = (typeof idProperty == "function"),',"    value,\n","    internalId"];for(a=a.items,t=0;o>t;t++)e=a[t],n=e.getName(),l[t]=n===s.getIdProperty()?"idField":h+t,c.push(",\n    ",l[t],' = fields.get("',e.getName(),'")');for(c.push(";\n\n    return function(source) {\n        var dest = {};\n"),c.push("        if (idPropertyIsFn) {\n"),c.push("            idField.setMapping(idProperty);\n"),c.push("        }\n"),t=0;o>t;t++)e=a[t],i=l[t],n=e.getName(),n===s.getIdProperty()&&null===e.getMapping()&&s.getIdProperty()!==this.getIdProperty()&&e.setMapping(this.getIdProperty()),c.push("        try {\n"),c.push("            value = ",r.createFieldAccessExpression(e,i,"source"),";\n"),c.push("            if (value !== undefined) {\n"),c.push('                dest["'+e.getName()+'"] = value;\n'),c.push("            }\n"),c.push("        } catch(e){}\n");return u&&(c.push("        internalId = "+r.createFieldAccessExpression(Ext.create("Ext.data.Field",{name:u}),null,"source")+";\n"),c.push("        if (internalId !== undefined) {\n"),c.push('            dest["_clientId"] = internalId;\n        }\n')),c.push("        return dest;\n"),c.push("    };"),Ext.functionFactory(c.join("")).call(r)},getFields:function(){return this.getModel().getFields().items},getData:function(t){return t},getResponseData:function(t){return t},getRoot:function(t){return t},read:function(t){var e,i,n,r,s,a=t,o=this.getModel();if(t&&(a=this.getResponseData(t)),a){for(e=this.readRecords(a),i=e.getRecords(),n=0,r=i.length;r>n;n++)s=i[n],i[n]=new o(s.data,s.id,s.node);return e}return this.nullResultSet},process:function(t){var e=t;return t&&(e=this.getResponseData(t)),e?this.readRecords(e):this.nullResultSet},readRecords:function(t){var e=this;e.rawData=t,t=e.getData(t),t.metaData&&e.onMetaChange(t.metaData),e.getModel()||Ext.Logger.warn("In order to read record data, a Reader needs to have a Model defined on it.");var i,n,r,s,a=Ext.isArray(t),o=a?t:e.getRoot(t),l=!0,u=0;return a&&Ext.isEmpty(t.length)?e.nullResultSet:(e.getTotal&&(n=parseInt(e.getTotal(t),10),isNaN(n)||(i=n)),e.getSuccess&&(n=e.getSuccess(t),(n===!1||"false"===n)&&(l=!1)),e.getMessage&&(s=e.getMessage(t)),o?(r=e.extractData(o),u=r.length):(u=0,r=[]),new Ext.data.ResultSet({total:i,count:u,records:r,success:l,message:s}))},extractData:function(t){var e,i,n,r,s,a=this,o=[],l=t.length,u=a.getModel(),h=u.getIdProperty(),c=u.getFields();for(c.isDirty&&(a.buildExtractors(!0),delete c.isDirty),!t.length&&Ext.isObject(t)&&(t=[t],l=1),i=0;l>i;i++)s=null,r=null,e=t[i],n=e.isModel?e.data:a.extractRecordData(e),void 0!==n._clientId&&(s=n._clientId,delete n._clientId),void 0!==n[h]&&(r=n[h]),a.getImplicitIncludes()&&a.readAssociated(n,e),o.push({clientId:s,id:r,data:n,node:e});return o},readAssociated:function(t,e){for(var i,n,r,s=this.getModel().associations.items,a=s.length,o=0;a>o;o++)i=s[o],r=i.getAssociationKey(),n=this.getAssociatedDataRoot(e,r),n&&(t[r]=n)},getAssociatedDataRoot:function(t,e){var i=/[\[\.]/,n=String(e).search(i);return n>=0?Ext.functionFactory("obj","return obj"+(n>0?".":"")+e)(t):t[e]},onMetaChange:function(t){var e,i,n,r=t.fields,s=this;s.metaData=t,void 0!==t.rootProperty?s.setRootProperty(t.rootProperty):void 0!==t.root&&s.setRootProperty(t.root),void 0!==t.idProperty&&s.setIdProperty(t.idProperty),void 0!==t.totalProperty&&s.setTotalProperty(t.totalProperty),void 0!==t.successProperty&&s.setSuccessProperty(t.successProperty),void 0!==t.messageProperty&&s.setMessageProperty(t.messageProperty),r?s.getModel()?(s.getModel().setFields(r),s.buildExtractors()):(n=s.getIdProperty(),i={fields:r},n&&(i.idProperty=n),e=Ext.define("Ext.data.reader.MetaModel"+Ext.id(),{extend:"Ext.data.Model",config:i}),s.setModel(e)):s.buildExtractors()}},function(){Ext.apply(this.prototype,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!1})})}),Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,useSimpleAccessors:!1},objectRe:/[\[\.]/,getResponseData:function(t){var e=t;if(t&&t.responseText&&(e=t.responseText),"string"!=typeof e)return e;var i;try{i=Ext.decode(e)}catch(n){this.fireEvent("exception",this,t,"Unable to parse the JSON returned by the server: "+n.toString()),Ext.Logger.warn("Unable to parse the JSON returned by the server: "+n.toString())}return i||(this.fireEvent("exception",this,t,"JSON object not found"),Ext.Logger.warn("JSON object not found")),i},buildExtractors:function(){var t=this,e=t.getRootProperty();t.callParent(arguments),e?t.rootAccessor=t.createAccessor(e):delete t.rootAccessor},getRoot:function(t){var e=this.getModel().getFields();return e.isDirty&&(this.buildExtractors(!0),delete e.isDirty),this.rootAccessor?this.rootAccessor.call(this,t):t},extractData:function(t){var e,i,n=this.getRecord(),r=[];if(n)for(e=t.length,!e&&Ext.isObject(t)&&(e=1,t=[t]),i=0;e>i;i++)r[i]=t[i][n];else r=t;return this.callParent([r])},createAccessor:function(){var t=/[\[\.]/;return function(e){if(Ext.isEmpty(e))return Ext.emptyFn;if(Ext.isFunction(e))return e;if(this.getUseSimpleAccessors()!==!0){var i=String(e).search(t);if(i>=0)return Ext.functionFactory("obj","var value; try {value = obj"+(i>0?".":"")+e+"} catch(e) {}; return value;")}return function(t){return t[e]}}}(),createFieldAccessExpression:function(t,e,i){var n,r,s=this,a=s.objectRe,o=null!==t.getMapping(),l=o?t.getMapping():t.getName();return"function"==typeof l?n=e+".getMapping()("+i+", this)":s.getUseSimpleAccessors()===!0||(r=String(l).search(a))<0?((!o||isNaN(l))&&(l='"'+l+'"'),n=i+"["+l+"]"):n=i+(r>0?".":"")+l,n}}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{writeAllFields:!0,nameProperty:"name"},constructor:function(t){this.initConfig(t)},write:function(t){for(var e=t.getOperation(),i=e.getRecords()||[],n=i.length,r=0,s=[];n>r;r++)s.push(this.getRecordData(i[r]));return this.writeRecords(t,s)},writeDate:function(t,e){if(!e)return null;var i=t.getDateFormat()||"timestamp";switch(i){case"timestamp":return e.getTime()/1e3;case"time":return e.getTime();default:return Ext.Date.format(e,i)}},getRecordData:function(t){var e,i,n,r,s,a=t.phantom===!0,o=this.getWriteAllFields()||a,l=this.getNameProperty(),u=t.getFields(),h={};if(o)u.each(function(e){e.getPersist()&&(i=e.config[l]||e.getName(),s=t.get(e.getName()),"date"==e.getType().type&&(s=this.writeDate(e,s)),h[i]=s)},this);else{e=t.getChanges();for(r in e)e.hasOwnProperty(r)&&(n=u.get(r),n.getPersist()&&(i=n.config[l]||n.getName(),s=e[r],"date"==n.getType().type&&(s=this.writeDate(n,s)),h[i]=s));a||(h[t.getIdProperty()]=t.getId())}return h}}),Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:void 0,encode:!1,allowSingle:!0,encodeRequest:!1},applyRootProperty:function(t){return t||!this.getEncode()&&!this.getEncodeRequest()||(t="data"),t},writeRecords:function(t,e){var i,n=this.getRootProperty(),r=t.getParams(),s=this.getAllowSingle();return this.getAllowSingle()&&e&&1==e.length&&(e=e[0]),this.getEncodeRequest()?(i=t.getJsonData()||{},e&&(e.length||s&&Ext.isObject(e))&&(i[n]=e),t.setJsonData(Ext.apply(i,r||{})),t.setParams(null),t.setMethod("POST"),t):e&&(e.length||s&&Ext.isObject(e))?(this.getEncode()?n?r[n]=Ext.encode(e):Ext.Logger.error("Must specify a root when using encode"):(i=t.getJsonData()||{},n?i[n]=e:i=e,t.setJsonData(i)),t):t}}),Ext.define("Ext.data.Batch",{mixins:{observable:Ext.mixin.Observable},config:{autoStart:!1,pauseOnException:!0,proxy:null},current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(t){var e=this;e.initConfig(t),e.operations=[]},add:function(t){this.total++,t.setBatch(this),this.operations.push(t)},start:function(){this.hasException=!1,this.isRunning=!0,this.runNextOperation()},runNextOperation:function(){this.runOperation(this.current+1)},pause:function(){this.isRunning=!1},runOperation:function(t){var e,i=this,n=i.operations,r=n[t];void 0===r?(i.isRunning=!1,i.isComplete=!0,i.fireEvent("complete",i,n[n.length-1])):(i.current=t,e=function(t){var e=t.hasException();e?(i.hasException=!0,i.fireEvent("exception",i,t)):i.fireEvent("operationcomplete",i,t),e&&i.getPauseOnException()?i.pause():(t.setCompleted(),i.runNextOperation())},r.setStarted(),i.getProxy()[r.getAction()](r,e,i))}}),Ext.define("Ext.data.Operation",{config:{synchronous:!0,action:null,filters:null,sorters:null,grouper:null,start:null,limit:null,batch:null,callback:null,scope:null,resultSet:null,records:null,request:null,response:null,withCredentials:null,params:null,url:null,page:null,node:null,model:void 0,addRecords:!1},started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,constructor:function(t){this.initConfig(t)},applyModel:function(t){return"string"==typeof t&&(t=Ext.data.ModelManager.getModel(t),t||Ext.Logger.error("Model with name "+arguments[0]+" doesnt exist.")),t&&!t.prototype.isModel&&Ext.isObject(t)&&(t=Ext.data.ModelManager.registerType(t.storeId||t.id||Ext.id(),t)),t||Ext.Logger.warn("Unless you define your model using metadata, an Operation needs to have a model defined."),t},getRecords:function(){var t=this.getResultSet();return this._records||(t?t.getRecords():[])},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(t){this.exception=!0,this.success=!1,this.running=!1,this.error=t},hasException:function(){return this.exception===!0},getError:function(){return this.error},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},allowWrite:function(){return"read"!=this.getAction()},process:function(t,e,i,n){return e.getSuccess()===!1?(this.setResponse(n),this.setResultSet(e),!1):(this.setResponse(n),this.setResultSet(e),this.setCompleted(),this.setSuccessful(),this["process"+Ext.String.capitalize(t)].call(this,e,i,n))},processRead:function(t){var e,i,n=t.getRecords(),r=[],s=this.getModel(),a=n.length;for(e=0;a>e;e++)i=n[e],r.push(new s(i.data,i.id,i.node));return this.setRecords(r),t.setRecords(r),!0},processCreate:function(t){var e,i,n,r=t.getRecords(),s=this.getRecords(),a=r.length;for(e=0;a>e;e++)n=r[e],i=null===n.clientId&&1==s.length&&1==r.length?s[e]:this.findCurrentRecord(n.clientId),i?this.updateRecord(i,n):Ext.Logger.warn("Unable to match the record that came back from the server.");return!0},processUpdate:function(t){var e,i,n,r=t.getRecords(),s=this.getRecords(),a=r.length;for(e=0;a>e;e++)n=r[e],i=s[e],i?this.updateRecord(i,n):Ext.Logger.warn("Unable to match the updated record that came back from the server.");return!0},processDestroy:function(t){var e,i,n,r=t.getRecords(),s=r.length;for(e=0;s>e;e++)n=r[e],i=this.findCurrentRecord(n.id),i?(i.setIsErased(!0),i.notifyStores("afterErase",i)):Ext.Logger.warn("Unable to match the destroyed record that came back from the server.")},findCurrentRecord:function(t){var e,i,n=this.getRecords(),r=n.length;for(e=0;r>e;e++)if(i=n[e],i.getId()===t)return i},updateRecord:function(t,e){var i=e.data,n=e.id;t.beginEdit(),t.set(i),null!==n&&t.setId(n),t.endEdit(!0),t.commit()}}),Ext.define("Ext.data.proxy.Proxy",{extend:Ext.Evented,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:null,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,applyModel:function(t){return"string"==typeof t&&(t=Ext.data.ModelManager.getModel(t),t||Ext.Logger.error("Model with name "+arguments[0]+" doesnt exist.")),t&&!t.prototype.isModel&&Ext.isObject(t)&&(t=Ext.data.ModelManager.registerType(t.storeId||t.id||Ext.id(),t)),t},updateModel:function(t){if(t){var e=this.getReader();e&&!e.getModel()&&e.setModel(t)}},applyReader:function(t,e){return Ext.factory(t,Ext.data.Reader,e,"reader")},updateReader:function(t){if(t){var e=this.getModel();e?t.setModel(e):(e=t.getModel(),e&&this.setModel(e)),t.onMetaChange&&(t.onMetaChange=Ext.Function.createSequence(t.onMetaChange,this.onMetaChange,this))}},onMetaChange:function(t){var e=this.getReader().getModel();!this.getModel()&&e&&this.setModel(e),this.fireEvent("metachange",this,t)},applyWriter:function(t,e){return Ext.factory(t,Ext.data.Writer,e,"writer")},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter()),Ext.Evented.prototype.destroy.apply(this,arguments)},batch:function(t,e){var i,n,r=this,s=r.getBatchActions(),a=r.getModel();return void 0===t.operations&&(t={operations:t,listeners:e},Ext.Logger.deprecate("Passes old-style signature to Proxy.batch (operations, listeners). Please convert to single options argument syntax.")),i=t.batch&&t.batch.isBatch?t.batch:new Ext.data.Batch(t.batch||{}),i.setProxy(r),i.on("complete",Ext.bind(r.onBatchComplete,r,[t],0)),t.listeners&&i.on(t.listeners),Ext.each(r.getBatchOrder().split(","),function(e){n=t.operations[e],n&&(s?i.add(new Ext.data.Operation({action:e,records:n,model:a})):Ext.each(n,function(t){i.add(new Ext.data.Operation({action:e,records:[t],model:a}))}))},r),i.start(),i},onBatchComplete:function(t,e){var i=t.scope||this;e.hasException?Ext.isFunction(t.failure)&&Ext.callback(t.failure,i,[e,t]):Ext.isFunction(t.success)&&Ext.callback(t.success,i,[e,t]),Ext.isFunction(t.callback)&&Ext.callback(t.callback,i,[e,t]),Ext.destroy(e)}},function(){}),Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.proxy.ClientProxy",clear:function(){Ext.Logger.error("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}}),Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{data:[]},finishOperation:function(t,e,i){if(t){var n=0,r=t.getRecords(),s=r.length;for(n;s>n;n++)r[n].commit();t.setCompleted(),t.setSuccessful(),Ext.callback(e,i||this,[t])}},create:function(){this.finishOperation.apply(this,arguments)},update:function(){this.finishOperation.apply(this,arguments)},destroy:function(){this.finishOperation.apply(this,arguments)},read:function(t,e,i){var n=this,r=n.getReader();t.process("read",r.process(n.getData()))===!1&&this.fireEvent("exception",this,null,t),Ext.callback(e,i||n,[t])},clear:Ext.emptyFn}),Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:void 0,successProperty:void 0},createFieldAccessExpression:function(t,e,i){var n,r=this,s=t.getMapping(),a=null==s?r.getModel().getFields().indexOf(t):s;return"function"==typeof a?n=e+".getMapping()("+i+", this)":(isNaN(a)&&(a='"'+a+'"'),n=i+"["+a+"]"),n}}),Ext.define("Ext.data.StoreManager",{extend:Ext.util.Collection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var t,e=0;t=arguments[e];e++)this.add(t)},unregister:function(){for(var t,e=0;t=arguments[e];e++)this.remove(this.lookup(t))},lookup:function(t){if(Ext.isArray(t)){var e,i,n=["field1"],r=!Ext.isArray(t[0]),s=t;if(r)for(s=[],e=0,i=t.length;i>e;++e)s.push([t[e]]);else for(e=2,i=t[0].length;i>=e;++e)n.push("field"+e);return Ext.create("Ext.data.ArrayStore",{data:s,fields:n,autoDestroy:!0,autoCreated:!0,expanded:r})}return Ext.isString(t)?this.get(t):t instanceof Ext.data.Store?t:Ext.factory(t,Ext.data.Store,null,"store")},getKey:function(t){return t.getStoreId()}},function(){Ext.regStore=function(t,e){var i;return Ext.isObject(t)?e=t:e instanceof Ext.data.Store?e.setStoreId(t):e.storeId=t,i=e instanceof Ext.data.Store?e:Ext.create("Ext.data.Store",e),Ext.data.StoreManager.register(i)},Ext.getStore=function(t){return Ext.data.StoreManager.lookup(t)}}),Ext.define("Ext.mixin.Selectable",{extend:Ext.mixin.Mixin,mixinConfig:{id:"selectable",hooks:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{addrecords:"onSelectionStoreAdd",removerecords:"onSelectionStoreRemove",updaterecord:"onSelectionStoreUpdate",load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection,this.callParent(arguments)},applyMode:function(t){return t=t?t.toUpperCase():"SINGLE",this.modes[t]?t:"SINGLE"},updateStore:function(t,e){var i=this,n=Ext.apply({},i.selectableEventHooks,{scope:i});e&&Ext.isObject(e)&&e.isStore&&(e.autoDestroy?e.destroy():(e.un(n),t&&t.un("clear","onSelectionStoreClear",this))),t&&(t.on(n),t.onBefore("clear","onSelectionStoreClear",this),i.refreshSelection())},selectAll:function(t){var e=this,i=e.getStore().getRange();e.select(i,!0,t)},deselectAll:function(t){var e=this,i=e.getStore().getRange();e.deselect(i,t),e.selected.clear(),e.setLastSelected(null),e.setLastFocused(null)},selectWithEvent:function(t){var e=this,i=e.isSelected(t);switch(e.getMode()){case"MULTI":case"SIMPLE":i?e.deselect(t):e.select(t,!0);break;case"SINGLE":e.getAllowDeselect()&&i?e.deselect(t):e.select(t,!1)}},selectRange:function(t,e,i){var n,r,s=this,a=s.getStore(),o=[];if(!s.getDisableSelection()){for(t>e&&(n=e,e=t,t=n),r=t;e>=r;r++)o.push(a.getAt(r));this.doMultiSelect(o,i)}},select:function(t,e,i){var n,r=this;r.getDisableSelection()||("number"==typeof t&&(t=[r.getStore().getAt(t)]),t&&("SINGLE"==r.getMode()&&t?(n=t.length?t[0]:t,r.doSingleSelect(n,i)):r.doMultiSelect(t,e,i)))},doSingleSelect:function(t,e){var i=this,n=i.selected;i.getDisableSelection()||i.isSelected(t)||(n.getCount()>0&&i.deselect(i.getLastSelected(),e),n.add(t),i.setLastSelected(t),i.onItemSelect(t,e),i.setLastFocused(t),e||i.fireSelectionChange([t]))},doMultiSelect:function(t,e,i){if(null!==t&&!this.getDisableSelection()){t=Ext.isArray(t)?t:[t];var n,r=this,s=r.selected,a=t.length,o=!1,l=0;for(!e&&s.getCount()>0&&(o=!0,r.deselect(r.getSelection(),!0));a>l;l++)n=t[l],e&&r.isSelected(n)||(o=!0,r.setLastSelected(n),s.add(n),i||r.setLastFocused(n),r.onItemSelect(n,i));o&&!i&&this.fireSelectionChange(t)}},deselect:function(t,e){var i=this;if(!i.getDisableSelection()){t=Ext.isArray(t)?t:[t];for(var n,r=i.selected,s=!1,a=0,o=i.getStore(),l=t.length;l>a;a++)n=t[a],"number"==typeof n&&(n=o.getAt(n)),r.remove(n)&&(i.getLastSelected()==n&&i.setLastSelected(r.last()),s=!0),n&&i.onItemDeselect(n,e);s&&!e&&i.fireSelectionChange(t)}},updateLastFocused:function(t,e){this.onLastFocusChanged(e,t)},fireSelectionChange:function(t){var e=this;e.fireAction("selectionchange",[e,t],"getSelection")},getSelection:function(){return this.selected.getRange()},isSelected:function(t){return t=Ext.isNumber(t)?this.getStore().getAt(t):t,-1!==this.selected.indexOf(t)},hasSelection:function(){return this.selected.getCount()>0},refreshSelection:function(){var t=this,e=t.getSelection();t.deselectAll(!0),e.length&&t.select(e,!1,!0)},onSelectionStoreRemove:function(t,e){var i,n,r=this,s=r.selected,a=e.length;if(!r.getDisableSelection())for(n=0;a>n;n++)i=e[n],s.remove(i)&&(r.getLastSelected()==i&&r.setLastSelected(null),r.getLastFocused()==i&&r.setLastFocused(null),r.fireSelectionChange([i]))},onSelectionStoreClear:function(t){var e=t.getData().items;this.onSelectionStoreRemove(t,e)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){}),Ext.define("Ext.dataview.component.DataItem",{extend:Ext.Container,xtype:"dataitem",config:{baseCls:Ext.baseCSSPrefix+"data-item",defaultType:"component",record:null,itemCls:null,dataMap:{},dataview:null,width:"100%",items:[{xtype:"component"}]},updateBaseCls:function(){var t=this;t.callParent(arguments)},updateItemCls:function(t,e){e&&this.removeCls(e),t&&this.addCls(t)},doMapData:function(t,e,i){var n,r,s,a;for(n in t)if(s=t[n],r=this[n]())for(a in s)e&&r[a]&&void 0!==e[s[a]]&&null!==e[s[a]]&&r[a](e[s[a]]);i&&i.updateData(e)},updateRecord:function(t){if(t){this._record=t;var e=this,i=e.dataview||this.getDataview(),n=i.prepareData(t.getData(!0),i.getStore().indexOf(t),t),r=e.getItems(),s=r.first(),a=e.getDataMap();s&&(a&&this.doMapData(a,n,s),e.fireEvent("updatedata",e,n))}}}),Ext.define("Ext.dataview.component.Container",{extend:Ext.Container,constructor:function(){this.itemCache=[],this.callParent(arguments)},doInitialize:function(){this.innerElement.on({touchstart:"onItemTouchStart",touchend:"onItemTouchEnd",tap:"onItemTap",taphold:"onItemTapHold",touchmove:"onItemTouchMove",singletap:"onItemSingleTap",doubletap:"onItemDoubleTap",swipe:"onItemSwipe",delegate:"> ."+Ext.baseCSSPrefix+"data-item",scope:this})},initialize:function(){this.callParent(),this.doInitialize()},onItemTouchStart:function(t){var e=this,i=t.getTarget(),n=Ext.getCmp(i.id);n.on({touchmove:"onItemTouchMove",scope:e,single:!0}),e.fireEvent("itemtouchstart",e,n,e.indexOf(n),t)},onItemTouchMove:function(t){var e=this,i=t.getTarget(),n=Ext.getCmp(i.id);e.fireEvent("itemtouchmove",e,n,e.indexOf(n),t)},onItemTouchEnd:function(t){var e=this,i=t.getTarget(),n=Ext.getCmp(i.id);n.un({touchmove:"onItemTouchMove",scope:e}),e.fireEvent("itemtouchend",e,n,e.indexOf(n),t)},onItemTap:function(t){var e=this,i=t.getTarget(),n=Ext.getCmp(i.id);e.fireEvent("itemtap",e,n,e.indexOf(n),t)},onItemTapHold:function(t){var e=this,i=t.getTarget(),n=Ext.getCmp(i.id);e.fireEvent("itemtaphold",e,n,e.indexOf(n),t)},onItemSingleTap:function(t){var e=this,i=t.getTarget(),n=Ext.getCmp(i.id);e.fireEvent("itemsingletap",e,n,e.indexOf(n),t)},onItemDoubleTap:function(t){var e=this,i=t.getTarget(),n=Ext.getCmp(i.id);e.fireEvent("itemdoubletap",e,n,e.indexOf(n),t)},onItemSwipe:function(t){var e=this,i=t.getTarget(),n=Ext.getCmp(i.id);e.fireEvent("itemswipe",e,n,e.indexOf(n),t)},moveItemsToCache:function(t,e){for(var i,n=this,r=n.dataview,s=r.getMaxItemCache(),a=n.getViewItems(),o=n.itemCache,l=o.length,u=r.getPressedCls(),h=r.getSelectedCls(),c=e-t;c>=0;c--)i=a[t+c],l!==s?(n.remove(i,!1),i.removeCls([u,h]),o.push(i),l++):i.destroy();0==n.getViewItems().length&&this.dataview.showEmptyText()},moveItemsFromCache:function(t){var e,i,n,r=this,s=r.dataview,a=s.getStore(),o=t.length,l=s.getDefaultType(),u=s.getItemConfig(),h=r.itemCache,c=h.length,d=[];for(o&&s.hideEmptyText(),e=0;o>e;e++)t[e]._tmpIndex=a.indexOf(t[e]);for(Ext.Array.sort(t,function(t,e){return t._tmpIndex>e._tmpIndex?1:-1}),e=0;o>e;e++)n=t[e],c?(c--,i=h.pop(),this.updateListItem(n,i)):i=r.getDataItemConfig(l,n,u),i=this.insert(n._tmpIndex,i),delete n._tmpIndex;return d},getViewItems:function(){return this.getInnerItems()},updateListItem:function(t,e){e.updateRecord&&(e.getRecord()===t?e.updateRecord(t):e.setRecord(t))},getDataItemConfig:function(t,e,i){var n=this.dataview,r={xtype:t,record:e,itemCls:n.getItemCls(),defaults:i,dataview:n};return Ext.merge(r,i)},doRemoveItemCls:function(t){for(var e=this.getViewItems(),i=e.length,n=0;i>n;n++)e[n].removeCls(t)},doAddItemCls:function(t){for(var e=this.getViewItems(),i=e.length,n=0;i>n;n++)e[n].addCls(t)},updateAtNewIndex:function(t,e,i){this.moveItemsToCache(t,t),this.moveItemsFromCache([i])},destroy:function(){for(var t=this,e=t.itemCache,i=e.length,n=0;i>n;n++)e[n].destroy();this.callParent()}}),Ext.define("Ext.dataview.element.Container",{extend:Ext.Component,doInitialize:function(){this.element.on({touchstart:"onItemTouchStart",touchend:"onItemTouchEnd",tap:"onItemTap",taphold:"onItemTapHold",touchmove:"onItemTouchMove",singletap:"onItemSingleTap",doubletap:"onItemDoubleTap",swipe:"onItemSwipe",delegate:"> div",scope:this})},initialize:function(){this.callParent(),this.doInitialize()},updateBaseCls:function(t,e){var i=this;i.callParent([t+"-container",e])},onItemTouchStart:function(t){var e=this,i=t.getTarget(),n=e.getViewItems().indexOf(i);Ext.get(i).on({touchmove:"onItemTouchMove",scope:e,single:!0}),e.fireEvent("itemtouchstart",e,Ext.get(i),n,t)},onItemTouchEnd:function(t){var e=this,i=t.getTarget(),n=e.getViewItems().indexOf(i);Ext.get(i).un({touchmove:"onItemTouchMove",scope:e}),e.fireEvent("itemtouchend",e,Ext.get(i),n,t)},onItemTouchMove:function(t){var e=this,i=t.getTarget(),n=e.getViewItems().indexOf(i);e.fireEvent("itemtouchmove",e,Ext.get(i),n,t)},onItemTap:function(t){var e=this,i=t.getTarget(),n=e.getViewItems().indexOf(i);e.fireEvent("itemtap",e,Ext.get(i),n,t)},onItemTapHold:function(t){var e=this,i=t.getTarget(),n=e.getViewItems().indexOf(i);e.fireEvent("itemtaphold",e,Ext.get(i),n,t)},onItemDoubleTap:function(t){var e=this,i=t.getTarget(),n=e.getViewItems().indexOf(i);e.fireEvent("itemdoubletap",e,Ext.get(i),n,t)},onItemSingleTap:function(t){var e=this,i=t.getTarget(),n=e.getViewItems().indexOf(i);e.fireEvent("itemsingletap",e,Ext.get(i),n,t)},onItemSwipe:function(t){var e=this,i=t.getTarget(),n=e.getViewItems().indexOf(i);e.fireEvent("itemswipe",e,Ext.get(i),n,t)},updateListItem:function(t,e){var i=this,n=i.dataview,r=n.getStore(),s=r.indexOf(t),a=n.prepareData(t.getData(!0),s,t);a.xcount=r.getCount(),a.xindex="number"==typeof a.xindex?a.xindex:s,e.innerHTML=n.getItemTpl().apply(a)},addListItem:function(t,e){var i,n=this,r=n.dataview,s=r.getStore(),a=r.prepareData(e.getData(!0),t,e),o=n.element,l=o.dom.childNodes,u=l.length;a.xcount="number"==typeof a.xcount?a.xcount:s.getCount(),a.xindex="number"==typeof a.xindex?a.xindex:t,i=Ext.Element.create(this.getItemElementConfig(t,a)),u&&t!=u?i.insertBefore(l[t]):i.appendTo(o)},getItemElementConfig:function(t,e){var i=this.dataview,n=i.getItemCls(),r=i.getBaseCls()+"-item";return n&&(r+=" "+n),{cls:r,html:i.getItemTpl().apply(e)}},doRemoveItemCls:function(t){for(var e=this.getViewItems(),i=e.length,n=0;i>n;n++)Ext.fly(e[n]).removeCls(t)},doAddItemCls:function(t){for(var e=this.getViewItems(),i=e.length,n=0;i>n;n++)Ext.fly(e[n]).addCls(t)},moveItemsToCache:function(t,e){for(var i,n=this,r=n.getViewItems(),s=e-t;s>=0;s--)i=r[t+s],Ext.get(i).destroy();0==n.getViewItems().length&&this.dataview.showEmptyText()},moveItemsFromCache:function(t){var e,i,n=this,r=n.dataview,s=r.getStore(),a=t.length;for(a&&r.hideEmptyText(),e=0;a>e;e++)t[e]._tmpIndex=s.indexOf(t[e]);for(Ext.Array.sort(t,function(t,e){return t._tmpIndex>e._tmpIndex?1:-1}),e=0;a>e;e++)i=t[e],n.addListItem(i._tmpIndex,i),delete i._tmpIndex},getViewItems:function(){return Array.prototype.slice.call(this.element.dom.childNodes)},updateAtNewIndex:function(t,e,i){this.moveItemsToCache(t,t),this.moveItemsFromCache([i])},destroy:function(){for(var t=this.getViewItems(),e=t.length,i=0;e>i;i++)Ext.get(t[i]).destroy();this.callParent()}}),Ext.define("Ext.dataview.DataView",{extend:Ext.Container,alternateClassName:"Ext.DataView",mixins:[Ext.mixin.Selectable],xtype:"dataview",config:{store:null,data:null,baseCls:Ext.baseCSSPrefix+"dataview",emptyText:null,deferEmptyText:!0,itemTpl:"<div>{text}</div>",pressedCls:"x-item-pressed",itemCls:null,selectedCls:"x-item-selected",triggerEvent:"itemtap",triggerCtEvent:"tap",deselectOnContainerClick:!0,scrollable:!0,inline:null,pressedDelay:100,loadingText:"Loading...",useComponents:null,itemConfig:{},maxItemCache:20,defaultType:"dataitem",scrollToTopOnRefresh:!0},constructor:function(){var t,e=this;e.hasLoadedStore=!1,e.mixins.selectable.constructor.apply(e,arguments),e.indexOffset=0,e.callParent(arguments),t=this.getLayout(),t&&!t.isAuto&&Ext.Logger.error("The base layout for a DataView must always be an Auto Layout")},updateItemCls:function(t,e){var i=this.container;i&&(e&&i.doRemoveItemCls(e),t&&i.doAddItemCls(t))},storeEventHooks:{beforeload:"onBeforeLoad",load:"onLoad",refresh:"refresh",addrecords:"onStoreAdd",removerecords:"onStoreRemove",updaterecord:"onStoreUpdate"},initialize:function(){this.callParent();var t,e=this,i=e.getTriggerEvent();e.on(e.getTriggerCtEvent(),e.onContainerTrigger,e),t=e.container=this.add(new(Ext.dataview[e.getUseComponents()?"component":"element"].Container)({baseCls:this.getBaseCls()})),t.dataview=e,i&&e.on(i,e.onItemTrigger,e),t.on({itemtouchstart:"onItemTouchStart",itemtouchend:"onItemTouchEnd",itemtap:"onItemTap",itemtaphold:"onItemTapHold",itemtouchmove:"onItemTouchMove",itemsingletap:"onItemSingleTap",itemdoubletap:"onItemDoubleTap",itemswipe:"onItemSwipe",scope:e}),e.getStore()&&(e.isPainted()?e.refresh():e.on({painted:"refresh",single:!0}))},applyInline:function(t){return Ext.isObject(t)&&(t=Ext.apply({},t)),t
},updateInline:function(t,e){var i=this.getBaseCls();e&&this.removeCls([i+"-inlineblock",i+"-nowrap"]),t&&(this.addCls(i+"-inlineblock"),Ext.isObject(t)&&t.wrap===!1?this.addCls(i+"-nowrap"):this.removeCls(i+"-nowrap"))},prepareData:function(t){return t},onContainerTrigger:function(t){var e=this;t.target==e.element.dom&&e.getDeselectOnContainerClick()&&e.getStore()&&e.deselectAll()},onItemTrigger:function(t,e){this.isDestroyed||this.selectWithEvent(this.getStore().getAt(e))},doAddPressedCls:function(t){var e=this,i=e.getItemAt(e.getStore().indexOf(t));Ext.isElement(i)&&(i=Ext.get(i)),i&&(i.isComponent?i.renderElement.addCls(e.getPressedCls()):i.addCls(e.getPressedCls()))},onItemTouchStart:function(t,e,i,n){var r=this,s=r.getStore(),a=s&&s.getAt(i);r.fireAction("itemtouchstart",[r,i,e,a,n],"doItemTouchStart")},doItemTouchStart:function(t,e,i,n){var r=t.getPressedDelay();n&&(r>0?t.pressedTimeout=Ext.defer(t.doAddPressedCls,r,t,[n]):t.doAddPressedCls(n))},onItemTouchEnd:function(t,e,i,n){var r=this,s=r.getStore(),a=s&&s.getAt(i);this.hasOwnProperty("pressedTimeout")&&(clearTimeout(this.pressedTimeout),delete this.pressedTimeout),a&&e&&(e.isComponent?e.renderElement.removeCls(r.getPressedCls()):e.removeCls(r.getPressedCls())),r.fireEvent("itemtouchend",r,i,e,a,n)},onItemTouchMove:function(t,e,i,n){var r=this,s=r.getStore(),a=s&&s.getAt(i);r.hasOwnProperty("pressedTimeout")&&(clearTimeout(r.pressedTimeout),delete r.pressedTimeout),a&&e&&(e.isComponent?e.renderElement.removeCls(r.getPressedCls()):e.removeCls(r.getPressedCls())),r.fireEvent("itemtouchmove",r,i,e,a,n)},onItemTap:function(t,e,i,n){var r=this,s=r.getStore(),a=s&&s.getAt(i);r.fireEvent("itemtap",r,i,e,a,n)},onItemTapHold:function(t,e,i,n){var r=this,s=r.getStore(),a=s&&s.getAt(i);r.fireEvent("itemtaphold",r,i,e,a,n)},onItemSingleTap:function(t,e,i,n){var r=this,s=r.getStore(),a=s&&s.getAt(i);r.fireEvent("itemsingletap",r,i,e,a,n)},onItemDoubleTap:function(t,e,i,n){var r=this,s=r.getStore(),a=s&&s.getAt(i);r.fireEvent("itemdoubletap",r,i,e,a,n)},onItemSwipe:function(t,e,i,n){var r=this,s=r.getStore(),a=s&&s.getAt(i);r.fireEvent("itemswipe",r,i,e,a,n)},onItemSelect:function(t,e){var i=this;e?i.doItemSelect(i,t):i.fireAction("select",[i,t],"doItemSelect")},doItemSelect:function(t,e){if(t.container&&!t.isDestroyed){var i=t.getItemAt(t.getStore().indexOf(e));Ext.isElement(i)&&(i=Ext.get(i)),i&&(i.isComponent?(i.renderElement.removeCls(t.getPressedCls()),i.renderElement.addCls(t.getSelectedCls())):(i.removeCls(t.getPressedCls()),i.addCls(t.getSelectedCls())))}},onItemDeselect:function(t,e){var i=this;i.container&&!i.isDestroyed&&(e?i.doItemDeselect(i,t):i.fireAction("deselect",[i,t,e],"doItemDeselect"))},doItemDeselect:function(t,e){var i=t.getItemAt(t.getStore().indexOf(e));Ext.isElement(i)&&(i=Ext.get(i)),i&&(i.isComponent?i.renderElement.removeCls([t.getPressedCls(),t.getSelectedCls()]):i.removeCls([t.getPressedCls(),t.getSelectedCls()]))},updateData:function(t){var e=this.getStore();e?e.add(t):this.setStore(Ext.create("Ext.data.Store",{data:t,autoDestroy:!0}))},applyStore:function(t){var e,i,n=this,r=Ext.apply({},n.storeEventHooks,{scope:n});return t&&(t=Ext.data.StoreManager.lookup(t),t&&Ext.isObject(t)&&t.isStore?(t.on(r),e=t.getProxy(),e&&(i=e.getReader(),i&&i.on("exception","handleException",this))):Ext.Logger.warn("The specified Store cannot be found",this)),t},handleException:function(){this.setMasked(!1)},updateStore:function(t,e){var i,n,r=this,s=Ext.apply({},r.storeEventHooks,{scope:r});e&&Ext.isObject(e)&&e.isStore&&(e.un(s),r.isDestroyed||r.onStoreClear(),e.getAutoDestroy()?e.destroy():(i=e.getProxy(),i&&(n=i.getReader(),n&&n.un("exception","handleException",this)))),t&&(t.isLoaded()&&(this.hasLoadedStore=!0),t.isLoading()&&r.onBeforeLoad(),r.container&&r.refresh())},onBeforeLoad:function(){var t=this.getLoadingText();t&&this.isPainted()&&this.setMasked({xtype:"loadmask",message:t}),this.hideEmptyText()},updateEmptyText:function(t,e){var i,n=this;e&&n.emptyTextCmp&&(n.remove(n.emptyTextCmp,!0),delete n.emptyTextCmp),t&&(n.emptyTextCmp=n.add({xtype:"component",cls:n.getBaseCls()+"-emptytext",html:t,hidden:!0}),i=n.getStore(),i&&n.hasLoadedStore&&!i.getCount()&&this.showEmptyText())},onLoad:function(t){this.hasLoadedStore=!0,this.setMasked(!1),t.getCount()||this.showEmptyText()},refresh:function(){var t=this,e=t.container;return t.getStore()?void(e&&t.fireAction("refresh",[t],"doRefresh")):void(t.hasLoadedStore||t.getDeferEmptyText()||t.showEmptyText())},applyItemTpl:function(t){return Ext.isObject(t)&&t.isTemplate?t:new Ext.XTemplate(t)},onAfterRender:function(){var t=this;t.callParent(arguments),t.updateStore(t.getStore())},getItemAt:function(t){return this.getViewItems()[t-this.indexOffset]},getItemIndex:function(t){var e=this.getViewItems().indexOf(t);return-1===e?e:this.indexOffset+e},getViewItems:function(){return this.container.getViewItems()},doRefresh:function(t){var e,i,n=t.container,r=t.getStore(),s=r.getRange(),a=t.getViewItems(),o=s.length,l=a.length,u=o-l,h=t.getScrollable();if(this.getScrollToTopOnRefresh()&&h&&h.getScroller().scrollToTop(),1>o)return void t.onStoreClear();for(t.hideEmptyText(),0>u?(n.moveItemsToCache(l+u,l-1),a=t.getViewItems(),l=a.length):u>0&&n.moveItemsFromCache(r.getRange(l)),e=0;l>e;e++)i=a[e],n.updateListItem(s[e],i);if(this.hasSelection()){var c,d=this.getSelection(),f=this.getSelectionCount();for(e=0;f>e;e++)c=d[e],this.doItemSelect(this,c)}},showEmptyText:function(){!this.getEmptyText()||!this.hasLoadedStore&&this.getDeferEmptyText()||this.emptyTextCmp.show()},hideEmptyText:function(){this.getEmptyText()&&this.emptyTextCmp.hide()},destroy:function(){var t=this.getStore(),e=t&&t.getProxy(),i=e&&e.getReader();i&&i.clearListeners(),this.callParent(arguments),this.setStore(null)},onStoreClear:function(){var t=this,e=t.container,i=t.getViewItems();e.moveItemsToCache(0,i.length-1),this.showEmptyText()},onStoreAdd:function(t,e){e&&(this.hideEmptyText(),this.container.moveItemsFromCache(e))},onStoreRemove:function(t,e,i){var n,r=this.container,s=e.length;for(n=0;s>n;n++)r.moveItemsToCache(i[n],i[n])},onStoreUpdate:function(t,e,i,n){var r,s=this,a=s.container;n="undefined"==typeof n?i:n,n!==i?(a.updateAtNewIndex(n,i,e),s.isSelected(e)&&s.doItemSelect(s,e)):(r=s.getViewItems()[i],r&&a.updateListItem(e,r))}}),Ext.define("Ext.chart.Legend",{xtype:"legend",extend:Ext.dataview.DataView,config:{itemTpl:["<span class=\"x-legend-item-marker {[values.disabled?'x-legend-inactive':'']}\" style=\"background:{mark};\"></span>{name}"],baseCls:"x-legend",padding:5,disableSelection:!0,inline:!0,position:null,toggleable:!0,docked:"top",horizontalHeight:48,verticalWidth:150},constructor:function(){this.callSuper(arguments);var t=this.getScrollable().getScroller(),e=t.onDrag;t.onDrag=function(t){t.stopPropagation(),e.call(this,t)}},doSetDocked:function(t){this.callSuper(arguments),"top"===t||"bottom"===t?(this.setLayout({type:"hbox",pack:"center"}),this.setInline(!0),this.setWidth(null),this.setHeight(this.getHorizontalHeight()),this.getScrollable()&&this.setScrollable({direction:"horizontal"})):(this.setLayout({pack:"center"}),this.setInline(!1),this.setWidth(this.getVerticalWidth()),this.setHeight(null),this.getScrollable()&&this.setScrollable({direction:"vertical"}))},setScrollable:function(t){this.callSuper(arguments),t===!0&&("top"===this.getDocked()||"bottom"===this.getDocked()?this.setScrollable({direction:"horizontal"}):("left"===this.getDocked()||"right"===this.getDocked())&&this.setScrollable({direction:"vertical"}))},setPosition:function(t){this.setDocked(t)},getPosition:function(){return this.getDocked()},onItemTap:function(t,e,i){if(this.callSuper(arguments),this.getToggleable()){var n=this,r=n.getStore(),s=r&&r.getAt(i);s.beginEdit(),s.set("disabled",!s.get("disabled")),s.commit()}}}),Ext.define("Ext.data.SortTypes",{singleton:!0,stripTagsRE:/<\/?[^>]+>/gi,none:function(t){return t},asText:function(t){return String(t).replace(this.stripTagsRE,"")},asUCText:function(t){return String(t).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(t){return String(t).toUpperCase()},asDate:function(t){return t?Ext.isDate(t)?t.getTime():Date.parse(String(t)):0},asFloat:function(t){return t=parseFloat(String(t).replace(/,/g,"")),isNaN(t)?0:t},asInt:function(t){return t=parseInt(String(t).replace(/,/g,""),10),isNaN(t)?0:t}}),Ext.define("Ext.data.Types",{singleton:!0,stripRe:/[\$,%]/g,dashesRe:/-/g,iso8601TestRe:/\d\dT\d\d/,iso8601SplitRe:/[- :T\.Z\+]/},function(){var t=this,e=Ext.data.SortTypes;Ext.apply(t,{AUTO:{convert:function(t){return t},sortType:e.none,type:"auto"},STRING:{convert:function(t){return void 0===t||null===t?this.getAllowNull()?null:"":String(t)},sortType:e.asUCString,type:"string"},INT:{convert:function(e){return void 0!==e&&null!==e&&""!==e?"number"==typeof e?parseInt(e,10):parseInt(String(e).replace(t.stripRe,""),10):this.getAllowNull()?null:0},sortType:e.none,type:"int"},FLOAT:{convert:function(e){return void 0!==e&&null!==e&&""!==e?"number"==typeof e?e:parseFloat(String(e).replace(t.stripRe,""),10):this.getAllowNull()?null:0},sortType:e.none,type:"float"},BOOL:{convert:function(t){return void 0!==t&&null!==t&&""!==t||!this.getAllowNull()?"false"!==t&&"0"!==t&&!!t:null},sortType:e.none,type:"bool"},DATE:{convert:function(e){var i,n=this.getDateFormat();return e?Ext.isDate(e)?e:n?"timestamp"==n?new Date(1e3*e):"time"==n?new Date(parseInt(e,10)):Ext.Date.parse(e,n):(i=new Date(Date.parse(e)),isNaN(i)&&(t.iso8601TestRe.test(e)&&(i=e.split(t.iso8601SplitRe),i=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])),isNaN(i)&&(i=new Date(Date.parse(e.replace(t.dashesRe,"/"))),isNaN(i)&&Ext.Logger.warn("Cannot parse the passed value ("+e+") into a valid date"))),isNaN(i)?null:i):null},sortType:e.asDate,type:"date"}}),Ext.apply(t,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.Field",{alias:"data.field",isField:!0,config:{name:null,type:"auto",convert:void 0,dateFormat:null,allowNull:!0,defaultValue:void 0,mapping:null,sortType:void 0,sortDir:"ASC",allowBlank:!0,persist:!0,encode:null,decode:null,bubbleEvents:"action"},constructor:function(t){Ext.isString(t)&&(t={name:t}),this.initConfig(t)},applyType:function(t){var e=Ext.data.Types,i=e.AUTO;return t?Ext.isString(t)?e[t.toUpperCase()]||i:t:i},updateType:function(t,e){var i=this.getConvert();e&&i===e.convert&&this.setConvert(t.convert)},applySortType:function(t){var e=Ext.data.SortTypes,i=this.getType(),n=i.sortType;return t?Ext.isString(t)?e[t]||n:t:n},applyConvert:function(t){var e=this.getType().convert;return t&&t!==e?(this._hasCustomConvert=!0,t):(this._hasCustomConvert=!1,e)},hasCustomConvert:function(){return this._hasCustomConvert}}),Ext.define("Ext.data.identifier.Simple",{alias:"data.identifier.simple",statics:{AUTO_ID:1},config:{prefix:"ext-record-"},constructor:function(t){this.initConfig(t)},generate:function(){return this._prefix+this.self.AUTO_ID++}}),Ext.define("Ext.data.ModelManager",{extend:Ext.AbstractManager,alternateClassName:["Ext.ModelMgr","Ext.ModelManager"],singleton:!0,modelNamespace:null,registerType:function(t,e){var i,n=e.prototype;return n&&n.isModel?i=e:(e={extend:e.extend||"Ext.data.Model",config:e},i=Ext.define(t,e)),this.types[t]=i,i},onModelDefined:Ext.emptyFn,getModel:function(t){var e=t;return"string"==typeof e&&(e=this.types[e],!e&&this.modelNamespace&&(e=this.types[this.modelNamespace+"."+e])),e},create:function(t,e,i){var n="function"==typeof e?e:this.types[e||t.name];return new n(t,i)}},function(){Ext.regModel=function(){return Ext.Logger.deprecate('Ext.regModel has been deprecated. Models can now be created by extending Ext.data.Model: Ext.define("MyModel", {extend: "Ext.data.Model", fields: []});.'),this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.data.Request",{config:{action:null,params:null,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,jsonP:null,jsonData:null,xmlData:null,withCredentials:null,username:null,password:null,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(t){this.initConfig(t)}}),Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",config:{url:null,pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",sortParam:"sort",filterParam:"filter",directionParam:"dir",enablePagingParams:!0,simpleSortMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},constructor:function(t){t=t||{},void 0!==t.nocache&&(t.noCache=t.nocache,Ext.Logger.warn("nocache configuration on Ext.data.proxy.Server has been deprecated. Please use noCache.")),this.callParent([t])},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(t,e){this.getExtraParams()[t]=e},buildRequest:function(t){var e,i=this,n=Ext.applyIf(t.getParams()||{},i.getExtraParams()||{});return n=Ext.applyIf(n,i.getParams(t)),e=Ext.create("Ext.data.Request",{params:n,action:t.getAction(),records:t.getRecords(),url:t.getUrl(),operation:t,proxy:i}),e.setUrl(i.buildUrl(e)),t.setRequest(e),e},processResponse:function(t,e,i,n,r,s){var a,o,l=this,u=e.getAction();if(t===!0){a=l.getReader();try{o=a.process(l.getResponseResult(n))}catch(h){return e.setException(h.message),void l.fireEvent("exception",l,n,e)}e.getModel()||e.setModel(this.getModel()),e.process(u,o,i,n)===!1&&(l.setException(e,n),l.fireEvent("exception",l,n,e))}else l.setException(e,n),l.fireEvent("exception",this,n,e);"function"==typeof r&&r.call(s||l,e),l.afterRequest(i,t)},getResponseResult:function(t){return t},setException:function(t,e){Ext.isObject(e)&&t.setException({status:e.status,statusText:e.statusText})},applyEncoding:function(t){return Ext.encode(t)},encodeSorters:function(t){for(var e=[],i=t.length,n=0;i>n;n++)e[n]={property:t[n].getProperty(),direction:t[n].getDirection()};return this.applyEncoding(e)},encodeFilters:function(t){for(var e=[],i=t.length,n=0;i>n;n++)e[n]={property:t[n].getProperty(),value:t[n].getValue()};return this.applyEncoding(e)},getParams:function(t){var e=this,i={},n=t.getGrouper(),r=t.getSorters(),s=t.getFilters(),a=t.getPage(),o=t.getStart(),l=t.getLimit(),u=e.getSimpleSortMode(),h=e.getPageParam(),c=e.getStartParam(),d=e.getLimitParam(),f=e.getGroupParam(),g=e.getSortParam(),p=e.getFilterParam(),m=e.getDirectionParam();return e.getEnablePagingParams()&&(h&&null!==a&&(i[h]=a),c&&null!==o&&(i[c]=o),d&&null!==l&&(i[d]=l)),f&&n&&(i[f]=e.encodeSorters([n])),g&&r&&r.length>0&&(u?(i[g]=r[0].getProperty(),i[m]=r[0].getDirection()):i[g]=e.encodeSorters(r)),p&&s&&s.length>0&&(i[p]=e.encodeFilters(s)),i},buildUrl:function(t){var e=this,i=e.getUrl(t);return i||Ext.Logger.error("You are using a ServerProxy but have not supplied it with a url."),e.getNoCache()&&(i=Ext.urlAppend(i,Ext.String.format("{0}={1}",e.getCacheString(),Ext.Date.now()))),i},getUrl:function(t){return t?t.getUrl()||this.getApi()[t.getAction()]||this._url:this._url},doRequest:function(){Ext.Logger.error("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn}),Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],config:{withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},headers:{}},doRequest:function(t,e,i){var n=this,r=n.getWriter(),s=n.buildRequest(t);return s.setConfig({headers:n.getHeaders(),timeout:n.getTimeout(),method:n.getMethod(s),callback:n.createRequestCallback(s,t,e,i),scope:n,proxy:n,useDefaultXhrHeader:n.getUseDefaultXhrHeader()}),(t.getWithCredentials()||n.getWithCredentials())&&(s.setWithCredentials(!0),s.setUsername(n.getUsername()),s.setPassword(n.getPassword())),s=r.write(s),Ext.Ajax.request(s.getCurrentConfig()),s},getMethod:function(t){return this.getActionMethods()[t.getAction()]},createRequestCallback:function(t,e,i,n){var r=this;return function(s,a,o){r.processResponse(a,e,t,o,i,n)}}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",config:{ownerModel:null,ownerName:void 0,associatedModel:null,associatedName:void 0,associationKey:void 0,primaryKey:"id",reader:null,type:null,name:void 0},statics:{create:function(t){return t.isAssociation?t:(Ext.isString(t)&&(t={type:t}),t.type=t.type.toLowerCase(),Ext.factory(t,Ext.data.association.Association,null,"association"))}},constructor:function(t){this.initConfig(t)},applyName:function(t){return t||(t=this.getAssociatedName()),t},applyOwnerModel:function(t){var e=Ext.data.ModelManager.getModel(t);return void 0===e&&Ext.Logger.error("The configured ownerModel was not valid (you tried "+t+")"),e},applyOwnerName:function(t){return t||(t=this.getOwnerModel().modelName),t=t.slice(t.lastIndexOf(".")+1)},updateOwnerModel:function(t,e){e&&this.setOwnerName(t.modelName)},applyAssociatedModel:function(t){var e=Ext.data.ModelManager.types[t];return void 0===e&&Ext.Logger.error("The configured associatedModel was not valid (you tried "+t+")"),e},applyAssociatedName:function(t){return t||(t=this.getAssociatedModel().modelName),t=t.slice(t.lastIndexOf(".")+1)},updateAssociatedModel:function(t,e){e&&this.setAssociatedName(t.modelName)},applyReader:function(t){return t&&(Ext.isString(t)&&(t={type:t}),t.isReader||Ext.applyIf(t,{type:"json"})),Ext.factory(t,Ext.data.Reader,this.getReader(),"reader")},updateReader:function(t){t.setModel(this.getAssociatedModel())}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(t,e){this.singulars.unshift([t,e])},plural:function(t,e){this.plurals.unshift([t,e])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(t){return-1!=Ext.Array.indexOf(this.uncountable,t)},pluralize:function(t){if(this.isTransnumeral(t))return t;var e,i,n,r=this.plurals,s=r.length;for(n=0;s>n;n++)if(e=r[n],i=e[0],i==t||i.test&&i.test(t))return t.replace(i,e[1]);return t},singularize:function(t){if(this.isTransnumeral(t))return t;var e,i,n,r=this.singulars,s=r.length;for(n=0;s>n;n++)if(e=r[n],i=e[0],i==t||i.test&&i.test(t))return t.replace(i,e[1]);return t},classify:function(t){return Ext.String.capitalize(this.singularize(t))},ordinalize:function(t){var e=parseInt(t,10),i=e%10,n=e%100;if(n>=11&&13>=n)return t+"th";switch(i){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd";default:return t+"th"}}},function(){var t,e={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(t in e)this.plural(t,e[t]),this.singular(e[t],t)}),Ext.define("Ext.data.association.HasMany",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasManyAssociation",alias:"association.hasmany",config:{foreignKey:void 0,store:void 0,storeName:void 0,filterProperty:null,autoLoad:!1,autoSync:!1},constructor:function(t){t=t||{},t.storeConfig&&(Ext.Logger.warn("storeConfig is deprecated on an association. Instead use the store configuration."),t.store=t.storeConfig,delete t.storeConfig),this.callParent([t])},applyName:function(t){return t||(t=Ext.util.Inflector.pluralize(this.getAssociatedName().toLowerCase())),t},applyStoreName:function(t){return t||(t=this.getName()+"Store"),t},applyForeignKey:function(t){if(!t){var e=this.getInverseAssociation();t=e?e.getForeignKey():this.getOwnerName().toLowerCase()+"_id"}return t},applyAssociationKey:function(t){if(!t){var e=this.getAssociatedName();t=Ext.util.Inflector.pluralize(e[0].toLowerCase()+e.slice(1))}return t},updateForeignKey:function(t,e){var i=this.getAssociatedModel().getFields(),n=i.get(t);n||(n=new Ext.data.Field({name:t}),i.add(n),i.isDirty=!0),e&&(n=i.get(e),n&&(i.remove(n),i.isDirty=!0))},applyStore:function(t){var e=this,i=e.getAssociatedModel(),n=e.getStoreName(),r=e.getForeignKey(),s=e.getPrimaryKey(),a=e.getFilterProperty(),o=e.getAutoLoad(),l=e.getAutoSync();return function(){var u,h,c,d=this,f={},g={addrecords:e.onAddRecords,removerecords:e.onRemoveRecords,scope:e};return void 0===d[n]&&(h=a?{property:a,value:d.get(a),exactMatch:!0}:{property:r,value:d.get(s),exactMatch:!0},f[r]=d.get(s),u=Ext.apply({},t,{model:i,filters:[h],remoteFilter:!0,autoSync:l,modelDefaults:f}),c=d[n]=Ext.create("Ext.data.Store",u),c.boundTo=d,c.onAfter(g),o&&d[n].load()),d[n]}},onAddRecords:function(t,e){var i,n,r=e.length,s=t.boundTo.getId();for(i=0;r>i;i++)n=e[i],n.set(this.getForeignKey(),s);this.updateInverseInstances(t.boundTo)},onRemoveRecords:function(t,e){var i,n,r=e.length;for(i=0;r>i;i++)n=e[i],n.set(this.getForeignKey(),null)},updateStore:function(t){this.getOwnerModel().prototype[this.getName()]=t},read:function(t,e,i){var n=t[this.getName()](),r=e.read(i).getRecords();n.add(r)},updateInverseInstances:function(t){var e=t[this.getName()](),i=this.getInverseAssociation();i&&e.each(function(e){e[i.getInstanceName()]=t})},getInverseAssociation:function(){var t=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(e){return"belongsto"===e.getType().toLowerCase()&&e.getAssociatedModel().modelName===t})}}),Ext.define("Ext.data.association.BelongsTo",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",config:{foreignKey:void 0,getterName:void 0,setterName:void 0,instanceName:void 0},applyForeignKey:function(t){return t||(t=this.getAssociatedName().toLowerCase()+"_id"),t},updateForeignKey:function(t,e){var i=this.getOwnerModel().getFields(),n=i.get(t);n||(n=new Ext.data.Field({name:t}),i.add(n),i.isDirty=!0),e&&(n=i.get(e),n&&(i.isDirty=!0,i.remove(n)))},applyInstanceName:function(t){return t||(t=this.getAssociatedName()+"BelongsToInstance"),t},applyAssociationKey:function(t){if(!t){var e=this.getAssociatedName();t=e[0].toLowerCase()+e.slice(1)}return t},applyGetterName:function(t){if(!t){var e=this.getAssociatedName();t="get"+e[0].toUpperCase()+e.slice(1)}return t},applySetterName:function(t){if(!t){var e=this.getAssociatedName();t="set"+e[0].toUpperCase()+e.slice(1)}return t},updateGetterName:function(t,e){var i=this.getOwnerModel().prototype;e&&delete i[e],t&&(i[t]=this.createGetter())},updateSetterName:function(t,e){var i=this.getOwnerModel().prototype;e&&delete i[e],t&&(i[t]=this.createSetter())},createSetter:function(){var t,e,i,n=this,r=n.getForeignKey(),s=n.getAssociatedModel();return function(a,o,l){var u=n.getInverseAssociation(),h=this;return a&&a.isModel&&(a=a.getId()),Ext.isFunction(o)&&(o={callback:o,scope:l||h}),delete h[n.getInstanceName()],t=Ext.data.Model.cache[Ext.data.Model.generateCacheId(s.modelName,this.get(r))],e=Ext.data.Model.cache[Ext.data.Model.generateCacheId(s.modelName,a)],h.set(r,a),u&&(e&&("hasmany"===u.getType().toLowerCase()?(i=e[u.getName()](),i.add(h)):e[u.getInstanceName()]=h),t&&("hasmany"===u.getType().toLowerCase()?(i=t[u.getName()](),i.remove(h)):delete a[u.getInstanceName()])),e&&(h[n.getInstanceName()]=e),Ext.isObject(o)?h.save(o):h}},createGetter:function(){var t=this,e=t.getAssociatedModel(),i=t.getForeignKey(),n=t.getInstanceName();return function(t,r){t=t||{};var s,a,o,l=this,u=l.get(i);return a=l[n],a||(a=Ext.data.Model.cache[Ext.data.Model.generateCacheId(e.modelName,u)],a&&(l[n]=a)),t.reload!==!0&&void 0!==a?(o=[a],r=r||l,Ext.callback(t,r,o),Ext.callback(t.success,r,o),Ext.callback(t.failure,r,o),Ext.callback(t.callback,r,o),a):("function"==typeof t&&(t={callback:t,scope:r||l}),s=t.success,t.success=function(t){l[n]=t,s&&s.apply(this,arguments)},e.load(u,t),void 0)}},read:function(t,e,i){t[this.getInstanceName()]=e.read([i]).getRecords()[0]},getInverseAssociation:function(){var t=this.getOwnerModel().modelName,e=this.getForeignKey();return this.getAssociatedModel().associations.findBy(function(i){var n=i.getType().toLowerCase();return("hasmany"===n||"hasone"===n)&&i.getAssociatedModel().modelName===t&&i.getForeignKey()===e})}}),Ext.define("Ext.data.association.HasOne",{extend:Ext.data.association.Association,alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",config:{foreignKey:void 0,getterName:void 0,setterName:void 0,instanceName:void 0},applyForeignKey:function(t){if(!t){var e=this.getInverseAssociation();t=e?e.getForeignKey():this.getAssociatedName().toLowerCase()+"_id"}return t},updateForeignKey:function(t,e){var i=this.getOwnerModel().getFields(),n=i.get(t);n||(n=new Ext.data.Field({name:t}),i.add(n),i.isDirty=!0),e&&(n=i.get(e),n&&(i.remove(n),i.isDirty=!0))},applyInstanceName:function(t){return t||(t=this.getAssociatedName()+"HasOneInstance"),t},applyAssociationKey:function(t){if(!t){var e=this.getAssociatedName();t=e[0].toLowerCase()+e.slice(1)}return t},applyGetterName:function(t){if(!t){var e=this.getAssociatedName();t="get"+e[0].toUpperCase()+e.slice(1)}return t},applySetterName:function(t){if(!t){var e=this.getAssociatedName();t="set"+e[0].toUpperCase()+e.slice(1)}return t},updateGetterName:function(t,e){var i=this.getOwnerModel().prototype;e&&delete i[e],t&&(i[t]=this.createGetter())},updateSetterName:function(t,e){var i=this.getOwnerModel().prototype;e&&delete i[e],t&&(i[t]=this.createSetter())},createSetter:function(){var t=this,e=t.getForeignKey(),i=t.getInstanceName(),n=t.getAssociatedModel();return function(t,r,s){var a,o=Ext.data.Model;return t&&t.isModel&&(t=t.getId()),this.set(e,t),t||0===t?(a=o.cache[o.generateCacheId(n.modelName,t)],a&&(this[i]=a)):delete this[i],Ext.isFunction(r)&&(r={callback:r,scope:s||this}),Ext.isObject(r)?this.save(r):this}},createGetter:function(){var t=this,e=t.getAssociatedModel(),i=t.getForeignKey(),n=t.getInstanceName();return function(t,r){t=t||{};var s,a,o,l=this,u=l.get(i);return t.reload!==!0&&void 0!==l[n]?(a=l[n],o=[a],r=r||l,Ext.callback(t,r,o),Ext.callback(t.success,r,o),Ext.callback(t.failure,r,o),Ext.callback(t.callback,r,o),a):("function"==typeof t&&(t={callback:t,scope:r||l}),s=t.success,t.success=function(t){l[n]=t,s&&s.apply(this,arguments)},e.load(u,t),void 0)}},read:function(t,e,i){var n=this.getInverseAssociation(),r=e.read([i]).getRecords()[0];t[this.getSetterName()].call(t,r),n&&(r[n.getInstanceName()]=t)},getInverseAssociation:function(){var t=this.getOwnerModel().modelName;return this.getAssociatedModel().associations.findBy(function(e){return"belongsto"===e.getType().toLowerCase()&&e.getAssociatedModel().modelName===t})}}),Ext.define("Ext.data.Error",{config:{field:null,message:""},constructor:function(t){this.initConfig(t)}}),Ext.define("Ext.data.Errors",{extend:Ext.util.Collection,isValid:function(){return 0===this.length},getByField:function(t){var e,i,n=[];for(i=0;i<this.length;i++)e=this.items[i],e.getField()==t&&n.push(e);return n},add:function(){var t=1==arguments.length?arguments[0]:arguments[1];return t instanceof Ext.data.Error||(t=Ext.create("Ext.data.Error",{field:t.field||t.name,message:t.error||t.message})),this.callParent([t])}}),Ext.define("Ext.data.Validations",{alternateClassName:"Ext.data.validations",singleton:!0,config:{presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address"},constructor:function(t){this.initConfig(t)},getMessage:function(t){var e=this["get"+t[0].toUpperCase()+t.slice(1)+"Message"];return e?e.call(this):""},emailRe:/^\s*[\w\-\+_]+(\.[\w\-\+_]+)*\@[\w\-\+_]+\.[\w\-\+_]+(\.[\w\-\+_]+)*\s*$/,presence:function(t,e){return 1===arguments.length&&(e=t),!!e||0===e},length:function(t,e){if(void 0===e||null===e)return!1;var i=e.length,n=t.min,r=t.max;return n&&n>i||r&&i>r?!1:!0},email:function(t,e){return Ext.data.validations.emailRe.test(e)},format:function(t,e){return(void 0===e||null===e)&&(e=""),!(!t.matcher||!t.matcher.test(e))},inclusion:function(t,e){return t.list&&-1!=Ext.Array.indexOf(t.list,e)},exclusion:function(t,e){return t.list&&-1==Ext.Array.indexOf(t.list,e)}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:Ext.mixin.Observable},isModel:!0,config:{idProperty:"id",data:null,fields:void 0,validations:null,associations:null,hasMany:null,hasOne:null,belongsTo:null,proxy:null,identifier:{type:"simple"},clientIdProperty:"clientId",isErased:!1,useCache:!0},staticConfigs:["idProperty","fields","validations","associations","hasMany","hasOne","belongsTo","clientIdProperty","identifier","useCache","proxy"],statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",cache:{},generateProxyMethod:function(t){return function(){var e=this.prototype;return e[t].apply(e,arguments)}},generateCacheId:function(t,e){var i;return t&&t.isModel?(i=t.modelName,void 0===e&&(e=t.getId())):i=t,i.replace(/\./g,"-").toLowerCase()+"-"+e}},inheritableStatics:{load:function(t,e,i){var n,r,s=this.getProxy(),a=this.getIdProperty(),o=null,l={};i=i||e&&e.scope||this,Ext.isFunction(e)&&(e={callback:e,scope:i}),l[a]=t,e=Ext.apply({},e),e=Ext.applyIf(e,{action:"read",params:l,model:this}),r=Ext.create("Ext.data.Operation",e),s||Ext.Logger.error("You are trying to load a model that doesn't have a Proxy specified"),n=function(t){t.wasSuccessful()?(o=t.getRecords()[0]||null,Ext.callback(e.success,i,[o,t])):Ext.callback(e.failure,i,[o,t]),Ext.callback(e.callback,i,[o,t])},s.read(r,n,this)}},editing:!1,dirty:!1,phantom:!1,constructor:function(t,e,i,n){var r=this,s=null,a=r.getUseCache(),o=r.getIdProperty();return t=t||n||{},(e||0===e)&&(t[o]=r.internalId=e),e=t[o],a&&(e||0===e)&&(s=Ext.data.Model.cache[Ext.data.Model.generateCacheId(this,e)])?(s.raw=i||s.raw,s.mergeData(n||t||{})):(r.modified={},r.raw=i||t||{},r.stores=[],n?r.setConvertedData(t):r.setData(t),r.id=r.getIdentifier().generate(r),e=r.data[o],e||0===e?this.internalId=e:(r.data[o]=r.internalId=r.id,r.phantom=!0,this.associations.length&&this.handleInlineAssociationData(t)),a&&(Ext.data.Model.cache[Ext.data.Model.generateCacheId(r)]=r),void(this.init&&"function"==typeof this.init&&this.init()))
},mergeData:function(t){var e,i,n,r,s=this,a=s.getFields().items,o=a.length,l=s.modified,u=[],h=s.data;for(e=0;o>e;e++)i=a[e],n=i._name,r=t[n],void 0===r||l.hasOwnProperty(n)?Ext.isFunction(i._convert)&&(r=i._convert(r,s),h[n]=r):(i._convert&&(r=i._convert(r,s)),h[n]!==r&&(0!==u.length||s.editing||this.beginEdit(),u.push(n)),h[n]=r);return s.associations.length&&s.handleInlineAssociationData(t),u.length>0&&s.editing&&this.endEdit(!1,u),this},setData:function(t){var e,i,n,r,s,a,o=this,l=o.fields.items,u=l.length,h=Ext.isArray(t),c=o._data=o.data={};if(!t)return o;for(e=0;u>e;e++)i=l[e],n=i._name,s=i._convert,h?r=t[e]:(r=t[n],"undefined"==typeof r&&(r=i._defaultValue)),s&&(r=i._convert(r,o)),c[n]=r;return a=o.getId(),o.associations.length&&(a||0===a)&&o.handleInlineAssociationData(t),o},handleInlineAssociationData:function(t){var e,i,n,r,s,a,o=this.associations.items,l=o.length;for(t=Ext.apply({},t,this.raw),e=0;l>e;e++)i=o[e],a=i.getAssociationKey(),n=t[a],n&&(r=i.getReader(),r||(s=i.getAssociatedModel().getProxy(),r=s?s.getReader():new Ext.data.JsonReader({model:i.getAssociatedModel()})),i.read(this,r,n))},setId:function(t){var e=this.getId();this.set(this.getIdProperty(),t),this.internalId=t,this.getUseCache()&&(delete Ext.data.Model.cache[Ext.data.Model.generateCacheId(this,e)],Ext.data.Model.cache[Ext.data.Model.generateCacheId(this)]=this)},getId:function(){return this.get(this.getIdProperty())},setConvertedData:function(t){return this._data=this.data=t,this},get:function(t){return this.data[t]},set:function(t,e){var i,n,r,s,a,o,l=this,u=l.fields.map,h=l.modified,c=!l.editing,d=0,f=[];if(1==arguments.length){for(n in t)if(t.hasOwnProperty(n)){if(i=u[n],i&&i.hasCustomConvert()){f.push(n);continue}!d&&c&&l.beginEdit(),++d,l.set(n,t[n])}if(a=f.length)for(!d&&c&&l.beginEdit(),d+=a,r=0;a>r;r++)i=f[r],l.set(i,t[i]);c&&d&&l.endEdit(!1,f)}else if(h){if(i=u[t],o=i&&i.getConvert(),o&&(e=o.call(i,e,l)),s=l.data[t],l.data[t]=e,i&&!l.isEqual(s,e))if(h.hasOwnProperty(t)){if(l.isEqual(h[t],e)){delete h[t],l.dirty=!1;for(n in h)if(h.hasOwnProperty(n)){l.dirty=!0;break}}}else l.dirty=!0,h[t]=s;c&&l.afterEdit([t],h)}},isEqual:function(t,e){return Ext.isDate(t)&&Ext.isDate(e)?t.getTime()===e.getTime():t===e},beginEdit:function(){var t=this;t.editing||(t.editing=!0,t.dirtySave=t.dirty,t.dataSave=Ext.apply({},t.data),t.modifiedSave=Ext.apply({},t.modified))},cancelEdit:function(){var t=this;t.editing&&(t.editing=!1,t.modified=t.modifiedSave,t.data=t.dataSave,t.dirty=t.dirtySave,delete t.modifiedSave,delete t.dataSave,delete t.dirtySave)},endEdit:function(t,e){var i=this;i.editing&&(i.editing=!1,t!==!0&&i.changedWhileEditing()&&i.afterEdit(e||Ext.Object.getKeys(this.modified),this.modified),delete i.modifiedSave,delete i.dataSave,delete i.dirtySave)},changedWhileEditing:function(){var t,e=this,i=e.dataSave,n=e.data;for(t in n)if(n.hasOwnProperty(t)&&!e.isEqual(n[t],i[t]))return!0;return!1},getChanges:function(){var t,e=this.modified,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=this.get(t));return i},isModified:function(t){return this.modified.hasOwnProperty(t)},save:function(t,e){var i,n,r=this,s=r.phantom?"create":"update",a=r.getProxy();return a||Ext.Logger.error("You are trying to save a model instance that doesn't have a Proxy specified"),t=t||{},e=e||r,Ext.isFunction(t)&&(t={callback:t,scope:e}),Ext.applyIf(t,{records:[r],action:s,model:r.self}),i=Ext.create("Ext.data.Operation",t),n=function(i){i.wasSuccessful()?Ext.callback(t.success,e,[r,i]):Ext.callback(t.failure,e,[r,i]),Ext.callback(t.callback,e,[r,i])},a[s](i,n,r),r},erase:function(t,e){var i,n,r=this,s=this.getProxy();return s||Ext.Logger.error("You are trying to erase a model instance that doesn't have a Proxy specified"),t=t||{},e=e||r,Ext.isFunction(t)&&(t={callback:t,scope:e}),Ext.applyIf(t,{records:[r],action:"destroy",model:this.self}),i=Ext.create("Ext.data.Operation",t),n=function(i){i.wasSuccessful()?Ext.callback(t.success,e,[r,i]):Ext.callback(t.failure,e,[r,i]),Ext.callback(t.callback,e,[r,i])},s.destroy(i,n,r),r},reject:function(t){var e,i=this,n=i.modified;for(e in n)n.hasOwnProperty(e)&&"function"!=typeof n[e]&&(i.data[e]=n[e]);i.dirty=!1,i.editing=!1,i.modified={},t!==!0&&i.afterReject()},commit:function(t){var e=this,i=this.modified;e.phantom=e.dirty=e.editing=!1,e.modified={},t!==!0&&e.afterCommit(i)},afterEdit:function(t,e){this.notifyStores("afterEdit",t,e)},afterReject:function(){this.notifyStores("afterReject")},afterCommit:function(t){this.notifyStores("afterCommit",Ext.Object.getKeys(t||{}),t)},notifyStores:function(t){var e=Ext.Array.clone(arguments),i=this.stores;if(Ext.isArray(i)){var n,r,s=i.length;for(e[0]=this,n=0;s>n;++n)r=i[n],void 0!==r&&"function"==typeof r[t]&&r[t].apply(r,e)}},copy:function(t){var e=this,i=e.getIdProperty(),n=Ext.apply({},e.raw),r=Ext.apply({},e.data);return delete n[i],delete r[i],new e.self(null,t,n,r)},getData:function(t){var e=this.data;return t===!0&&Ext.apply(e,this.getAssociatedData()),e},getAssociatedData:function(){return this.prepareAssociatedData(this,[],null)},prepareAssociatedData:function(t,e,i){var n,r,s,a,o,l,u,h,c,d,f,g,p=t.associations.items,m=p.length,x={},E=[];for(h=0;m>h;h++)if(l=p[h],r=l.getName(),d=l.getType(),f=!0,i&&(f=d==i),f&&"hasmany"==d.toLowerCase()){if(n=t[l.getStoreName()],x[r]=[],n&&n.getCount()>0){for(s=n.data.items,o=s.length,E.length=0,c=0;o>c;c++)a=s[c],u=a.id,-1==Ext.Array.indexOf(e,u)&&(e.push(u),x[r][c]=a.getData(),E.push({associationName:r,j:c,associatedRecord:a,ids:e,associationType:i}));for(;E.length>0;)g=E.shift(),Ext.apply(x[g.associationName][g.j],this.prepareAssociatedData(g.associatedRecord,g.ids,g.associationType))}}else!f||"belongsto"!=d.toLowerCase()&&"hasone"!=d.toLowerCase()||(a=t[l.getInstanceName()],void 0!==a&&(u=a.id,-1===Ext.Array.indexOf(e,u)&&(e.push(u),x[r]=a.getData(),Ext.apply(x[r],this.prepareAssociatedData(a,e,i)))));return x},join:function(t){Ext.Array.include(this.stores,t)},unjoin:function(t){Ext.Array.remove(this.stores,t)},setDirty:function(){var t,e=this;e.dirty=!0,e.fields.each(function(i){i.getPersist()&&(t=i.getName(),e.modified[t]=e.get(t))})},validate:function(){var t,e,i,n,r,s,a=Ext.create("Ext.data.Errors"),o=this.getValidations().items,l=Ext.data.Validations;if(o)for(t=o.length,s=0;t>s;s++)e=o[s],i=e.field||e.name,r=e.type,n=l[r](e,this.get(i)),n||a.add(Ext.create("Ext.data.Error",{field:i,message:e.message||l.getMessage(r)}));return a},isValid:function(){return this.validate().isValid()},toUrl:function(){var t=this.$className.split("."),e=t[t.length-1].toLowerCase();return e+"/"+this.getId()},destroy:function(){var t=this;t.notifyStores("afterErase",t),t.getUseCache()&&delete Ext.data.Model.cache[Ext.data.Model.generateCacheId(t)],t.raw=t.stores=t.modified=null,t.callParent(arguments)},markDirty:function(){return Ext.isDefined(Ext.Logger)&&Ext.Logger.deprecate("Ext.data.Model: markDirty has been deprecated. Use setDirty instead."),this.setDirty.apply(this,arguments)},applyProxy:function(t,e){return Ext.factory(t,Ext.data.Proxy,e,"proxy")},updateProxy:function(t){t&&t.setModel(this.self)},applyAssociations:function(t){t&&this.addAssociations(t,"hasMany")},applyBelongsTo:function(t){t&&this.addAssociations(t,"belongsTo")},applyHasMany:function(t){t&&this.addAssociations(t,"hasMany")},applyHasOne:function(t){t&&this.addAssociations(t,"hasOne")},addAssociations:function(t,e){var i,n,r,s,a=this.self.modelName,o=this.self.associations;for(t=Ext.Array.from(t),n=0,i=t.length;i>n;n++)r=t[n],Ext.isObject(r)||(r={model:r}),Ext.applyIf(r,{type:e,ownerModel:a,associatedModel:r.model}),delete r.model,s=Ext.Function.bind(function(){o.add(Ext.data.association.Association.create(this))},r),Ext.ClassManager.onCreated(s,this,"string"==typeof r.associatedModel?r.associatedModel:Ext.getClassName(r.associatedModel))},applyValidations:function(t){t&&(Ext.isArray(t)||(t=[t]),this.addValidations(t))},addValidations:function(t){this.self.validations.addAll(t)},applyFields:function(t){var e=this.superclass.fields;return e&&(t=e.items.concat(t||[])),t||[]},updateFields:function(t){var e,i,n,r,s=t.length,a=this,o=a.self.prototype,l=this.getIdProperty();for(i=a._fields=a.fields=new Ext.util.Collection(o.getFieldName),r=0;s>r;r++)n=t[r],n.isField||(n=new Ext.data.Field(t[r])),i.add(n);e=i.get(l),e?e.setType("auto"):i.add(new Ext.data.Field(l)),i.addSorter(o.sortConvertFields)},applyIdentifier:function(t){return"string"==typeof t&&(t={type:t}),Ext.factory(t,Ext.data.identifier.Simple,this.getIdentifier(),"data.identifier")},getFieldName:function(t){return t.getName()},sortConvertFields:function(t,e){var i=t.hasCustomConvert(),n=e.hasCustomConvert();return i&&!n?1:!i&&n?-1:0},onClassExtended:function(t,e,i){var n=i.onBeforeCreated,r=this,s=r.prototype,a=Ext.Class.configNameCache,o=s.staticConfigs.concat(e.staticConfigs||[]),l=(s.config,e.config||{});e.config=l,i.onBeforeCreated=function(t,e){var s,l,u,h,c,d=[],f=t.prototype,g={},p=f.config,m=o.length,x=["set","get"],E=x.length,y=p.associations||[],v=Ext.getClassName(t);for(u=0;m>u;u++)for(s=o[u],h=0;E>h;h++)l=a[s][x[h]],l in f&&(g[l]=r.generateProxyMethod(l));for(t.addStatics(g),t.modelName=v,f.modelName=v,p.belongsTo&&d.push("association.belongsto"),p.hasMany&&d.push("association.hasmany"),p.hasOne&&d.push("association.hasone"),u=0,c=y.length;c>u;++u)d.push("association."+y[u].type.toLowerCase());p.identifier&&("string"==typeof p.identifier?d.push("data.identifier."+p.identifier):"string"==typeof p.identifier.type&&d.push("data.identifier."+p.identifier.type)),p.proxy&&("string"==typeof p.proxy?d.push("proxy."+p.proxy):"string"==typeof p.proxy.type&&d.push("proxy."+p.proxy.type)),p.validations&&d.push("Ext.data.Validations"),Ext.require(d,function(){Ext.Function.interceptBefore(i,"onCreated",function(){Ext.data.ModelManager.registerType(v,t);var e=t.prototype.superclass;t.prototype.associations=t.associations=t.prototype._associations=e&&e.associations?e.associations.clone():new Ext.util.Collection(function(t){return t.getName()}),t.prototype.validations=t.validations=t.prototype._validations=e&&e.validations?e.validations.clone():new Ext.util.Collection(function(t){return t.field?t.field+"-"+t.type:t.name+"-"+t.type}),t.prototype=Ext.Object.chain(t.prototype),t.prototype.initConfig.call(t.prototype,p),delete t.prototype.initConfig}),n.call(r,t,e,i)})}}}),Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:!0,config:{groupFn:null,sortProperty:null,sorterFn:function(t,e){var i,n,r,s=this.getSortProperty();return i=this.getGroupFn(),n=i.call(this,t),r=i.call(this,e),s?n!==r?this.defaultSortFn.call(this,t,e):0:n>r?1:r>n?-1:0}},defaultSortFn:function(t,e){var i,n,r=this,s=r._transform,a=r._root,o=r._sortProperty;return null!==a&&(t=t[a],e=e[a]),i=t[o],n=e[o],s&&(i=s(i),n=s(n)),i>n?1:n>i?-1:0},updateProperty:function(){this.setGroupFn(this.standardGroupFn)},standardGroupFn:function(t){var e=this.getRoot(),i=this.getProperty(),n=t;return e&&(n=t[e]),n[i]},getGroupString:function(t){var e=this.getGroupFn().call(this,t);return null!==e&&"undefined"!=typeof e?e.toString():""}}),Ext.define("Ext.data.Store",{alias:"store.store",extend:Ext.Evented,statics:{create:function(t){return t.isStore||(t.type||(t.type="store"),t=Ext.createByAlias("store."+t.type,t)),t}},isStore:!0,config:{storeId:void 0,data:null,autoLoad:null,autoSync:!1,model:void 0,proxy:void 0,fields:null,remoteSort:!1,remoteFilter:!1,remoteGroup:!1,filters:null,sorters:null,grouper:null,groupField:null,groupDir:null,getGroupString:null,pageSize:25,totalCount:null,clearOnPageLoad:!0,params:{},modelDefaults:{},autoDestroy:!1,syncRemovedRecords:!0,destroyRemovedRecords:!0,buffered:!1,plugins:null},currentPage:1,constructor:function(t){t=t||{},this.data=this._data=this.createDataCollection(),this.data.setSortRoot("data"),this.data.setFilterRoot("data"),this.removed=[],t.id&&!t.storeId&&(t.storeId=t.id,delete t.id),this.initConfig(t),this.callParent(arguments)},applyPlugins:function(t){var e,i,n;if(!t)return t;for(t=[].concat(t),i=0,e=t.length;e>i;i++)n=t[i],t[i]=Ext.factory(n,"Ext.plugin.Plugin",null,"plugin");return t},updatePlugins:function(t,e){var i,n;if(t)for(n=0,i=t.length;i>n;n++)t[n].init(this);if(e)for(n=0,i=e.length;i>n;n++)Ext.destroy(e[n])},createDataCollection:function(){return new Ext.util.Collection(function(t){return t.getId()})},applyStoreId:function(t){return(void 0===t||null===t)&&(t=this.getUniqueId()),t},updateStoreId:function(t,e){e&&Ext.data.StoreManager.unregister(this),t&&Ext.data.StoreManager.register(this)},applyModel:function(t){if("string"==typeof t){var e=Ext.data.ModelManager.getModel(t);e||Ext.Logger.error('Model with name "'+t+'" does not exist.'),t=e}if(t&&!t.prototype.isModel&&Ext.isObject(t)&&(t=Ext.data.ModelManager.registerType(t.storeId||t.id||Ext.id(),t)),!t){var i=this.getFields(),n=this.config.data;!i&&n&&n.length&&(i=Ext.Object.getKeys(n[0])),i&&(t=Ext.define("Ext.data.Store.ImplicitModel-"+(this.getStoreId()||Ext.id()),{extend:"Ext.data.Model",config:{fields:i,useCache:!1,proxy:this.getProxy()}}),this.implicitModel=!0)}return!t&&this.getProxy()&&(t=this.getProxy().getModel()),t||Ext.Logger.warn("Unless you define your model through metadata, a store needs to have a model defined on either itself or on its proxy"),t},updateModel:function(t){var e=this.getProxy();e&&!e.getModel()&&e.setModel(t)},applyProxy:function(t,e){return t=Ext.factory(t,Ext.data.Proxy,e,"proxy"),!t&&this.getModel()&&(t=this.getModel().getProxy()),t||(t=new Ext.data.proxy.Memory({model:this.getModel()})),t.isMemoryProxy&&this.setSyncRemovedRecords(!1),t},updateProxy:function(t,e){t&&(t.getModel()||t.setModel(this.getModel()),t.on("metachange","onMetaChange",this)),e&&t.un("metachange","onMetaChange",this)},applyData:function(t){var e,i=this;if(t){if(e=i.getProxy(),e instanceof Ext.data.proxy.Memory)return e.setData(t),void i.load();i.removeAll(!0),i.fireEvent("clear",i),i.suspendEvents(),i.add(t),i.resumeEvents(),i.dataLoaded=!0}else i.removeAll(!0),i.fireEvent("clear",i);i.fireEvent("refresh",i,i.data)},clearData:function(){this.setData(null)},addData:function(t){var e=this.getProxy().getReader(),i=e.read(t),n=i.getRecords();this.add(n)},updateAutoLoad:function(t){var e=this.getProxy();t&&e&&!e.isMemoryProxy&&this.load(Ext.isObject(t)?t:null)},isAutoLoading:function(){var t=this.getProxy();return this.getAutoLoad()||t&&t.isMemoryProxy||this.dataLoaded},updateGroupField:function(t){var e=this.getGrouper();t?e?e.setProperty(t):this.setGrouper({property:t,direction:this.getGroupDir()||"ASC"}):e&&this.setGrouper(null)},updateGroupDir:function(t){var e=this.getGrouper();e&&e.setDirection(t)},applyGetGroupString:function(t){var e=this.getGrouper();t?(Ext.Logger.warn("Specifying getGroupString on a store has been deprecated. Please use grouper: {groupFn: yourFunction}"),e?e.setGroupFn(t):this.setGrouper({groupFn:t})):e&&this.setGrouper(null)},applyGrouper:function(t){return"string"==typeof t?t={property:t}:"function"==typeof t&&(t={groupFn:t}),t=Ext.factory(t,Ext.util.Grouper)},updateGrouper:function(t,e){var i=this.data;e&&(i.removeSorter(e),t||i.getSorters().removeSorter("isGrouper")),t&&(i.insertSorter(0,t),e||i.getSorters().addSorter({direction:"DESC",property:"isGrouper",transform:function(t){return t===!0?1:-1}})),e&&this.fireEvent("refresh",this,i)},isGrouped:function(){return!!this.getGrouper()},updateSorters:function(t){var e=this.getGrouper(),i=this.data,n=i.getAutoSort();i.setAutoSort(!1),i.setSorters(t),e&&i.insertSorter(0,e),this.updateSortTypes(),i.setAutoSort(n)},updateSortTypes:function(){var t=this.getModel(),e=t&&t.getFields(),i=this.data;e&&i.getSorters().each(function(t){var i,n=t.getProperty();t.isGrouper||!n||t.getTransform()||(i=e.get(n),i&&t.setTransform(i.getSortType()))})},updateFilters:function(t){this.data.setFilters(t)},add:function(t){return Ext.isArray(t)||(t=Array.prototype.slice.call(arguments)),this.insert(this.data.length,t)},insert:function(t,e){Ext.isArray(e)||(e=Array.prototype.slice.call(arguments,1));var i,n,r=this,s=!1,a=this.data,o=e.length,l=this.getModel(),u=r.getModelDefaults(),h=!1;for(e=e.slice(),i=0;o>i;i++)n=e[i],n.isModel?-1!=this.removed.indexOf(n)&&Ext.Array.remove(this.removed,n):n=new l(n),n.set(u),n.join(r),e[i]=n,s=s||n.phantom===!0;return 1===e.length?(h=a.insert(t,e[0]),h&&(h=[h])):h=a.insertAll(t,e),h&&r.fireEvent("addrecords",r,h),r.getAutoSync()&&s&&r.sync(),e},remove:function(t){t.isModel&&(t=[t]);for(var e,i,n,r=this,s=!1,a=0,o=this.getAutoSync(),l=r.getSyncRemovedRecords(),u=this.getDestroyRemovedRecords(),h=t.length,c=[],d=[],f=r.data.items;h>a;a++)i=t[a],r.data.contains(i)&&(e=i.phantom===!0,n=f.indexOf(i),-1!==n&&(d.push(i),c.push(n)),i.unjoin(r),r.data.remove(i),!u||l||i.stores.length?!e&&l&&r.removed.push(i):i.destroy(),s=s||!e);r.fireEvent("removerecords",r,d,c),o&&s&&r.sync()},removeAt:function(t){var e=this.getAt(t);e&&this.remove(e)},removeAll:function(t){t!==!0&&this.eventFiringSuspended!==!0?this.fireAction("clear",[this],"doRemoveAll"):this.doRemoveAll.call(this,!0)},doRemoveAll:function(t){var e,i,n=this,r=this.getDestroyRemovedRecords(),s=this.getSyncRemovedRecords(),a=n.data.all.slice(),o=a.length;for(e=0;o>e;e++)i=a[e],i.unjoin(n),!r||s||i.stores.length?i.phantom!==!0&&s&&n.removed.push(i):i.destroy();n.data.clear(),t!==!0&&n.fireEvent("refresh",n,n.data),n.getAutoSync()&&this.sync()},each:function(t,e){this.data.each(t,e)},getCount:function(){return this.data.items.length||0},getAllCount:function(){return this.data.all.length||0},getAt:function(t){return this.data.getAt(t)},getRange:function(t,e){return this.data.getRange(t,e)},getById:function(t){return this.data.findBy(function(e){return e.getId()==t})},indexOf:function(t){return this.data.indexOf(t)},indexOfId:function(t){return this.data.indexOfKey(t)},afterEdit:function(t,e,i){var n,r=this,s=r.data,a=i[t.getIdProperty()]||t.getId(),o=s.keys.indexOf(a);(-1!==o||void 0!==s.map[a])&&(r.getAutoSync()&&r.sync(),a!==t.getId()?s.replace(a,t):s.replace(t),n=s.indexOf(t),-1===o&&-1!==n?r.fireEvent("addrecords",r,[t]):-1!==o&&-1===n?r.fireEvent("removerecords",r,[t],[o]):-1!==n&&r.fireEvent("updaterecord",r,t,n,o,e,i))},afterReject:function(t){var e=this.data.indexOf(t);this.fireEvent("updaterecord",this,t,e,e,[],{})},afterCommit:function(t,e,i){var n,r=this,s=r.data,a=i[t.getIdProperty()]||t.getId(),o=s.keys.indexOf(a);(-1!==o||void 0!==s.map[a])&&(a!==t.getId()?s.replace(a,t):s.replace(t),n=s.indexOf(t),-1===o&&-1!==n?r.fireEvent("addrecords",r,[t]):-1!==o&&-1===n?r.fireEvent("removerecords",r,[t],[o]):-1!==n&&r.fireEvent("updaterecord",r,t,n,o,e,i))},afterErase:function(t){var e=this,i=e.data,n=i.indexOf(t);-1!==n&&(i.remove(t),e.fireEvent("removerecords",e,[t],[n]))},applyRemoteFilter:function(t){var e=this.getProxy();return t||e&&e.isSQLProxy===!0},applyRemoteSort:function(t){var e=this.getProxy();return t||e&&e.isSQLProxy===!0},applyRemoteGroup:function(t){var e=this.getProxy();return t||e&&e.isSQLProxy===!0},updateRemoteFilter:function(t){this.data.setAutoFilter(!t)},updateRemoteSort:function(t){this.data.setAutoSort(!t)},sort:function(t,e,i){var n=this.data,r=this.getGrouper(),s=n.getAutoSort();t&&(n.setAutoSort(!1),"string"==typeof i?"prepend"==i?n.insertSorters(r?1:0,t,e):n.addSorters(t,e):(n.setSorters(null),r&&n.addSorters(r),n.addSorters(t,e)),this.updateSortTypes(),n.setAutoSort(s)),this.getRemoteSort()||(t||this.data.sort(),this.fireEvent("sort",this,this.data,this.data.getSorters()),n.length&&this.fireEvent("refresh",this,this.data))},filter:function(t,e,i,n){var r=this.data,s=null;t&&(s=Ext.isFunction(t)?{filterFn:t}:Ext.isArray(t)||t.isFilter?t:{property:t,value:e,anyMatch:i,caseSensitive:n,id:t}),this.getRemoteFilter()?r.addFilters(s):(r.filter(s),this.fireEvent("filter",this,r,r.getFilters()),this.fireEvent("refresh",this,r))},filterBy:function(t,e){var i=this,n=i.data,r=n.length;n.filter({filterFn:function(n){return t.call(e||i,n,n.getId())}}),this.fireEvent("filter",this,n,n.getFilters()),n.length!==r&&this.fireEvent("refresh",this,n)},queryBy:function(t,e){return this.data.filterBy(t,e||this)},clearFilter:function(t){var e=this.data.length;t&&this.suspendEvents(),this.data.setFilters(null),t?this.resumeEvents(!0):e!==this.data.length&&this.fireEvent("refresh",this,this.data)},isFiltered:function(){return this.data.filtered},isSorted:function(){return this.data.sorted},getSorters:function(){var t=this.data.getSorters();return t?t.items:[]},getFilters:function(){var t=this.data.getFilters();return t?t.items:[]},getGroups:function(t){var e,i,n,r,s=this.data.items,a=s.length,o=this.getGrouper(),l=[],u={};for(o||Ext.Logger.error("Trying to get groups for a store that has no grouper"),r=0;a>r;r++)e=s[r],i=o.getGroupString(e),n=u[i],void 0===n&&(n={name:i,children:[]},l.push(n),u[i]=n),n.children.push(e);return t?u[t]:l},getGroupString:function(t){var e=this.getGrouper();return e?e.getGroupString(t):null},find:function(t,e,i,n,r,s){var a=Ext.create("Ext.util.Filter",{property:t,value:e,anyMatch:n,caseSensitive:r,exactMatch:s,root:"data"});return this.data.findIndexBy(a.getFilterFn(),null,i)},findRecord:function(){var t=this,e=t.find.apply(t,arguments);return-1!==e?t.getAt(e):null},findExact:function(t,e,i){return this.data.findIndexBy(function(i){return i.get(t)===e},this,i)},findBy:function(t,e,i){return this.data.findIndexBy(t,e,i)},load:function(t,e){var i,n=this,r=n.currentPage,s=n.getPageSize();return t=t||{},Ext.isFunction(t)&&(t={callback:t,scope:e||this}),n.getRemoteSort()&&(t.sorters=t.sorters||this.getSorters()),n.getRemoteFilter()&&(t.filters=t.filters||this.getFilters()),n.getRemoteGroup()&&(t.grouper=t.grouper||this.getGrouper()),Ext.applyIf(t,{page:r,start:(r-1)*s,limit:s,addRecords:!1,action:"read",params:this.getParams(),model:this.getModel()}),i=Ext.create("Ext.data.Operation",t),n.fireEvent("beforeload",n,i)!==!1&&(n.loading=!0,n.getProxy().read(i,n.onProxyLoad,n)),n},isLoading:function(){return Boolean(this.loading)},isLoaded:function(){return Boolean(this.loaded)},sync:function(t){var e=this,i={},n=e.getNewRecords(),r=e.getUpdatedRecords(),s=e.getRemovedRecords(),a=!1;return n.length>0&&(i.create=n,a=!0),r.length>0&&(i.update=r,a=!0),s.length>0&&(i.destroy=s,a=!0),a&&e.fireEvent("beforesync",this,i)!==!1&&e.getProxy().batch(Ext.merge({operations:i,listeners:e.getBatchListeners()},t||{})),{added:n,updated:r,removed:s}},first:function(){return this.data.first()},last:function(){return this.data.last()},sum:function(t){for(var e=0,i=0,n=this.data.items,r=n.length;r>i;++i)e+=n[i].get(t);return e},min:function(t){var e,i,n=1,r=this.data.items,s=r.length;for(s>0&&(i=r[0].get(t));s>n;++n)e=r[n].get(t),i>e&&(i=e);return i},max:function(t){var e,i,n=1,r=this.data.items,s=r.length;for(s>0&&(i=r[0].get(t));s>n;++n)e=r[n].get(t),e>i&&(i=e);return i},average:function(t){var e=0,i=this.data.items,n=i.length,r=0;if(i.length>0){for(;n>e;++e)r+=i[e].get(t);return r/n}return 0},getBatchListeners:function(){return{scope:this,exception:this.onBatchException,complete:this.onBatchComplete}},onBatchComplete:function(t){var e,i=this,n=t.operations,r=n.length;for(e=0;r>e;e++)i.onProxyWrite(n[e])},onBatchException:function(){},onProxyLoad:function(t){var e=this,i=t.getRecords(),n=t.getResultSet(),r=t.wasSuccessful();n&&e.setTotalCount(n.getTotal()),r&&this.fireAction("datarefresh",[this,this.data,t],"doDataRefresh"),e.loaded=!0,e.loading=!1,e.fireEvent("load",this,i,r,t),Ext.callback(t.getCallback(),t.getScope()||e,[i,t,r])},doDataRefresh:function(t,e,i){var n,r,s=i.getRecords(),a=this,o=a.getDestroyRemovedRecords(),l=e.all.slice(),u=l.length,h=s.length,c={};if(i.getAddRecords()!==!0){for(n=0;h>n;n++)c[s[n].id]=!0;for(n=0;u>n;n++)r=l[n],r.unjoin(a),c[r.id]!==!0&&o&&!r.stores.length&&r.destroy();e.clear(),a.fireEvent("clear",a)}s&&s.length&&(a.suspendEvents(),a.add(s),a.resumeEvents(!0)),a.fireEvent("refresh",a,e)},onProxyWrite:function(t){var e=this,i=t.wasSuccessful(),n=t.getRecords();switch(t.getAction()){case"create":e.onCreateRecords(n,t,i);break;case"update":e.onUpdateRecords(n,t,i);break;case"destroy":e.onDestroyRecords(n,t,i)}i&&e.fireEvent("write",e,t),Ext.callback(t.getCallback(),t.getScope()||e,[n,t,i])},onCreateRecords:function(){},onUpdateRecords:function(){},onDestroyRecords:function(){this.removed=[]},onMetaChange:function(t){var e=this.getProxy().getModel();!this.getModel()&&e&&this.setModel(e),this.fireEvent("metachange",this,t)},getNewRecords:function(){return this.data.filterBy(function(t){return t.phantom===!0&&t.isValid()}).items},getUpdatedRecords:function(){return this.data.filterBy(function(t){return t.dirty===!0&&t.phantom!==!0&&t.isValid()}).items},getRemovedRecords:function(){return this.removed},loadPage:function(t,e,i){"function"==typeof e&&(e={callback:e,scope:i||this});var n=this,r=n.getPageSize(),s=n.getClearOnPageLoad();e=Ext.apply({},e),n.currentPage=t,n.load(Ext.applyIf(e,{page:t,start:(t-1)*r,limit:r,addRecords:!s}))},nextPage:function(t){this.loadPage(this.currentPage+1,t)},previousPage:function(t){this.loadPage(this.currentPage-1,t)},destroy:function(){this.clearData();var t=this.getProxy();t&&t.onDestroy(),Ext.data.StoreManager.unregister(this),Ext.destroy(this.getPlugins()),this.implicitModel&&this.getModel()&&delete Ext.data.ModelManager.types[this.getModel().getName()],Ext.destroy(this.data),this.callParent(arguments)}}),Ext.define("Ext.draw.engine.SvgExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(t,e){e=e||{};var i,n=this,r=e.type;return-1===Ext.Array.indexOf(n.supportedTypes,r)?!1:(i=Ext.getBody().createChild({tag:"form",method:"POST",action:e.url||n.defaultUrl,cls:n.formCls,children:[{tag:"input",type:"hidden",name:e.widthParam||n.widthParam,value:e.width},{tag:"input",type:"hidden",name:e.heightParam||n.heightParam,value:e.height},{tag:"input",type:"hidden",name:e.typeParam||n.typeParam,value:r},{tag:"input",type:"hidden",name:e.svgParam||n.svgParam}]}),i.last(null,!0).value=t,i.dom.submit(),i.remove(),!0)}}),Ext.define("Ext.chart.AbstractChart",{extend:Ext.draw.Component,version:"2.0.0",viewBox:!1,delegationRegex:/^item([a-z]+)$/i,domEvents:/click|focus|blur|paste|input|mousemove|mousedown|mouseup|mouseover|mouseout|keyup|keydown|keypress|submit|pinch|pinchstart|pinchend|touchstart|touchend|rotate|rotatestart|rotateend|drag|dragstart|dragend|tap|doubletap|singletap/,config:{store:null,shadow:!1,animate:!0,series:[],axes:[],legend:null,colors:null,insetPadding:{top:10,left:10,right:10,bottom:10},innerPadding:{top:0,left:0,right:0,bottom:0},background:null,interactions:[],mainRegion:null,autoSize:!1,viewBox:!1,fitSurface:!1,resizeHandler:null,highlightItem:null},resizing:0,animationSuspended:0,surfaceZIndexes:{main:0,grid:1,series:2,axis:3,overlay:4,events:5},animating:0,layoutSuspended:0,applyAnimate:function(t,e){return t?t===!0&&(t={easing:"easeInOut",duration:500}):t={duration:0},e?e=Ext.apply({},t,e):t},applyInsetPadding:function(t,e){return Ext.isNumber(t)?{top:t,left:t,right:t,bottom:t}:e?Ext.apply(e,t):t},applyInnerPadding:function(t,e){return Ext.isNumber(t)?{top:t,left:t,right:t,bottom:t}:e?Ext.apply(e,t):t},suspendAnimation:function(){if(this.animationSuspended++,1===this.animationSuspended)for(var t=this.getSeries(),e=-1,i=t.length;++e<i;)t[e].setAnimate(this.getAnimate())},resumeAnimation:function(){if(this.animationSuspended--,0===this.animationSuspended)for(var t=this.getSeries(),e=-1,i=t.length;++e<i;)t[e].setAnimate(this.getAnimate())},suspendLayout:function(){this.layoutSuspended++,1===this.layoutSuspended&&(this.scheduledLayoutId?(this.layoutInSuspension=!0,this.cancelLayout()):this.layoutInSuspension=!1)},resumeLayout:function(){this.layoutSuspended--,0===this.layoutSuspended&&this.layoutInSuspension&&this.scheduleLayout()},cancelLayout:function(){this.scheduledLayoutId&&(Ext.draw.Animator.cancel(this.scheduledLayoutId),this.scheduledLayoutId=null)},scheduleLayout:function(){this.scheduledLayoutId||(this.scheduledLayoutId=Ext.draw.Animator.schedule("doScheduleLayout",this))},doScheduleLayout:function(){this.layoutSuspended?this.layoutInSuspension=!0:this.performLayout()},getAnimate:function(){return this.resizing||this.animationSuspended?{duration:0}:this._animate},constructor:function(){var t=this;t.itemListeners={},t.surfaceMap={},t.legendStore=new Ext.data.Store({storeId:this.getId()+"-legendStore",autoDestroy:!0,fields:["id","name","mark","disabled","series","index"]}),t.suspendLayout(),t.callSuper(arguments),t.refreshLegendStore(),t.getLegendStore().on("updaterecord","onUpdateLegendStore",t),t.resumeLayout()},getLegendStore:function(){return this.legendStore},refreshLegendStore:function(){if(this.getLegendStore()){var t,e,i,n=this.getSeries(),r=[];if(n)for(t=0,e=n.length;e>t;t++)i=n[t],i.getShowInLegend()&&i.provideLegendInfo(r);this.getLegendStore().setData(r)}},resetLegendStore:function(){if(this.getLegendStore()){var t,e,i=this.getLegendStore().getData().items,n=i.length;for(t=0;n>t;t++)e=i[t],e.beginEdit(),e.set("disabled",!1),e.commit()}},onUpdateLegendStore:function(t,e){var i,n=this.getSeries();e&&n&&(i=n.map[e.get("series")],i&&(i.setHiddenByIndex(e.get("index"),e.get("disabled")),this.redraw()))},initialize:function(){var t=this;t.callSuper(),t.getSurface("main"),t.getSurface("overlay-surface","overlay").waitFor(t.getSurface("series-surface","series"))},resizeHandler:function(){var t=this;return t.scheduleLayout(),!1},applyMainRegion:function(t,e){return e?(this.getSeries(),this.getAxes(),t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]?e:t):t},getSurface:function(t,e){t=t||"main",e=e||t;var i=this,n=this.callSuper([t]),r=i.surfaceZIndexes;return e in r&&n.element.setStyle("zIndex",r[e]),i.surfaceMap[e]||(i.surfaceMap[e]=[]),n.type=e,i.surfaceMap[e].push(n),n},updateColors:function(t){for(var e,i=this.getSeries(),n=i&&i.length,r=0;n>r;r++)e=i[r],e.getColors()||e.updateColors(t)},applyAxes:function(t,e){this.resizing++;try{e||(e=[],e.map={});var i,n,r,s,a=[],o=e.map;for(a.map={},t=Ext.Array.from(t,!0),i=0,n=t.length;n>i;i++)r=t[i],r&&(r=Ext.factory(r,null,s=o[r.getId&&r.getId()||r.id],"axis"),r&&(r.setChart(this),a.push(r),a.map[r.getId()]=r,s||(r.on("animationstart","onAnimationStart",this),r.on("animationend","onAnimationEnd",this))));for(i in o)a.map[i]||o[i].destroy();return a}finally{this.resizing--}},updateAxes:function(){this.scheduleLayout()},applySeries:function(t,e){this.resizing++;try{this.getAxes(),e||(e=[],e.map={});var i,n,r,s,a=this,o=[],l=e.map;for(o.map={},t=Ext.Array.from(t,!0),i=0,n=t.length;n>i;i++)r=t[i],r&&(s=e.map[r.getId&&r.getId()||r.id],r instanceof Ext.chart.series.Series?(s!==r&&(s&&s.destroy(),a.addItemListenersToSeries(r)),r.setChart(this)):Ext.isObject(r)&&(s?(s.setConfig(r),r=s):(Ext.isString(r)?r=Ext.create(r.xclass||"series."+r,{chart:this}):(r.chart=this,r=Ext.create(r.xclass||"series."+r.type,r)),r.on("animationstart","onAnimationStart",this),r.on("animationend","onAnimationEnd",this),a.addItemListenersToSeries(r))),o.push(r),o.map[r.getId()]=r);for(i in l)o.map[l[i].getId()]||l[i].destroy();return o}finally{this.resizing--}},applyLegend:function(t,e){return Ext.factory(t,Ext.chart.Legend,e)},updateLegend:function(t){t&&(t.setStore(this.getLegendStore()),t.getDocked()||t.setDocked("bottom"),this.getParent()&&this.getParent().add(t))},setParent:function(t){this.callSuper(arguments),t&&this.getLegend()&&t.add(this.getLegend())},updateSeries:function(t,e){this.resizing++;try{this.fireEvent("serieschanged",this,t,e),this.refreshLegendStore(),this.scheduleLayout()}finally{this.resizing--}},applyInteractions:function(t,e){e||(e=[],e.map={});var i,n,r,s=this,a=[],o=e.map;for(a.map={},t=Ext.Array.from(t,!0),i=0,n=t.length;n>i;i++)r=t[i],r&&(r=Ext.factory(r,null,o[r.getId&&r.getId()||r.id],"interaction"),r&&(r.setChart(s),a.push(r),a.map[r.getId()]=r));for(i in o)a.map[o[i]]||o[i].destroy();return a},applyStore:function(t){return Ext.StoreManager.lookup(t)
},updateStore:function(t,e){var i=this;e&&(e.un("refresh","onRefresh",i,null,"after"),e.autoDestroy&&e.destroy()),t&&t.on("refresh","onRefresh",i,null,"after"),i.fireEvent("storechanged",t,e),i.onRefresh()},redraw:function(){this.fireEvent("redraw",this)},performLayout:function(){this.cancelLayout()},getEventXY:function(t){t=t.changedTouches&&t.changedTouches[0]||t.event||t.browserEvent||t;var e=this,i=e.element.getXY(),n=e.getMainRegion();return[t.pageX-i[0]-n[0],t.pageY-i[1]-n[1]]},getItemForPoint:function(t,e){for(var i,n,r=this,s=0,a=r.getSeries(),o=a.length;o>s;s++)if(i=a[s],n=i.getItemForPoint(t,e))return n;return null},getItemsForPoint:function(t,e){for(var i,n=this,r=n.getSeries(),s=[],a=0;a<r.length;a++){i=r[a];var o=i.getItemForPoint(t,e);o&&s.push(o)}return s},delayThicknessChanged:0,thicknessChanged:!1,suspendThicknessChanged:function(){this.delayThicknessChanged++},resumeThicknessChanged:function(){this.delayThicknessChanged--,0===this.delayThicknessChanged&&this.thicknessChanged&&this.onThicknessChanged()},onAnimationStart:function(){this.fireEvent("animationstart",this)},onAnimationEnd:function(){this.fireEvent("animationend",this)},onThicknessChanged:function(){0===this.delayThicknessChanged?(this.thicknessChanged=!1,this.performLayout()):this.thicknessChanged=!0},onRefresh:function(){var t=this.getMainRegion(),e=this.getAxes(),i=this.getStore(),n=this.getSeries();i&&e&&n&&t&&this.redraw()},bindStore:function(t){this.setStore(t)},applyHighlightItem:function(t,e){return t===e||Ext.isObject(t)&&Ext.isObject(e)&&t.sprite===e.sprite&&t.index===e.index?void 0:t},updateHighlightItem:function(t,e){e&&e.series.setAttributesForItem(e,{highlighted:!1}),t&&t.series.setAttributesForItem(t,{highlighted:!0})},addItemListenersToSeries:function(t){for(var e in this.itemListeners){var i,n,r=this.itemListeners[e];for(i=0,n=r.length;n>i;i++)t.addListener.apply(t,r[i])}},addItemListener:function(t,e,i,n,r){var s,a,o,l=this.itemListeners[t]||(this.itemListeners[t]=[]),u=this.getSeries();if(l.push([t,e,i,n,r]),u)for(a=0,o=u.length;o>a;a++)s=u[a],s.addListener(t,e,i,n,r)},remoteItemListener:function(t,e,i,n,r){var s,a,o,l=this.itemListeners[t],u=this.getSeries();if(l)for(a=0,o=l.length;o>a;a++)if(l[a].fn===e){if(l.splice(a,1),u)for(a=0,o=u.length;o>a;a++)s=u[a],s.removeListener(t,e,i,n,r);break}},doAddListener:function(t,e,i,n,r){return t.match(this.delegationRegex)?this.addItemListener(t,e,i||this,n,r):t.match(this.domEvents)?this.element.doAddListener.apply(this.element,arguments):this.callSuper(arguments)},doRemoveListener:function(t,e,i,n,r){return t.match(this.delegationRegex)?this.remoteItemListener(t,e,i||this,n,r):t.match(this.domEvents)?this.element.doRemoveListener.apply(this.element,arguments):this.callSuper(arguments)},onItemRemove:function(t){this.callSuper(arguments),this.surfaceMap&&(Ext.Array.remove(this.surfaceMap[t.type],t),0===this.surfaceMap[t.type].length&&delete this.surfaceMap[t.type])},destroy:function(){var t=this,e=[],i=t.getLegend(),n=t.getLegendStore();t.surfaceMap=null,t.setHighlightItem(null),t.setSeries(e),t.setAxes(e),t.setInteractions(e),n&&(n.destroy(),t.legendStore=null),i&&(i.destroy(),t.setLegend(null)),t.setStore(null),Ext.Viewport.un("orientationchange",t.redraw,t),t.cancelLayout(),this.callSuper(arguments)},getRefItems:function(t){var e,i,n=this,r=n.getSeries(),s=n.getAxes(),a=n.getInteractions(),o=[];for(e=0,i=r.length;i>e;e++)o.push(r[e]),r[e].getRefItems&&o.push.apply(o,r[e].getRefItems(t));for(e=0,i=s.length;i>e;e++)o.push(s[e]),s[e].getRefItems&&o.push.apply(o,s[e].getRefItems(t));for(e=0,i=a.length;i>e;e++)o.push(a[e]),a[e].getRefItems&&o.push.apply(o,a[e].getRefItems(t));return o},flatten:function(t,e){var i,n,r,s,a,o,l,u,h=this,c=h.element.getSize();switch(h.engine){case"Ext.draw.engine.Canvas":for(n=document.createElement("canvas"),n.width=c.width,n.height=c.height,r=n.getContext("2d"),s=0;s<t.length;s++)a=t[s],Ext.getClassName(a)===h.engine&&(o=a.getRegion(),r.drawImage(a.canvases[0].dom,o[0],o[1]));u=n.toDataURL();break;case"Ext.draw.engine.Svg":for(i='<?xml version="1.0" standalone="yes"?>',i+='<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="'+c.width+'" height="'+c.height+'">',s=0;s<t.length-1;s++)a=t[s],Ext.getClassName(a)===h.engine&&(o=a.getRegion(),i+='<g transform="translate('+o[0]+","+o[1]+')">',i+=Ext.dom.Element.serializeNode(a.svgElement.dom),i+="</g>");i+="</svg>",u="data:image/svg+xml;utf8,"+i}return"image"===e?(l=new Image,l.src=u,l):"stream"===e?u.replace(/^data:image\/[^;]+/,"data:application/octet-stream"):u},save:function(t){t?window.open(this.flatten(this.items.items,"stream")):Ext.Viewport.add({xtype:"panel",layout:"fit",modal:!0,width:"90%",height:"90%",hideOnMaskTap:!0,centered:!0,scrollable:!1,items:{xtype:"image",mode:"img",src:this.flatten(this.items.items)},listeners:{hide:function(){Ext.Viewport.remove(this)}}}).show()}}),Ext.define("Ext.chart.grid.HorizontalGrid",{extend:Ext.draw.sprite.Sprite,alias:"grid.horizontal",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(t,e,i){var n=this.attr,r=t.roundPixel(n.y),s=.5*e.lineWidth;e.beginPath(),e.rect(i[0]-t.matrix.getDX(),r+s,+i[2],n.height),e.fill(),e.beginPath(),e.moveTo(i[0]-t.matrix.getDX(),r+s),e.lineTo(i[0]+i[2]-t.matrix.getDX(),r+s),e.stroke()}}),Ext.define("Ext.chart.grid.VerticalGrid",{extend:Ext.draw.sprite.Sprite,alias:"grid.vertical",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(t,e,i){var n=this.attr,r=t.roundPixel(n.x),s=.5*e.lineWidth;e.beginPath(),e.rect(r-s,i[1]-t.matrix.getDY(),n.width,i[3]),e.fill(),e.beginPath(),e.moveTo(r-s,i[1]-t.matrix.getDY()),e.lineTo(r-s,i[1]+i[3]-t.matrix.getDY()),e.stroke()}}),Ext.define("Ext.chart.CartesianChart",{extend:Ext.chart.AbstractChart,alternateClassName:"Ext.chart.Chart",config:{flipXY:!1,innerRegion:[0,0,1,1]},xtype:"chart",alias:"Ext.chart.Chart",getDirectionForAxis:function(t){var e=this.getFlipXY();return"left"===t||"right"===t?e?"X":"Y":e?"Y":"X"},performLayout:function(){try{this.resizing++,this.callSuper(),this.suspendThicknessChanged();var t,e,i,n,r,s,a,o,l,u,h,c,d,f,g=this,p=g.getAxes(),m=g.getSeries(),x=g.element.getSize(),E=x.width,y=x.height,v=g.getInsetPadding(),b=g.getInnerPadding(),S={top:v.top,left:v.left,right:v.right,bottom:v.bottom},C=g.getFlipXY();if(0>=E||0>=y)return;for(d=0;d<p.length;d++){switch(t=p[d],i=t.getSurface(),h=t.getStyle&&t.getStyle()&&t.getStyle().floating,n=t.getThickness(),t.getPosition()){case"top":i.setRegion([0,S.top,E,n]);break;case"bottom":i.setRegion([0,y-(S.bottom+n),E,n]);break;case"left":i.setRegion([S.left,0,n,y]);break;case"right":i.setRegion([E-(S.right+n),0,n,y])}h||(S[t.getPosition()]+=n)}if(E-=S.left+S.right,y-=S.top+S.bottom,a=[S.left,S.top,E,y],S.left+=b.left,S.top+=b.top,S.right+=b.right,S.bottom+=b.bottom,o=E-b.left-b.right,l=y-b.top-b.bottom,g.setInnerRegion([S.left,S.top,o,l]),0>=o||0>=l)return;for(g.setMainRegion(a),g.getSurface("main").setRegion(a),d=0,f=g.surfaceMap.grid&&g.surfaceMap.grid.length;f>d;d++)s=g.surfaceMap.grid[d],s.setRegion(a),s.matrix.set(1,0,0,1,b.left,b.top),s.matrix.inverse(s.inverseMatrix);for(d=0;d<p.length;d++){switch(t=p[d],i=t.getSurface(),c=i.matrix,u=c.elements,t.getPosition()){case"top":case"bottom":u[4]=S.left,t.setLength(o);break;case"left":case"right":u[5]=S.top,t.setLength(l)}t.updateTitleSprite(),c.inverse(i.inverseMatrix)}for(d=0,f=m.length;f>d;d++)e=m[d],r=e.getSurface(),r.setRegion(a),C?r.matrix.set(0,-1,1,0,b.left,l+b.top):r.matrix.set(1,0,0,-1,b.left,l+b.top),r.matrix.inverse(r.inverseMatrix),e.getOverlaySurface().setRegion(a);g.redraw(),g.onPlaceWatermark()}finally{this.resizing--,this.resumeThicknessChanged()}},redraw:function(){var t,e,i,n,r,s,a,o,l,u,h,c,d,f,g,p,m,x,E,y,v,b,S,C,w=this,T=w.getSeries(),I=w.getAxes(),A=w.getMainRegion(),P=w.getInnerPadding(),M=w.getFlipXY(),D=1e3;if(A){for(t=A[2]-P.left-P.right,e=A[3]-P.top-P.bottom,a=0;a<T.length;a++)for((f=T[a].getXAxis())?(m=f.getVisibleRange(),u=f.getRange(),u=[u[0]+(u[1]-u[0])*m[0],u[0]+(u[1]-u[0])*m[1]]):u=T[a].getXRange(),(g=T[a].getYAxis())?(m=g.getVisibleRange(),h=g.getRange(),h=[h[0]+(h[1]-h[0])*m[0],h[0]+(h[1]-h[0])*m[1]]):h=T[a].getYRange(),i=u[0],n=u[1],r=h[0],s=h[1],d={visibleMinX:u[0],visibleMaxX:u[1],visibleMinY:h[0],visibleMaxY:h[1],innerWidth:t,innerHeight:e,flipXY:M},l=T[a].getSprites(),o=0;o<l.length;o++){if(x=l[o],E=x.attr.zIndex||0,D>E&&(E+=100*(a+1)+D,x.attr.zIndex=E,y=x.boundMarkers,y&&(v=y.items?y.items.length:0)))for(b=0;v>b;b++)S=y.items[b],C=S.attr.zIndex||0,C==Number.MAX_VALUE?S.attr.zIndex=E:D>C&&(S.attr.zIndex=E+C);x.setAttributes(d,!0)}for(a=0;a<I.length;a++)for(c=I[a].isSide(),l=I[a].getSprites(),p=I[a].getRange(),m=I[a].getVisibleRange(),d={dataMin:p[0],dataMax:p[1],visibleMin:m[0],visibleMax:m[1]},c?(d.length=e,d.startGap=P.bottom,d.endGap=P.top):(d.length=t,d.startGap=P.left,d.endGap=P.right),o=0;o<l.length;o++)l[o].setAttributes(d,!0);w.renderFrame(),w.callSuper(arguments)}},onPlaceWatermark:function(){var t=this.element.getBox(),e=this.getSurface?this.getSurface("main").getRegion():this.getItems().get(0).getRegion();e&&this.watermarkElement.setStyle({right:Math.round(t.width-(e[2]+e[0]))+"px",bottom:Math.round(t.height-(e[3]+e[1]))+"px"})}}),Ext.define("Ext.chart.grid.CircularGrid",{extend:Ext.draw.sprite.Circle,alias:"grid.circular",inheritableStatics:{def:{defaults:{r:1,strokeStyle:"#DDD"}}}}),Ext.define("Ext.chart.grid.RadialGrid",{extend:Ext.draw.sprite.Path,alias:"grid.radial",inheritableStatics:{def:{processors:{startRadius:"number",endRadius:"number"},defaults:{startRadius:0,endRadius:1,scalingCenterX:0,scalingCenterY:0,strokeStyle:"#DDD"},dirtyTriggers:{startRadius:"path,bbox",endRadius:"path,bbox"}}},render:function(){this.callSuper(arguments)},updatePath:function(t,e){var i=e.startRadius,n=e.endRadius;t.moveTo(i,0),t.lineTo(n,0)}}),Ext.define("Ext.chart.PolarChart",{extend:Ext.chart.AbstractChart,xtype:"polar",config:{center:[0,0],radius:0},getDirectionForAxis:function(t){return"radial"===t?"Y":"X"},applyCenter:function(t,e){return e&&t[0]===e[0]&&t[1]===e[1]?void 0:[+t[0],+t[1]]},updateCenter:function(t){var e,i,n,r,s=this,a=s.getAxes(),o=s.getSeries();for(n=0,r=a.length;r>n;n++)e=a[n],e.setCenter(t);for(n=0,r=o.length;r>n;n++)i=o[n],i.setCenter(t)},updateRadius:function(t){var e,i,n,r,s=this,a=s.getAxes(),o=s.getSeries();for(n=0,r=a.length;r>n;n++)e=a[n],e.setMinimum(0),e.setLength(t),e.getSprites();for(n=0,r=o.length;r>n;n++)i=o[n],i.setRadius(t)},doSetSurfaceRegion:function(t,e){var i=this.getMainRegion();t.setRegion(e),t.matrix.set(1,0,0,1,i[0]-e[0],i[1]-e[1]),t.inverseMatrix.set(1,0,0,1,e[0]-i[0],e[1]-i[1])},performLayout:function(){try{this.resizing++,this.callSuper();var t,e,i,n,r=this,s=r.element.getSize(),a=[0,0,s.width,s.height],o=r.getInsetPadding(),l=r.getInnerPadding(),u=o.left,h=o.top,c=s.width-u-o.right,d=s.height-h-o.bottom,f=[o.left,o.top,c,d],g=c-l.left-l.right,p=d-l.top-l.bottom,m=[.5*g+l.left,.5*p+l.top],x=.5*Math.min(g,p),E=r.getAxes(),y=r.getSeries();for(r.setMainRegion(f),i=0,n=y.length;n>i;i++)e=y[i],r.doSetSurfaceRegion(e.getSurface(),f),r.doSetSurfaceRegion(e.getOverlaySurface(),a);for(r.doSetSurfaceRegion(r.getSurface(),a),i=0,n=r.surfaceMap.grid&&r.surfaceMap.grid.length;n>i;i++)r.doSetSurfaceRegion(r.surfaceMap.grid[i],a);for(i=0,n=E.length;n>i;i++)t=E[i],r.doSetSurfaceRegion(t.getSurface(),a);r.setRadius(x),r.setCenter(m),r.redraw()}finally{this.resizing--}},getEventXY:function(t){t=t.changedTouches&&t.changedTouches[0]||t.event||t.browserEvent||t;var e=this,i=e.element.getXY(),n=e.getInsetPadding();return[t.pageX-i[0]-n.left,t.pageY-i[1]-n.top]},redraw:function(){var t,e,i,n,r=this,s=r.getAxes(),a=r.getSeries();for(i=0,n=s.length;n>i;i++)t=s[i],t.getSprites();for(i=0,n=a.length;n>i;i++)e=a[i],e.getSprites();r.renderFrame(),r.callSuper(arguments)}}),Ext.define("Ext.chart.SpaceFillingChart",{extend:Ext.chart.AbstractChart,xtype:"spacefilling",config:{},performLayout:function(){try{this.resizing++,this.callSuper();var t,e,i,n=this,r=n.element.getSize(),s=n.getSeries(),a=n.getInsetPadding(),o=r.width-a.left-a.right,l=r.height-a.top-a.bottom,u=[a.left,a.top,o,l],h=[0,0,r.width,r.height];for(n.getSurface().setRegion(u),n.setMainRegion(u),e=0,i=s.length;i>e;e++)t=s[e],t.getSurface().setRegion(u),t.setRegion(u),t.getOverlaySurface().setRegion(h);n.redraw()}finally{this.resizing--}},redraw:function(){var t,e,i,n=this,r=n.getSeries();for(e=0,i=r.length;i>e;e++)t=r[e],t.getSprites();n.renderFrame(),n.callSuper(arguments)}}),Ext.define("Ext.chart.axis.Category",{extend:Ext.chart.axis.Axis,alias:"axis.category",type:"category",config:{layout:"combineDuplicate",segmenter:"names"}}),Ext.define("Ext.chart.axis.Numeric",{extend:Ext.chart.axis.Axis,alias:"axis.numeric",type:"numeric",config:{layout:"continuous",segmenter:"numeric",aggregator:"double"}}),Ext.define("Ext.chart.axis.Time",{extend:Ext.chart.axis.Numeric,alias:"axis.time",type:"time",config:{calculateByLabelSize:!0,dateFormat:null,fromDate:null,toDate:null,step:[Ext.Date.DAY,1],layout:"continuous",segmenter:"time",aggregator:"time"},updateDateFormat:function(t){this.setRenderer(function(e){return Ext.Date.format(new Date(e),t)})},updateFromDate:function(t){this.setMinimum(+t)},updateToDate:function(t){this.setMaximum(+t)},getCoordFor:function(t){return Ext.isString(t)&&(t=new Date(t)),+t}}),Ext.define("Ext.chart.interactions.CrossZoom",{extend:Ext.chart.interactions.Abstract,type:"crosszoom",alias:"interaction.crosszoom",config:{axes:!0,gesture:"drag",undoButton:{}},stopAnimationBeforeSync:!1,zoomAnimationInProgress:!1,constructor:function(){this.callSuper(arguments),this.zoomHistory=[]},applyAxes:function(t){var e={};return t===!0?{top:{},right:{},bottom:{},left:{}}:(Ext.isArray(t)?(e={},Ext.each(t,function(t){e[t]={}})):Ext.isObject(t)&&Ext.iterate(t,function(t,i){i===!0?e[t]={}:i!==!1&&(e[t]=i)}),e)},applyUndoButton:function(t,e){var i=this;return t?(e&&e.destroy(),Ext.create("Ext.Button",Ext.apply({cls:[],iconCls:"refresh",text:"Undo Zoom",disabled:!0,handler:function(){i.undoZoom()}},t))):void(e&&e.destroy())},getGestures:function(){var t=this,e={};return e[t.getGesture()]="onGesture",e[t.getGesture()+"start"]="onGestureStart",e[t.getGesture()+"end"]="onGestureEnd",e.doubletap="onDoubleTap",e},getSurface:function(){return this.getChart()&&this.getChart().getSurface("main")},setSeriesOpacity:function(t){var e=this.getChart()&&this.getChart().getSurface("series-surface","series");e&&e.element.setStyle("opacity",t)},onGestureStart:function(t){var e=this,i=e.getChart(),n=e.getSurface(),r=i.getInnerRegion(),s=r[2],a=r[3],o=i.element.getXY(),l=t.pageX-o[0]-r[0],u=t.pageY-o[1]-r[1];if(!e.zoomAnimationInProgress)return l>0&&s>l&&u>0&&a>u?(e.lockEvents(e.getGesture()),e.startX=l,e.startY=u,e.selectionRect=n.add({type:"rect",globalAlpha:.5,fillStyle:"rgba(80,80,140,0.5)",strokeStyle:"rgba(80,80,140,1)",lineWidth:2,x:l,y:u,width:0,height:0,zIndex:1e4}),e.setSeriesOpacity(.8),!1):void 0},onGesture:function(t){var e=this;if(!e.zoomAnimationInProgress&&e.getLocks()[e.getGesture()]===e){var i=e.getChart(),n=e.getSurface(),r=i.getInnerRegion(),s=r[2],a=r[3],o=i.element.getXY(),l=t.pageX-o[0]-r[0],u=t.pageY-o[1]-r[1];return 0>l?l=0:l>s&&(l=s),0>u?u=0:u>a&&(u=a),e.selectionRect.setAttributes({width:l-e.startX,height:u-e.startY}),e.selectionRect.setAttributes(Math.abs(e.startX-l)<11||Math.abs(e.startY-u)<11?{globalAlpha:.5}:{globalAlpha:1}),n.renderFrame(),!1}},onGestureEnd:function(t){var e=this;if(!e.zoomAnimationInProgress&&e.getLocks()[e.getGesture()]===e){var i=e.getChart(),n=e.getSurface(),r=i.getInnerRegion(),s=r[2],a=r[3],o=i.element.getXY(),l=t.pageX-o[0]-r[0],u=t.pageY-o[1]-r[1];0>l?l=0:l>s&&(l=s),0>u?u=0:u>a&&(u=a),Math.abs(e.startX-l)<11||Math.abs(e.startY-u)<11?n.remove(e.selectionRect):(e.zoomBy([Math.min(e.startX,l)/s,1-Math.max(e.startY,u)/a,Math.max(e.startX,l)/s,1-Math.min(e.startY,u)/a]),e.selectionRect.setAttributes({x:Math.min(e.startX,l),y:Math.min(e.startY,u),width:Math.abs(e.startX-l),height:Math.abs(e.startY-u)}),e.selectionRect.fx.setConfig(i.getAnimate()||{duration:0}),e.selectionRect.setAttributes({globalAlpha:0,x:0,y:0,width:s,height:a}),e.zoomAnimationInProgress=!0,i.suspendThicknessChanged(),e.selectionRect.fx.on("animationend",function(){i.resumeThicknessChanged(),n.remove(e.selectionRect),e.selectionRect=null,e.zoomAnimationInProgress=!1})),n.renderFrame(),e.sync(),e.unlockEvents(e.getGesture()),e.setSeriesOpacity(1),e.zoomAnimationInProgress||(n.remove(e.selectionRect),e.selectionRect=null)}},zoomBy:function(t){for(var e,i=this,n=i.getAxes(),r=i.getChart().getAxes(),s={},a=0;a<r.length;a++){var o=r[a];if(e=n[o.getPosition()],e&&e.allowZoom!==!1){var l=o.isSide(),u=o.getVisibleRange();s[o.getId()]=u.slice(0),o.setVisibleRange(l?[(u[1]-u[0])*t[1]+u[0],(u[1]-u[0])*t[3]+u[0]]:[(u[1]-u[0])*t[0]+u[0],(u[1]-u[0])*t[2]+u[0]])}}i.zoomHistory.push(s),i.getUndoButton().setDisabled(!1)},undoZoom:function(){var t=this.zoomHistory.pop(),e=this.getChart().getAxes();if(t)for(var i=0;i<e.length;i++){var n=e[i];t[n.getId()]&&n.setVisibleRange(t[n.getId()])}this.getUndoButton().setDisabled(0===this.zoomHistory.length),this.sync()},onDoubleTap:function(){this.undoZoom()}}),Ext.define("Ext.chart.interactions.Crosshair",{extend:Ext.chart.interactions.Abstract,type:"crosshair",alias:"interaction.crosshair",config:{axes:{top:{label:{},rect:{}},right:{label:{},rect:{}},bottom:{label:{},rect:{}},left:{label:{},rect:{}}},lines:{horizontal:{strokeStyle:"black",lineDash:[5,5]},vertical:{strokeStyle:"black",lineDash:[5,5]}},gesture:"drag"},applyAxes:function(t,e){return Ext.merge(e||{},t)},applyLines:function(t,e){return Ext.merge(e||{},t)},updateChart:function(t){if(!(t instanceof Ext.chart.CartesianChart))throw"Crosshair interaction can only be used on cartesian charts.";this.callParent(arguments)},getGestures:function(){var t=this,e={};return e[t.getGesture()]="onGesture",e[t.getGesture()+"start"]="onGestureStart",e[t.getGesture()+"end"]="onGestureEnd",e},onGestureStart:function(t){var e,i,n,r,s,a,o,l,u,h,c,d,f,g,p=this,m=p.getChart(),x=m.getSurface("overlay-surface"),E=m.getInnerRegion(),y=E[2],v=E[3],b=m.element.getXY(),S=t.pageX-b[0]-E[0],C=t.pageY-b[1]-E[1],w=m.getAxes(),T=p.getAxes(),I=p.getLines();if(S>0&&y>S&&C>0&&v>C){for(p.lockEvents(p.getGesture()),p.horizontalLine=x.add(Ext.apply({xclass:"Ext.chart.grid.HorizontalGrid",x:0,y:C,width:y},I.horizontal)),p.verticalLine=x.add(Ext.apply({xclass:"Ext.chart.grid.VerticalGrid",x:S,y:0,height:v},I.vertical)),p.axesLabels=p.axesLabels||{},g=0;g<w.length;g++)e=w[g],i=e.getSurface(),n=i.getRegion(),u=e.getSprites()[0],r=n[2],s=n[3],a=e.getPosition(),h=u.attr,c=u.thickness,d=h.axisLine?h.lineWidth:0,f=d/2,l=Math.max(h.majorTickSize,h.minorTickSize)+d,o=p.axesLabels[a]=i.add({type:"composite"}),o.labelRect=o.add(Ext.apply({type:"rect",fillStyle:"white",x:"right"===a?d:i.roundPixel(r-c-l)-f,y:"bottom"===a?d:i.roundPixel(s-c-l)-d,width:"left"===a?c-f+l:c+l,height:"top"===a?c+l:c+l},T.rect||T[a].rect)),o.labelText=o.add(Ext.apply(Ext.Object.chain(e.config.label),T.label||T[a].label,{type:"text",x:function(){switch(a){case"left":return r-l-f-c/2;case"right":return c/2+l-f;default:return 0}}(),y:function(){switch(a){case"top":return s-l-f-c/2;case"bottom":return c/2+l;default:return 0}}()}));return!1}},onGesture:function(t){var e=this;if(e.getLocks()[e.getGesture()]===e){var i,n,r,s,a,o,l,u,h,c,d,f,g,p,m,x,E,y,v,b=e.getChart(),S=b.getSurface("overlay-surface"),C=Ext.Array.slice(b.getInnerRegion()),w=b.getInnerPadding(),T=w.left,I=w.top,A=C[2],P=C[3],M=b.element.getXY(),D=t.pageX-M[0]-C[0],k=t.pageY-M[1]-C[1],R=b.getAxes();for(0>D?D=0:D>A&&(D=A),0>k?k=0:k>P&&(k=P),D+=T,k+=I,v=0;v<R.length;v++)i=R[v],n=i.getPosition(),r=i.getAlignment(),s=i.getSurface(),a=i.getSprites()[0],o=a.attr.matrix,d=2*a.attr.textPadding,h=e.axesLabels[n],l=a.getLayoutContext(),u=i.getSegmenter(),h&&("vertical"===r?(g=o.getYY(),m=o.getDY(),E=(k-m-I)/g,i.getLayout()instanceof Ext.chart.axis.layout.Discrete?(k=Math.round(E)*g+m+I,E=u.from(Math.round(E)),E=a.attr.data[E]):E=u.from(E),y=u.renderer(E,l),h.setAttributes({translationY:k-I}),h.labelText.setAttributes({text:y}),c=h.labelText.getBBox(),h.labelRect.setAttributes({height:c.height+d,y:-(c.height+d)/2}),s.renderFrame()):(f=o.getXX(),p=o.getDX(),x=(D-p-T)/f,i.getLayout()instanceof Ext.chart.axis.layout.Discrete?(D=Math.round(x)*f+p+T,x=u.from(Math.round(x)),x=a.attr.data[x]):x=u.from(x),y=u.renderer(x,l),h.setAttributes({translationX:D-T}),h.labelText.setAttributes({text:y}),c=h.labelText.getBBox(),h.labelRect.setAttributes({width:c.width+d,x:-(c.width+d)/2}),s.renderFrame()));return e.horizontalLine.setAttributes({y:k}),e.verticalLine.setAttributes({x:D}),S.renderFrame(),!1}},onGestureEnd:function(){var t,e,i,n,r,s=this,a=s.getChart(),o=a.getSurface("overlay-surface"),l=a.getAxes();for(o.remove(s.verticalLine),o.remove(s.horizontalLine),r=0;r<l.length;r++)t=l[r],e=t.getPosition(),i=t.getSurface(),n=s.axesLabels[e],n&&(delete s.axesLabels[e],i.remove(n)),i.renderFrame();o.renderFrame(),s.unlockEvents(s.getGesture())}}),Ext.define("Ext.chart.interactions.ItemHighlight",{extend:Ext.chart.interactions.Abstract,type:"itemhighlight",alias:"interaction.itemhighlight",config:{gesture:"tap"},getGestures:function(){var t={};return t["item"+this.getGesture()]="onGesture",t[this.getGesture()]="onFailedGesture",t},onGesture:function(t,e,i){return i.highlightItem=e,!1},onFailedGesture:function(t){this.getChart().setHighlightItem(t.highlightItem||null),this.sync()}}),Ext.define("Ext.chart.interactions.ItemInfo",{extend:Ext.chart.interactions.Abstract,type:"iteminfo",alias:"interaction.iteminfo",config:{gesture:"itemtap",panel:{modal:!0,centered:!0,width:250,height:300,styleHtmlContent:!0,scrollable:"vertical",hideOnMaskTap:!0,fullscreen:!1,hidden:!0,zIndex:30,items:[{docked:"top",xtype:"toolbar",title:"Item Detail"}]}},applyPanel:function(t,e){return Ext.factory(t,"Ext.Panel",e)},updatePanel:function(t,e){t&&t.on("hide","reset",this),e&&e.un("hide","reset",this)},onGesture:function(t,e){var i=this,n=i.getPanel();return i.item=e,i.fireEvent("show",i,e,n),Ext.Viewport.add(n),n.show("pop"),t.setAttributesForItem(e,{highlighted:!0}),i.sync(),!1},reset:function(){var t=this,e=t.item;e&&(e.series.setAttributesForItem(e,{highlighted:!1}),delete t.item,t.sync())}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(t){return new this(t.x,t.y)}},constructor:function(t,e){return this.x=null==t||isNaN(t)?0:t,this.y=null==e||isNaN(e)?0:e,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(t){this.x=t.x,this.y=t.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(t){return t instanceof this.statics()||Ext.Error.raise("Offset must be an instance of Ext.util.Offset"),this.x==t.x&&this.y==t.y},round:function(t){if(isNaN(t))this.x=Math.round(this.x),this.y=Math.round(this.y);else{var e=Math.pow(10,t);this.x=Math.round(this.x*e)/e,this.y=Math.round(this.y*e)/e}},isZero:function(){return 0==this.x&&0==this.y}}),Ext.define("Ext.util.Region",{statics:{getRegion:function(t){return Ext.fly(t).getPageBox(!0)},from:function(t){return new this(t.top,t.right,t.bottom,t.left)}},constructor:function(t,e,i,n){var r=this;r.top=t,r[1]=t,r.right=e,r.bottom=i,r.left=n,r[0]=n},contains:function(t){var e=this;return t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom},intersect:function(t){var e=this,i=Math.max(e.top,t.top),n=Math.min(e.right,t.right),r=Math.min(e.bottom,t.bottom),s=Math.max(e.left,t.left);return r>i&&n>s?new Ext.util.Region(i,n,r,s):!1},union:function(t){var e=this,i=Math.min(e.top,t.top),n=Math.max(e.right,t.right),r=Math.max(e.bottom,t.bottom),s=Math.min(e.left,t.left);return new Ext.util.Region(i,n,r,s)},constrainTo:function(t){var e=this,i=Ext.util.Numbers.constrain;return e.top=i(e.top,t.top,t.bottom),e.bottom=i(e.bottom,t.top,t.bottom),e.left=i(e.left,t.left,t.right),e.right=i(e.right,t.left,t.right),e},adjust:function(t,e,i,n){var r=this;return r.top+=t,r.left+=n,r.right+=e,r.bottom+=i,r},getOutOfBoundOffset:function(t,e){if(Ext.isObject(t)){var i=new Ext.util.Offset;return i.x=this.getOutOfBoundOffsetX(t.x),i.y=this.getOutOfBoundOffsetY(t.y),i}return"x"==t?this.getOutOfBoundOffsetX(e):this.getOutOfBoundOffsetY(e)},getOutOfBoundOffsetX:function(t){return t<=this.left?this.left-t:t>=this.right?this.right-t:0},getOutOfBoundOffsetY:function(t){return t<=this.top?this.top-t:t>=this.bottom?this.bottom-t:0},isOutOfBound:function(t,e){return Ext.isObject(t)?(e=t,this.isOutOfBoundX(e.x)||this.isOutOfBoundY(e.y)):"x"==t?this.isOutOfBoundX(e):this.isOutOfBoundY(e)},isOutOfBoundX:function(t){return t<this.left||t>this.right},isOutOfBoundY:function(t){return t<this.top||t>this.bottom},restrict:function(t,e,i){if(Ext.isObject(t)){var n;return i=e,e=t,n=e.copy?e.copy():{x:e.x,y:e.y},n.x=this.restrictX(e.x,i),n.y=this.restrictY(e.y,i),n}return"x"==t?this.restrictX(e,i):this.restrictY(e,i)},restrictX:function(t,e){return e||(e=1),t<=this.left?t-=(t-this.left)*e:t>=this.right&&(t-=(t-this.right)*e),t},restrictY:function(t,e){return e||(e=1),t<=this.top?t-=(t-this.top)*e:t>=this.bottom&&(t-=(t-this.bottom)*e),t},getSize:function(){return{width:this.right-this.left,height:this.bottom-this.top}},copy:function(){return new Ext.util.Region(this.top,this.right,this.bottom,this.left)},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(t){return this.left+=t.x,this.right+=t.x,this.top+=t.y,this.bottom+=t.y,this},round:function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},equals:function(t){return this.top==t.top&&this.right==t.right&&this.bottom==t.bottom&&this.left==t.left}}),Ext.define("Ext.chart.interactions.PanZoom",{extend:Ext.chart.interactions.Abstract,type:"panzoom",alias:"interaction.panzoom",config:{axes:{top:{},right:{},bottom:{},left:{}},minZoom:null,maxZoom:null,showOverflowArrows:!0,gesture:"pinch",panGesture:"drag",zoomOnPanGesture:!1,modeToggleButton:{cls:["x-panzoom-toggle","x-zooming"],iconCls:"expand"},hideLabelInGesture:!1},stopAnimationBeforeSync:!0,applyAxes:function(t,e){return Ext.merge(e||{},t)},applyZoomOnPanGesture:function(t){return this.getChart(),this.isMultiTouch()?!1:t},updateZoomOnPanGesture:function(t){if(!this.isMultiTouch()){var e=this.getModeToggleButton(),i=Ext.baseCSSPrefix+"zooming";t?(e.addCls(i),e.config.hideText||e.setText("Zoom")):(e.removeCls(i),e.config.hideText||e.setText("Pan"))}},toggleMode:function(){var t=this;t.isMultiTouch()||t.setZoomOnPanGesture(!t.getZoomOnPanGesture())},applyModeToggleButton:function(t,e){var i=this,n=Ext.factory(t,"Ext.Button",e);return n&&!e&&n.setHandler(function(){i.toggleMode()}),n},getGestures:function(){var t=this,e={};return e[t.getGesture()]="onGesture",e[t.getGesture()+"start"]="onGestureStart",e[t.getGesture()+"end"]="onGestureEnd",e[t.getPanGesture()]="onPanGesture",e[t.getPanGesture()+"start"]="onPanGestureStart",e[t.getPanGesture()+"end"]="onPanGestureEnd",e.doubletap="onDoubleTap",e},onDoubleTap:function(){},onPanGestureStart:function(t){if(!t||!t.touches||t.touches.length<2){var e=this,i=e.getChart().getInnerRegion(),n=e.getChart().element.getXY();return e.startX=t.pageX-n[0]-i[0],e.startY=t.pageY-n[1]-i[1],e.oldVisibleRanges=null,e.hideLabels(),e.getChart().suspendThicknessChanged(),e.lockEvents(e.getPanGesture()),!1}},onPanGesture:function(t){if(this.getLocks()[this.getPanGesture()]===this){var e=this,i=e.getChart().getInnerRegion(),n=e.getChart().element.getXY();return e.getZoomOnPanGesture()?e.transformAxesBy(e.getZoomableAxes(t),0,0,(t.pageX-n[0]-i[0])/e.startX,e.startY/(t.pageY-n[1]-i[1])):e.transformAxesBy(e.getPannableAxes(t),t.pageX-n[0]-i[0]-e.startX,t.pageY-n[1]-i[1]-e.startY,1,1),e.sync(),!1}},onPanGestureEnd:function(){var t=this;return this.getLocks()[this.getPanGesture()]===this?(t.getChart().resumeThicknessChanged(),t.showLabels(),t.sync(),t.unlockEvents(t.getGestures()),!1):void 0},onGestureStart:function(t){if(t.touches&&2===t.touches.length){var e=this,i=e.getChart().element.getXY(),n=e.getChart().getInnerRegion(),r=i[0]+n[0],s=i[1]+n[1],a=[t.touches[0].point.x-r,t.touches[0].point.y-s,t.touches[1].point.x-r,t.touches[1].point.y-s],o=Math.max(44,Math.abs(a[2]-a[0])),l=Math.max(44,Math.abs(a[3]-a[1]));return e.getChart().suspendThicknessChanged(),e.lastZoomDistances=[o,l],e.lastPoints=a,e.oldVisibleRanges=null,e.hideLabels(),e.lockEvents(e.getGesture()),!1}},onGesture:function(t){if(this.getLocks()[this.getGesture()]===this){var e=this,i=e.getChart().getInnerRegion(),n=e.getChart().element.getXY(),r=n[0]+i[0],s=n[1]+i[1],a=Math.abs,o=e.lastPoints,l=[t.touches[0].point.x-r,t.touches[0].point.y-s,t.touches[1].point.x-r,t.touches[1].point.y-s],u=Math.max(44,a(l[2]-l[0])),h=Math.max(44,a(l[3]-l[1])),c=this.lastZoomDistances||[u,h],d=u/c[0],f=h/c[1];return e.transformAxesBy(e.getZoomableAxes(t),i[2]*(d-1)/2+l[2]-o[2]*d,i[3]*(f-1)/2+l[3]-o[3]*f,d,f),e.sync(),!1}},onGestureEnd:function(){var t=this;return t.getLocks()[t.getGesture()]===t?(t.getChart().resumeThicknessChanged(),t.showLabels(),t.sync(),t.unlockEvents(t.getGestures()),!1):void 0},hideLabels:function(){this.getHideLabelInGesture()&&this.eachInteractiveAxes(function(t){t.hideLabels()})},showLabels:function(){this.getHideLabelInGesture()&&this.eachInteractiveAxes(function(t){t.showLabels()})},isEventOnAxis:function(t,e){var i=e.getSurface().getRegion();return i[0]<=t.pageX&&t.pageX<=i[0]+i[2]&&i[1]<=t.pageY&&t.pageY<=i[1]+i[3]},getPannableAxes:function(t){var e,i,n=this,r=n.getAxes(),s=n.getChart().getAxes(),a=s.length,o=[],l=!1;if(t)for(e=0;a>e;e++)if(this.isEventOnAxis(t,s[e])){l=!0;break}for(e=0;a>e;e++)i=r[s[e].getPosition()],!i||i.allowPan===!1||l&&!this.isEventOnAxis(t,s[e])||o.push(s[e]);return o},getZoomableAxes:function(t){var e,i,n,r=this,s=r.getAxes(),a=r.getChart().getAxes(),o=[],l=a.length,u=!1;if(t)for(e=0;l>e;e++)if(this.isEventOnAxis(t,a[e])){u=!0;break}for(e=0;l>e;e++)i=a[e],n=s[i.getPosition()],!n||n.allowZoom===!1||u&&!this.isEventOnAxis(t,i)||o.push(i);return o},eachInteractiveAxes:function(t){for(var e=this,i=e.getAxes(),n=e.getChart().getAxes(),r=0;r<n.length;r++)if(i[n[r].getPosition()]&&!1===t.call(this,n[r]))return},transformAxesBy:function(t,e,i,n,r){var s,a=this.getChart().getInnerRegion(),o=this.getAxes(),l=this.oldVisibleRanges,u=!1;if(l||(this.oldVisibleRanges=l={},this.eachInteractiveAxes(function(t){l[t.getId()]=t.getVisibleRange()})),a){for(var h=0;h<t.length;h++)s=o[t[h].getPosition()],u=this.transformAxisBy(t[h],l[t[h].getId()],e,i,n,r,this.minZoom||s.minZoom,this.maxZoom||s.maxZoom)||u;return u}},transformAxisBy:function(t,e,i,n,r,s,a,o){var l,u,h=this,c=e[1]-e[0],d=t.getVisibleRange(),f=a||h.getMinZoom()||t.config.minZoom,g=o||h.getMaxZoom()||t.config.maxZoom,p=h.getChart().getInnerRegion();if(p){var m=t.isSide(),x=m?p[3]:p[2],E=m?-n:i;if(c/=m?s:r,0>c&&(c=-c),c*f>1&&(c=1),1>c*g&&(c=1/g),l=e[0],u=e[1],d=d[1]-d[0],c!==d||1!==d)return t.setVisibleRange([.5*(e[0]+e[1]-c)-E/x*c,.5*(e[0]+e[1]+c)-E/x*c]),Math.abs(l-t.getVisibleRange()[0])>1e-10||Math.abs(u-t.getVisibleRange()[1])>1e-10}},destroy:function(){this.setModeToggleButton(null),this.callSuper()}}),Ext.define("Ext.chart.interactions.Rotate",{extend:Ext.chart.interactions.Abstract,type:"rotate",alias:"interaction.rotate",config:{gesture:"rotate",currentRotation:0},oldRotations:null,getGestures:function(){return{rotate:"onRotate",rotateend:"onRotate",dragstart:"onGestureStart",drag:"onGesture",dragend:"onGestureEnd"}},getAngle:function(t){var e=this,i=e.getChart(),n=i.getEventXY(t),r=i.getCenter();return Math.atan2(n[1]-r[1],n[0]-r[0])},getEventRadius:function(t){var e=this,i=e.getChart(),n=i.getEventXY(t),r=i.getCenter(),s=n[0]-r[0],a=n[1]-r[1];
return Math.sqrt(s*s+a*a)},onGestureStart:function(t){var e=this,i=e.getChart(),n=i.getRadius(),r=e.getEventRadius(t);return n>=r?(e.lockEvents("drag"),e.angle=e.getAngle(t),e.oldRotations={},!1):void 0},onGesture:function(t){var e,i,n,r,s,a=this,o=a.getChart(),l=a.getAngle(t)-a.angle,u=o.getAxes(),h=o.getSeries(),c=a.oldRotations;if(a.getLocks().drag===a){for(o.suspendAnimation(),r=0,s=u.length;s>r;r++)i=u[r],n=c[i.getId()]||(c[i.getId()]=i.getRotation()),i.setRotation(l+n);for(r=0,s=h.length;s>r;r++)e=h[r],n=c[e.getId()]||(c[e.getId()]=e.getRotation()),e.setRotation(l+n);return a.setCurrentRotation(l+n),a.fireEvent("rotate",a,a.getCurrentRotation()),a.sync(),o.resumeAnimation(),!1}},rotateTo:function(t){var e,i,n=this,r=n.getChart(),s=r.getAxes(),a=r.getSeries();for(r.suspendAnimation(),e=0,i=s.length;i>e;e++)s[e].setRotation(t);for(e=0,i=a.length;i>e;e++)a[e].setRotation(t);n.setCurrentRotation(t),n.fireEvent("rotate",n,n.getCurrentRotation()),n.sync(),r.resumeAnimation()},onGestureEnd:function(t){var e=this;return e.getLocks().drag===e?(e.onGesture(t),e.unlockEvents("drag"),e.fireEvent("rotationEnd",e,e.getCurrentRotation()),!1):void 0},onRotate:function(){}}),Ext.define("Ext.chart.interactions.RotatePie3D",{extend:Ext.chart.interactions.Rotate,type:"rotatePie3d",alias:"interaction.rotatePie3d",getAngle:function(t){var e=this,i=e.getChart(),n=i.element.getXY(),r=i.getMainRegion();return Math.atan2(t.pageY-n[1]-.5*r[3],t.pageX-n[0]-.5*r[2])}}),Ext.define("Ext.chart.series.Cartesian",{extend:Ext.chart.series.Series,config:{xField:null,yField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],updateXAxis:function(t){t.processData(this)},updateYAxis:function(t){t.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},getItemForPoint:function(t,e){if(this.getSprites()){var i,n=this,r=n.getSprites()[0],s=n.getStore();if(n.getHidden())return null;if(r){var a=r.getIndexNearPoint(t,e);if(-1!==a)return i={series:this,category:this.getItemInstancing()?"items":"markers",index:a,record:s.getData().items[a],field:this.getYField(),sprite:r}}}},createSprite:function(){var t=this.callSuper(),e=this.getXAxis();return t.setAttributes({flipXY:this.getChart().getFlipXY()}),t.setAggregator&&e&&e.getAggregator&&t.setAggregator(e.getAggregator?{strategy:e.getAggregator()}:{}),t},getSprites:function(){var t,e=this,i=this.getChart(),n=i&&i.getAnimate(),r=e.getItemInstancing(),s=e.sprites;return i?(t=s.length?s[0]:e.createSprite(),n&&(e.getLabel().getTemplate().fx.setConfig(n),r&&t.itemsMarker.getTemplate().fx.setConfig(n),t.fx.setConfig(n)),s):[]},provideLegendInfo:function(t){var e=this.getStyle();t.push({name:this.getTitle()||this.getYField()||this.getId(),mark:e.fillStyle||e.strokeStyle||"black",disabled:!1,series:this.getId(),index:0})},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]}}),Ext.define("Ext.chart.series.StackedCartesian",{extend:Ext.chart.series.Cartesian,config:{stacked:!0,hidden:[]},animatingSprites:0,updateStacked:function(){this.processData()},coordinateY:function(){return this.coordinateStacked("Y",1,2)},getFields:function(t){var e,i,n,r=this,s=[];for(i=0,n=t.length;n>i;i++)e=r["get"+t[i]+"Field"](),Ext.isArray(e)?s.push.apply(s,e):s.push(e);return s},updateLabelOverflowPadding:function(t){this.getLabel().setAttributes({labelOverflowPadding:t})},getSprites:function(){var t,e,i=this,n=this.getChart(),r=n&&n.getAnimate(),s=i.getFields(i.fieldCategoryY),a=i.getItemInstancing(),o=i.sprites,l=i.getHidden(),u=!1,h=s.length;if(!n)return[];for(e=0;h>e;e++)t=o[e],t||(t=i.createSprite(),t.setAttributes(n.getFlipXY()?{zIndex:e}:{zIndex:-e}),t.setField(s[e]),u=!0,l.push(!1),a?t.itemsMarker.getTemplate().setAttributes(i.getOverriddenStyleByIndex(e)):t.setAttributes(i.getStyleByIndex(e))),r&&(a&&t.itemsMarker.getTemplate().fx.setConfig(r),t.fx.setConfig(r));return u&&i.updateHidden(l),o},getItemForPoint:function(t,e){if(this.getSprites()){var i,n,r,s,a=this,o=a.getItemInstancing(),l=a.getSprites(),u=a.getStore(),h=a.getHidden();for(i=0,n=l.length;n>i;i++)if(!h[i]){r=l[i];var c=r.getIndexNearPoint(t,e);if(-1!==c)return s={series:a,index:c,category:o?"items":"markers",record:u.getData().items[c],field:this.getYField()[i],sprite:r}}return null}},provideLegendInfo:function(t){for(var e=this.getSprites(),i=(this.getTitle(),this.getYField()),n=this.getHidden(),r=0;r<e.length;r++)t.push({name:Ext.isArray(this.getTitle())?this.getTitle()[r]:i&&i[r]||this.getId(),mark:this.getStyleByIndex(r).fillStyle||this.getStyleByIndex(r).strokeStyle||"black",disabled:n[r],series:this.getId(),index:r})},onSpriteAnimationStart:function(){this.animatingSprites++,1===this.animatingSprites&&this.fireEvent("animationstart")},onSpriteAnimationEnd:function(){this.animatingSprites--,0===this.animatingSprites&&this.fireEvent("animationend")}}),Ext.define("Ext.chart.series.sprite.Cartesian",{extend:Ext.draw.sprite.Sprite,mixins:{markerHolder:Ext.chart.MarkerHolder},homogeneous:!0,ascending:!0,inheritableStatics:{def:{processors:{dataMinX:"number",dataMaxX:"number",dataMinY:"number",dataMaxY:"number",rangeX:"data",rangeY:"data",dataY:"data",dataX:"data",labels:"default",labelOverflowPadding:"number",selectionTolerance:"number",flipXY:"bool",renderer:"default",visibleMinX:"number",visibleMinY:"number",visibleMaxX:"number",visibleMaxY:"number",innerWidth:"number",innerHeight:"number"},defaults:{dataY:null,dataX:null,dataMinX:0,dataMaxX:1,dataMinY:0,dataMaxY:1,labels:null,labelOverflowPadding:10,selectionTolerance:20,flipXY:!1,renderer:null,transformFillStroke:!1,visibleMinX:0,visibleMinY:0,visibleMaxX:1,visibleMaxY:1,innerWidth:1,innerHeight:1},dirtyTriggers:{dataX:"dataX,bbox",dataY:"dataY,bbox",dataMinX:"bbox",dataMaxX:"bbox",dataMinY:"bbox",dataMaxY:"bbox",visibleMinX:"panzoom",visibleMinY:"panzoom",visibleMaxX:"panzoom",visibleMaxY:"panzoom",innerWidth:"panzoom",innerHeight:"panzoom"},updaters:{dataX:function(t){this.processDataX(),t.dirtyFlags.dataY||(t.dirtyFlags.dataY=[]),t.dirtyFlags.dataY.push("dataY")},dataY:function(){this.processDataY()},panzoom:function(t){var e=t.visibleMaxX-t.visibleMinX,i=t.visibleMaxY-t.visibleMinY,n=t.flipXY?t.innerHeight:t.innerWidth,r=t.flipXY?t.innerWidth:t.innerHeight;t.translationX=-t.visibleMinX*n/e,t.translationY=-t.visibleMinY*r/i,t.scalingX=n/e,t.scalingY=r/i,t.scalingCenterX=0,t.scalingCenterY=0,this.applyTransformations(!0)}}}},config:{store:null,field:null},processDataY:Ext.emptyFn,processDataX:Ext.emptyFn,updatePlainBBox:function(t){var e=this.attr;t.x=e.dataMinX,t.y=e.dataMinY,t.width=e.dataMaxX-e.dataMinX,t.height=e.dataMaxY-e.dataMinY},binarySearch:function(t){var e=this.attr.dataX,i=0,n=e.length;if(t<=e[0])return i;if(t>=e[n-1])return n-1;for(;n>i+1;){var r=i+n>>1,s=e[r];if(s===t)return r;t>s?i=r:n=r}return i},render:function(t,e,i){var n=this,r=n.attr,s=(r.flipXY,r.inverseMatrix.clone());if(s.appendMatrix(t.inverseMatrix),null!==r.dataX&&null!==r.dataY){if(s.getXX()*s.getYX()||s.getXY()*s.getYY())return void console.log("Cartesian Series sprite does not support rotation/sheering");var a=s.transformList([[i[0]-1,i[3]+1],[i[0]+i[2]+1,-1]]);return a=a[0].concat(a[1]),a[2]<a[0]?void console.log("Cartesian Series sprite does not supports flipped X."):void n.renderClipped(t,e,a,i)}},renderClipped:Ext.emptyFn,getIndexNearPoint:function(t,e){for(var i,n,r=this,s=r.attr.matrix,a=r.attr.dataX,o=r.attr.dataY,l=r.attr.selectionTolerance,u=-1,h=s.clone().prependMatrix(this.surfaceMatrix).inverse(),c=h.transformPoint([t,e]),d=h.transformPoint([t-l,e-l]),f=h.transformPoint([t+l,e+l]),g=Math.min(d[0],f[0]),p=Math.max(d[0],f[0]),m=Math.min(d[1],f[1]),x=Math.max(d[1],f[1]),E=0;E<a.length;E++)g<a[E]&&a[E]<p&&m<o[E]&&o[E]<x&&(-1===u||Math.abs(a[E]-c[0])<i&&Math.abs(o[E]-c[1])<n)&&(i=Math.abs(a[E]-c[0]),n=Math.abs(o[E]-c[1]),u=E);return u}}),Ext.define("Ext.chart.series.sprite.StackedCartesian",{extend:Ext.chart.series.sprite.Cartesian,inheritableStatics:{def:{processors:{groupCount:"number",groupOffset:"number",dataStartY:"data"},defaults:{selectionTolerance:20,groupCount:1,groupOffset:0,dataStartY:null},dirtyTriggers:{dataStartY:"dataY,bbox"}}},getIndexNearPoint:function(t,e){for(var i,n,r=this,s=r.attr.matrix,a=r.attr.dataX,o=r.attr.dataY,l=r.attr.dataStartY,u=r.attr.selectionTolerance,h=.5,c=1/0,d=-1,f=s.clone().prependMatrix(this.surfaceMatrix).inverse(),g=f.transformPoint([t,e]),p=f.transformPoint([t-u,e-u]),m=f.transformPoint([t+u,e+u]),x=Math.min(p[1],m[1]),E=Math.max(p[1],m[1]),y=0;y<a.length;y++)Math.min(l[y],o[y])<=E&&x<=Math.max(l[y],o[y])&&(i=Math.abs(a[y]-g[0]),n=Math.max(-Math.min(o[y]-g[1],g[1]-l[y]),0),h>i&&c>=n&&(h=i,c=n,d=y));return d}}),Ext.define("Ext.chart.series.sprite.Area",{alias:"sprite.areaSeries",extend:Ext.chart.series.sprite.StackedCartesian,inheritableStatics:{def:{processors:{step:"bool"},defaults:{step:!1}}},renderClipped:function(t,e,i){var n,r,s,a,o,l=this,u=l.attr,h=u.dataX,c=u.dataY,d=u.dataStartY,f=u.matrix,g=f.elements[0],p=f.elements[4],m=f.elements[3],x=f.elements[5],E=l.surfaceMatrix,y={},v=Math.max(0,this.binarySearch(i[0])),b=Math.min(h.length-1,this.binarySearch(i[2])+1);if(e.beginPath(),u.step)for(o=c[v]*m+x,s=v;b>=s;s++)n=h[s]*g+p,r=c[s]*m+x,e.lineTo(n,o),e.lineTo(n,o=r);else for(s=v;b>=s;s++)n=h[s]*g+p,r=c[s]*m+x,e.lineTo(n,r);if(d)if(u.step)for(a=h[b]*g+p,s=b;s>=v;s--)n=h[s]*g+p,r=d[s]*m+x,e.lineTo(a,r),e.lineTo(a=n,r);else for(s=b;s>=v;s--)n=h[s]*g+p,r=d[s]*m+x,e.lineTo(n,r);else e.lineTo(h[b]*g+p,r),e.lineTo(h[b]*g+p,x),e.lineTo(h[v]*g+p,x),e.lineTo(h[v]*g+p,c[s]*m+x);if(u.transformFillStroke&&u.matrix.toContext(e),e.fill(),u.transformFillStroke&&u.inverseMatrix.toContext(e),e.beginPath(),u.step)for(s=v;b>=s;s++)n=h[s]*g+p,r=c[s]*m+x,e.lineTo(n,o),e.lineTo(n,o=r),y.translationX=E.x(n,r),y.translationY=E.y(n,r),l.putMarker("markers",y,s,!u.renderer);else for(s=v;b>=s;s++)n=h[s]*g+p,r=c[s]*m+x,e.lineTo(n,r),y.translationX=E.x(n,r),y.translationY=E.y(n,r),l.putMarker("markers",y,s,!u.renderer);u.transformFillStroke&&u.matrix.toContext(e),e.stroke()}}),Ext.define("Ext.chart.series.Area",{extend:Ext.chart.series.StackedCartesian,alias:"series.area",type:"area",seriesType:"areaSeries"}),Ext.define("Ext.chart.series.sprite.Bar",{alias:"sprite.barSeries",extend:Ext.chart.series.sprite.StackedCartesian,inheritableStatics:{def:{processors:{minBarWidth:"number",maxBarWidth:"number",minGapWidth:"number",radius:"number",inGroupGapWidth:"number"},defaults:{minBarWidth:2,maxBarWidth:100,minGapWidth:5,inGroupGapWidth:3,radius:0}}},drawLabel:function(t,e,i,n,r){var s,a,o,l,u=this,h=u.attr,c=u.getBoundMarker("labels")[0],d=c.getTemplate(),f=u.labelCfg||(u.labelCfg={}),g=u.surfaceMatrix,p=h.labelOverflowPadding,m=d.attr.display,x=d.attr.orientation;switch(o=u.getMarkerBBox("labels",r,!0),f.text=t,o||(u.putMarker("labels",f,r),o=u.getMarkerBBox("labels",r,!0)),f.rotationRads=h.flipXY?0:.5*-Math.PI,f.calloutVertical=!h.flipXY,x){case"horizontal":f.rotationRads=0;break;case"vertical":f.rotationRads=.5*-Math.PI}a=o.width/2+p,i>n&&(a=-a),s="horizontal"===x&&h.flipXY||"vertical"===x&&!h.flipXY||!x?"insideStart"===m?i+a:n-a:"insideStart"===m?i+2*p:n-2*p,f.x=g.x(e,s),f.y=g.y(e,s),s="insideStart"===m?i-a:n+a,f.calloutPlaceX=g.x(e,s),f.calloutPlaceY=g.y(e,s),s="insideStart"===m?i:n,f.calloutStartX=g.x(e,s),f.calloutStartY=g.y(e,s),i>n&&(a=-a),f.callout=Math.abs(n-i)<=2*a||"outside"===m?1:0,d.attr.renderer&&(l=d.attr.renderer.call(this,t,c,f,{store:this.getStore()},r),"string"==typeof l?f.text=l:Ext.apply(f,l)),u.putMarker("labels",f,r)},drawBar:function(t,e,i,n,r,s,a,o){var l,u=this.itemCfg||(this.itemCfg={});u.x=n,u.y=r,u.width=s-n,u.height=a-r,u.radius=this.attr.radius,this.attr.renderer&&(l=this.attr.renderer.call(this,this,u,{store:this.getStore()},o),Ext.apply(u,l)),this.putMarker("items",u,o,!this.attr.renderer)},renderClipped:function(t,e,i){if(!this.cleanRedraw){var n,r,s,a,o,l,u,h,c=this,d=c.attr,f=d.dataX,g=d.dataY,p=d.labels,m=d.dataStartY,x=d.groupCount,E=d.groupOffset-.5*(x-1),y=d.inGroupGapWidth,v=e.lineWidth,b=d.matrix,S=b.elements[0],C=b.elements[3],w=b.elements[4],T=t.roundPixel(b.elements[5])-1,I=S-d.minGapWidth,A=t.roundPixel(Math.max(d.minBarWidth,(Math.min(I,d.maxBarWidth)-y*(x-1))/x)),P=this.surfaceMatrix,M=.5*d.lineWidth,D=Math.max(0,Math.floor(i[0])),k=Math.min(f.length-1,Math.ceil(i[2])),R=p&&!!this.getBoundMarker("labels");for(u=D;k>=u;u++)n=m?m[u]:0,r=g[u],h=f[u]*S+w+E*(A+y),s=t.roundPixel(h-A/2)+M,l=t.roundPixel(r*C+v+T),a=t.roundPixel(h+A/2)-M,o=t.roundPixel(n*C+v+T),c.drawBar(e,t,i,s,l-M,a,o-M,u),R&&p[u]&&c.drawLabel(p[u],h,o,l,u),c.putMarker("markers",{translationX:P.x(h,l),translationY:P.y(h,l)},u,!0)}},getIndexNearPoint:function(t,e){var i,n,r=this,s=r.attr,a=s.dataX,o=r.getParent(),l=o.getRegion(),u=l[3],h=-1;s.flipXY?(i=u-e,n=t):(i=t,n=u-e);for(var c=0;c<a.length;c++){var d=r.getMarkerBBox("items",c);d&&i>=d.x&&i<=d.x+d.width&&n>=d.y&&n<=d.y+d.height&&(h=c)}return h}}),Ext.define("Ext.chart.series.Bar",{extend:Ext.chart.series.StackedCartesian,alias:"series.bar",type:"bar",seriesType:"barSeries",config:{itemInstancing:{type:"rect",fx:{customDuration:{x:0,y:0,width:0,height:0,radius:0}}}},getItemForPoint:function(t,e){if(this.getSprites()){var i=this,n=i.getChart(),r=n.getInnerPadding();return arguments[0]=t-r.left,arguments[1]=e+r.bottom,i.callParent(arguments)}},updateXAxis:function(t){t.setLabelInSpan(!0),this.callSuper(arguments)},updateHidden:function(){this.callParent(arguments),this.updateStacked()},updateStacked:function(){var t,e=this.getSprites(),i=e.length,n=[],r={};for(t=0;i>t;t++)e[t].attr.hidden||n.push(e[t]);if(i=n.length,this.getStacked())for(r.groupCount=1,r.groupOffset=0,t=0;i>t;t++)n[t].setAttributes(r);else for(r.groupCount=n.length,t=0;i>t;t++)r.groupOffset=t,n[t].setAttributes(r);this.callSuper(arguments)}}),Ext.define("Ext.draw.LimitedCache",{config:{limit:40,feeder:function(){return 0},scope:null},cache:null,constructor:function(t){this.cache={},this.cache.list=[],this.cache.tail=0,this.initConfig(t)},get:function(t){var e=this.cache,i=this.getLimit(),n=this.getFeeder(),r=this.getScope()||this;return e[t]?e[t].value:(e.list[e.tail]&&delete e[e.list[e.tail].cacheId],e[t]=e.list[e.tail]={value:n.apply(r,Array.prototype.slice.call(arguments,1)),cacheId:t},e.tail++,e.tail===i&&(e.tail=0),e[t].value)},clear:function(){this.cache={},this.cache.list=[],this.cache.tail=0}}),Ext.define("Ext.draw.SegmentTree",{config:{strategy:"double"},time:function(t,e,i){var n,r,s,a,o,l,u=0,h=new Date(i[t.startIdx[0]]),c=new Date(i[t.endIdx[e-1]]),d=Ext.Date,f=[[d.MILLI,1,"ms1",null],[d.MILLI,2,"ms2","ms1"],[d.MILLI,5,"ms5","ms1"],[d.MILLI,10,"ms10","ms5"],[d.MILLI,50,"ms50","ms10"],[d.MILLI,100,"ms100","ms50"],[d.MILLI,500,"ms500","ms100"],[d.SECOND,1,"s1","ms500"],[d.SECOND,10,"s10","s1"],[d.SECOND,30,"s30","s10"],[d.MINUTE,1,"mi1","s10"],[d.MINUTE,5,"mi5","mi1"],[d.MINUTE,10,"mi10","mi5"],[d.MINUTE,30,"mi30","mi10"],[d.HOUR,1,"h1","mi30"],[d.HOUR,6,"h6","h1"],[d.HOUR,12,"h12","h6"],[d.DAY,1,"d1","h12"],[d.DAY,7,"d7","d1"],[d.MONTH,1,"mo1","d1"],[d.MONTH,3,"mo3","mo1"],[d.MONTH,6,"mo6","mo3"],[d.YEAR,1,"y1","mo3"],[d.YEAR,5,"y5","y1"],[d.YEAR,10,"y10","y5"],[d.YEAR,100,"y100","y10"]],g=u,p=e,m=!1,x=t.startIdx,E=t.endIdx,y=t.minIdx,v=t.maxIdx,b=t.open,S=t.close,C=t.minX,w=t.minY,T=t.maxX,I=t.maxY;for(s=0;e>u+1&&s<f.length;s++)if(h=new Date(i[x[0]]),a=f[s],h=d.align(h,a[0],a[1]),!(d.diff(h,c,a[0])>2*i.length*a[1])){for(a[3]&&t.map["time_"+a[3]]?(n=t.map["time_"+a[3]][0],r=t.map["time_"+a[3]][1]):(n=g,r=p),u=e,l=h,m=!0,x[e]=x[n],E[e]=E[n],y[e]=y[n],v[e]=v[n],b[e]=b[n],S[e]=S[n],C[e]=C[n],w[e]=w[n],T[e]=T[n],I[e]=I[n],l=Ext.Date.add(l,a[0],a[1]),o=n+1;r>o;o++)i[E[o]]<+l?(E[e]=E[o],S[e]=S[o],I[o]>I[e]&&(I[e]=I[o],T[e]=T[o],v[e]=v[o]),w[o]<w[e]&&(w[e]=w[o],C[e]=C[o],y[e]=y[o])):(e++,x[e]=x[o],E[e]=E[o],y[e]=y[o],v[e]=v[o],b[e]=b[o],S[e]=S[o],C[e]=C[o],w[e]=w[o],T[e]=T[o],I[e]=I[o],l=Ext.Date.add(l,a[0],a[1]));e>u&&(t.map["time_"+a[2]]=[u,e])}},"double":function(t,e){for(var i,n,r,s,a,o,l,u,h,c,d,f,g=0,p=1;e>g+1;){for(i=g,g=e,p+=p,n=i;g>n;n+=2)n===g-1?(r=t.startIdx[n],s=t.endIdx[n],a=t.minIdx[n],o=t.maxIdx[n],l=t.open[n],u=t.close[n],h=t.minX[n],c=t.minY[n],d=t.maxX[n],f=t.maxY[n]):(r=t.startIdx[n],s=t.endIdx[n+1],l=t.open[n],u=t.close[n],t.minY[n]<=t.minY[n+1]?(a=t.minIdx[n],h=t.minX[n],c=t.minY[n]):(a=t.minIdx[n+1],h=t.minX[n+1],c=t.minY[n+1]),t.maxY[n]>=t.maxY[n+1]?(o=t.maxIdx[n],d=t.maxX[n],f=t.maxY[n]):(o=t.maxIdx[n+1],d=t.maxX[n+1],f=t.maxY[n+1])),t.startIdx[e]=r,t.endIdx[e]=s,t.minIdx[e]=a,t.maxIdx[e]=o,t.open[e]=l,t.close[e]=u,t.minX[e]=h,t.minY[e]=c,t.maxX[e]=d,t.maxY[e]=f,e++;t.map["double_"+p]=[g,e]}},none:Ext.emptyFn,aggregateData:function(t,e,i,n,r){var s,a=t.length,o=[],l=[],u=[],h=[],c=[],d=[],f=[],g=[],p=[],m=[],x={startIdx:o,endIdx:l,minIdx:u,maxIdx:h,open:c,minX:d,minY:f,maxX:g,maxY:p,close:m};for(s=0;a>s;s++)o[s]=s,l[s]=s,u[s]=s,h[s]=s,c[s]=e[s],d[s]=t[s],f[s]=n[s],g[s]=t[s],p[s]=i[s],m[s]=r[s];return x.map={original:[0,a]},a&&this[this.getStrategy()](x,a,t,e,i,n,r),x},binarySearchMin:function(t,e,i,n){var r=this.dataX;if(n<=r[t.startIdx[0]])return e;if(n>=r[t.startIdx[i-1]])return i-1;for(;i>e+1;){var s=e+i>>1,a=r[t.startIdx[s]];if(a===n)return s;n>a?e=s:i=s}return e},binarySearchMax:function(t,e,i,n){var r=this.dataX;if(n<=r[t.endIdx[0]])return e;if(n>=r[t.endIdx[i-1]])return i-1;for(;i>e+1;){var s=e+i>>1,a=r[t.endIdx[s]];if(a===n)return s;n>a?e=s:i=s}return i},constructor:function(t){this.initConfig(t)},setData:function(t,e,i,n,r){i||(r=n=i=e),this.dataX=t,this.dataOpen=e,this.dataHigh=i,this.dataLow=n,this.dataClose=r,t.length===i.length&&t.length===n.length&&(this.cache=this.aggregateData(t,e,i,n,r))},getAggregation:function(t,e,i){if(!this.cache)return null;var n,r,s,a,o,l,u=1/0,h=this.dataX[this.dataX.length-1]-this.dataX[0],c=this.cache.map,d=c.original;for(n in c)r=c[n],s=r[1]-r[0]-1,a=h/s,a>=i&&u>a&&(d=r,u=a);return o=Math.max(this.binarySearchMin(this.cache,d[0],d[1],t),d[0]),l=Math.min(this.binarySearchMax(this.cache,d[0],d[1],e)+1,d[1]),{data:this.cache,start:o,end:l}}}),Ext.define("Ext.chart.series.sprite.Aggregative",{extend:Ext.chart.series.sprite.Cartesian,inheritableStatics:{def:{processors:{dataHigh:"data",dataLow:"data",dataClose:"data"},aliases:{dataOpen:"dataY"},defaults:{dataHigh:null,dataLow:null,dataClose:null}}},config:{aggregator:{}},applyAggregator:function(t,e){return Ext.factory(t,Ext.draw.SegmentTree,e)},constructor:function(){this.callSuper(arguments)},processDataY:function(){var t=this,e=t.attr,i=e.dataHigh,n=e.dataLow,r=e.dataClose,s=e.dataY;t.callSuper(arguments),e.dataX&&s&&s.length>0&&(i?t.getAggregator().setData(e.dataX,e.dataY,i,n,r):t.getAggregator().setData(e.dataX,e.dataY))},getGapWidth:function(){return 1},renderClipped:function(t,e,i,n){var r=this,s=r.getAggregator()&&r.getAggregator().getAggregation(i[0],i[2],(i[2]-i[0])/n[2]*r.getGapWidth());s&&(r.dataStart=s.data.startIdx[s.start],r.dataEnd=s.data.endIdx[s.end-1],r.renderAggregates(s.data,s.start,s.end,t,e,i,n))}}),Ext.define("Ext.chart.series.sprite.CandleStick",{alias:"sprite.candlestickSeries",extend:Ext.chart.series.sprite.Aggregative,inheritableStatics:{def:{processors:{raiseStyle:function(t,e){return Ext.merge({},e||{},t)},dropStyle:function(t,e){return Ext.merge({},e||{},t)},barWidth:"number",padding:"number",ohlcType:"enums(candlestick,ohlc)"},defaults:{raiseStyle:{strokeStyle:"green",fillStyle:"green"},dropStyle:{strokeStyle:"red",fillStyle:"red"},planar:!1,barWidth:15,padding:3,lineJoin:"miter",miterLimit:5,ohlcType:"candlestick"},dirtyTriggers:{raiseStyle:"raiseStyle",dropStyle:"dropStyle"},updaters:{raiseStyle:function(){this.raiseTemplate&&this.raiseTemplate.setAttributes(this.attr.raiseStyle)},dropStyle:function(){this.dropTemplate&&this.dropTemplate.setAttributes(this.attr.dropStyle)}}}},candlestick:function(t,e,i,n,r,s,a){var o=Math.min(e,r),l=Math.max(e,r);t.moveTo(s,n),t.lineTo(s,l),t.moveTo(s+a,l),t.lineTo(s+a,o),t.lineTo(s-a,o),t.lineTo(s-a,l),t.closePath(),t.moveTo(s,i),t.lineTo(s,o)},ohlc:function(t,e,i,n,r,s,a){t.moveTo(s,i),t.lineTo(s,n),t.moveTo(s,e),t.lineTo(s-a,e),t.moveTo(s,r),t.lineTo(s+a,r)},constructor:function(){this.callSuper(arguments),this.raiseTemplate=new Ext.draw.sprite.Rect({parent:this}),this.dropTemplate=new Ext.draw.sprite.Rect({parent:this})},getGapWidth:function(){var t=this.attr,e=t.barWidth,i=t.padding;return e+i},renderAggregates:function(t,e,i,n,r){var s,a,o,l,u,h,c,d=this,f=this.attr,g=f.dataX,p=f.matrix,m=p.getXX(),x=p.getYY(),E=p.getDX(),y=p.getDY(),v=f.barWidth/m,b=f.ohlcType,S=Math.round(.5*v*m),C=t.open,w=(t.high,t.low,t.close),T=t.maxY,I=t.minY,A=t.startIdx,P=f.lineWidth*n.devicePixelRatio/2;for(P-=Math.floor(P),r.save(),s=this.raiseTemplate,s.useAttributes(r),r.beginPath(),c=e;i>c;c++)C[c]<=w[c]&&(a=Math.round(C[c]*x+y)+P,o=Math.round(T[c]*x+y)+P,l=Math.round(I[c]*x+y)+P,u=Math.round(w[c]*x+y)+P,h=Math.round(g[A[c]]*m+E)+P,d[b](r,a,o,l,u,h,S));for(r.fillStroke(s.attr),r.restore(),r.save(),s=this.dropTemplate,s.useAttributes(r),r.beginPath(),c=e;i>c;c++)C[c]>w[c]&&(a=Math.round(C[c]*x+y)+P,o=Math.round(T[c]*x+y)+P,l=Math.round(I[c]*x+y)+P,u=Math.round(w[c]*x+y)+P,h=Math.round(g[A[c]]*m+E)+P,d[b](r,a,o,l,u,h,S));r.fillStroke(s.attr),r.restore()}}),Ext.define("Ext.chart.series.CandleStick",{extend:Ext.chart.series.Cartesian,alias:"series.candlestick",type:"candlestick",seriesType:"candlestickSeries",config:{openField:null,highField:null,lowField:null,closeField:null},fieldCategoryY:["Open","High","Low","Close"]}),Ext.define("Ext.chart.series.Gauge",{alias:"series.gauge",extend:Ext.chart.series.Series,type:"gauge",seriesType:"pieslice",config:{angleField:null,field:null,needle:!1,needleLengthRatio:void 0,needleLength:90,needleWidth:4,donut:30,showInLegend:!1,value:null,colors:null,sectors:null,minimum:0,maximum:100,rotation:0,totalAngle:Math.PI/2,region:[0,0,1,1],center:[.5,.75],radius:.5,wholeDisk:!1},updateNeedle:function(t){var e=this,i=e.getSprites(),n=e.valueToAngle(e.getValue());i&&i.length&&(i[0].setAttributes({startAngle:t?n:0,endAngle:n,strokeOpacity:t?1:0,lineWidth:t?e.getNeedleWidth():0}),e.doUpdateStyles())},updateColors:function(t){{var e,i=this,n=i.getSectors(),r=n&&n.length,s=i.getSprites(),a=(s&&s.length,Ext.Array.clone(t)),o=t&&t.length;i.getNeedle()}if(o&&t[0]){for(e=0;r>e;e++)a[e+1]=n[e].color||a[e+1]||t[e%o];s[0].setAttributes({stroke:a[0]}),this.setSubStyle({color:a}),this.doUpdateStyles()}},updateAngleField:function(t){this.setField(t)},updateNeedleLengthRatio:function(t){this.setNeedleLength(100*t)},updateRegion:function(t){var e,i,n,r=this.getWholeDisk(),s=r?Math.PI:this.getTotalAngle()/2,a=this.getDonut()/100;s<=Math.PI/2?(e=2*Math.sin(s),i=1-a*Math.cos(s)):(e=2,i=1-Math.cos(s)),n=Math.min(t[2]/e,t[3]/i),this.setRadius(n),this.setCenter([t[2]/2,n+(t[3]-i*n)/2])},updateCenter:function(t){this.setStyle({centerX:t[0],centerY:t[1],rotationCenterX:t[0],rotationCenterY:t[1]}),this.doUpdateStyles()},updateRotation:function(t){this.setStyle({rotationRads:t-(this.getTotalAngle()+Math.PI)/2}),this.doUpdateStyles()},doUpdateShape:function(t,e){var i,n=this.getSectors(),r=n&&n.length||0,s=this.getNeedleLength()/100;for(i=[t*s,t];r--;)i.push(t);this.setSubStyle({endRho:i,startRho:t/100*e}),this.doUpdateStyles()},updateRadius:function(t){var e=this.getDonut();this.doUpdateShape(t,e)},updateDonut:function(t){var e=this.getRadius();this.doUpdateShape(e,t)},valueToAngle:function(t){return t=this.applyValue(t),this.getTotalAngle()*(t-this.getMinimum())/(this.getMaximum()-this.getMinimum())},applyValue:function(t){return Math.min(this.getMaximum(),Math.max(t,this.getMinimum()))},updateValue:function(t){var e=this,i=e.getNeedle(),n=e.valueToAngle(t),r=e.getSprites();r[0].rendererData.value=t,r[0].setAttributes({startAngle:i?n:0,endAngle:n}),e.doUpdateStyles()},processData:function(){var t=this.getStore();if(t){var e=this.getField();e&&t.getData().items.length&&this.setValue(t.getData().items[0].get(e))}},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer(),fx:{customDuration:{translationX:0,translationY:0,rotationCenterX:0,rotationCenterY:0,centerX:0,centerY:0,startRho:0,endRho:0,baseRotation:0}}}},normalizeSectors:function(t){var e,i,n,r,s=this,a=t&&t.length||0;if(a)for(e=0;a>e;e++)i=t[e],"number"==typeof i?(t[e]={start:e>0?t[e-1].end:s.getMinimum(),end:Math.min(i,s.getMaximum())},e==a-1&&t[e].end<s.getMaximum()&&(t[e+1]={start:t[e].end,end:s.getMaximum()})):(n="number"==typeof i.start?Math.max(i.start,s.getMinimum()):e>0?t[e-1].end:s.getMinimum(),r="number"==typeof i.end?Math.min(i.end,s.getMaximum()):s.getMaximum(),t[e].start=n,t[e].end=r);else t=[{start:s.getMinimum(),end:s.getMaximum()}];return t},getSprites:function(){var t,e,i=this,n=i.getStore(),r=i.getValue();if(!n&&!Ext.isNumber(r))return[];var s,a,o,l,u=i.getChart(),h=u.getAnimate(),c=i.sprites,d=0;if(c&&c.length)return c[0].fx.setConfig(h),c;for(l={store:n,field:i.getField(),value:r,series:i},s=i.createSprite(),s.setAttributes({zIndex:10},!0),s.rendererData=l,s.rendererIndex=d++,i.getLabel().getTemplate().setField(!0),a=i.normalizeSectors(i.getSectors()),t=0,e=a.length;e>t;t++)o={startAngle:i.valueToAngle(a[t].start),endAngle:i.valueToAngle(a[t].end),label:a[t].label,fillStyle:a[t].color,strokeOpacity:0,rotateLabels:!1,doCallout:!1,labelOverflowPadding:-1},Ext.apply(o,a[t].style),s=i.createSprite(),s.rendererData=l,s.rendererIndex=d++,s.setAttributes(o,!0);var f=i.getColors()||u&&u.config.colors;return f||i.setColors(["blue","lightgray"]),i.doUpdateStyles(),c}}),Ext.define("Ext.event.publisher.Publisher",{targetType:"",idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var t,e,i,n,r=this.handledEvents;for(t=this.handledEventsMap={},e=0,i=r.length;i>e;e++)n=r[e],t[n]=!0;return this.subscribers={},this},handles:function(t){var e=this.handledEventsMap;return!!e[t]||!!e["*"]||"*"===t},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(t){this.dispatcher=t},subscribe:function(){return!1},unsubscribe:function(){return!1},unsubscribeAll:function(){return delete this.subscribers,this.subscribers={},this},notify:function(){return!1},getTargetType:function(){return this.targetType},dispatch:function(t,e,i){this.dispatcher.doDispatchEvent(this.targetType,t,e,i)}}),Ext.define("Ext.chart.series.ItemPublisher",{extend:Ext.event.publisher.Publisher,targetType:"series",handledEvents:["itemmousemove","itemmouseup","itemmousedown","itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemtap","itemtapstart","itemtapend","itemtapcancel","itemtaphold","itemdoubletap","itemsingletap","itemtouchstart","itemtouchmove","itemtouchend","itemdragstart","itemdrag","itemdragend","itempinchstart","itempinch","itempinchend","itemswipe"],delegationRegex:/^item([a-z]+)$/i,getSubscribers:function(t){var e=this.subscribers;return e.hasOwnProperty(t)||(e[t]={}),e[t]},subscribe:function(t,e){var i,n,r=t.match(this.idSelectorRegex),s=this.dispatcher,a=this.targetType;return r?(n=r[1],(i=Ext.ComponentManager.get(n))?(i.getChart()?this.attachChart(i.getChart(),[i,e]):s.addListener(a,t,"chartattached","attachChart",this,[i,e],"before"),!0):!1):!1},attachChart:function(t,e){var i=this.dispatcher,n=this.targetType,r=e[0],s=e[1],a=this.getSubscribers(t.getId()),o=s.match(this.delegationRegex);if(o){var l=o[1];return a.hasOwnProperty(s)||(a[s]=[],i.addListener(n,"#"+r.getId(),"chartdetached","detachChart",this,[r,s,a],"after"),t.element.on(l,"relayMethod",this,[t,s])),a[s].push(r),!0}return!1},unsubscribe:function(t,e){var i,n,r=t.match(this.idSelectorRegex),s=this.dispatcher,a=this.targetType;return r?(n=r[1],(i=Ext.ComponentManager.get(n))?(s.removeListener(a,t,"chartattached","attachChart",this,"before"),i.getChart()&&this.detachChart(i.getChart(),[i,e]),!0):!1):!1},detachChart:function(t,e){var i,n,r=this.dispatcher,s=this.targetType,a=e[0],o=e[1],l=this.getSubscribers(t.getId()),u=o.match(this.delegationRegex);if(u){var h=u[1];l.hasOwnProperty(o)&&(n=l[o],i=n.indexOf(a),i>-1&&n.splice(i,1),0===n.length&&(t.element.un(h,"relayMethod",this,[t,o]),r.removeListener(s,"#"+a.getId(),"chartdetached","detachChart",this,"after"),delete l[o]))}},relayMethod:function(t,e,i){var n,r,s=i[0],a=i[1],o=this.dispatcher,l=this.targetType,u=s.getEventXY(t),h=u[0],c=u[1],d=this.getSubscribers(s.getId())[a];if(d)for(n=0,r=d.length;r>n;n++){var f=d[n],g=f.getItemForPoint(h,c);if(g)return void o.doDispatchEvent(l,"#"+f.getId(),a,[f,g,t])}}},function(){}),Ext.define("Ext.chart.series.sprite.Line",{alias:"sprite.lineSeries",extend:Ext.chart.series.sprite.Aggregative,inheritableStatics:{def:{processors:{smooth:"bool",fillArea:"bool",step:"bool",preciseStroke:"bool"},defaults:{smooth:!1,fillArea:!1,step:!1,preciseStroke:!0},dirtyTriggers:{dataX:"dataX,bbox,smooth",dataY:"dataY,bbox,smooth",smooth:"smooth"},updaters:{smooth:function(t){t.smooth&&t.dataX&&t.dataY&&t.dataX.length>2&&t.dataY.length>2?(this.smoothX=Ext.draw.Draw.spline(t.dataX),this.smoothY=Ext.draw.Draw.spline(t.dataY)):(delete this.smoothX,delete this.smoothY)}}}},list:null,updatePlainBBox:function(t){var e=this.attr,i=Math.min(0,e.dataMinY),n=Math.max(0,e.dataMaxY);t.x=e.dataMinX,t.y=i,t.width=e.dataMaxX-e.dataMinX,t.height=n-i},drawStroke:function(t,e,i,n,r,s){function a(t,e){for(var i=0,n=t;n>0&&e>n;)i++,n+=t>>i;return i>0?i-1:i}var o,l,u,h,c,d,f,g,p,m,x,E,y,v=this.attr,b=v.matrix,S=b.getXX(),C=b.getYY(),w=b.getDX(),T=b.getDY(),I=v.smooth,A=v.step,P=Math.pow(2,a(v.dataX.length,n)),M=this.smoothX,D=this.smoothY;if(e.beginPath(),I&&M&&D)for(e.moveTo(M[3*i]*S+w,D[3*i]*C+T),o=0,l=3*i+1;o<r.length-3;o+=3,l+=3*P)c=M[l]*S+w,d=D[l]*C+T,f=M[l+1]*S+w,g=D[l+1]*C+T,p=r[o+3],m=r[o+4],x=r[o],E=r[o+1],v.renderer?(u={type:"line",smooth:!0,step:A,cx1:c,cy1:d,cx2:f,cy2:g,x:p,y:m,x0:x,y0:E},h=v.renderer.call(this,this,u,{store:this.getStore()},o/3+1),e.save(),Ext.apply(e,h),v.fillArea&&(y=e.strokeOpacity,e.save(),e.strokeOpacity=0,e.moveTo(x,E),e.bezierCurveTo(c,d,f,g,p,m),e.lineTo(p,s),e.lineTo(x,s),e.lineTo(x,E),e.closePath(),e.fillStroke(v,!0),e.restore(),e.strokeOpacity=y,e.beginPath()),e.moveTo(x,E),e.bezierCurveTo(c,d,f,g,p,m),e.moveTo(x,E),e.closePath(),e.stroke(),e.restore(),e.beginPath(),e.moveTo(p,m)):e.bezierCurveTo(c,d,f,g,p,m);else for(e.moveTo(r[0],r[1]),o=3;o<r.length;o+=3)p=r[o],m=r[o+1],x=r[o-3],E=r[o-2],v.renderer?(u={type:"line",smooth:!1,step:A,x:p,y:m,x0:x,y0:E},h=v.renderer.call(this,this,u,{store:this.getStore()},o/3),e.save(),Ext.apply(e,h),v.fillArea&&(y=e.strokeOpacity,e.save(),e.strokeOpacity=0,A?e.lineTo(p,E):e.lineTo(p,m),e.lineTo(p,s),e.lineTo(x,s),e.lineTo(x,E),e.closePath(),e.fillStroke(v,!0),e.restore(),e.strokeOpacity=y,e.beginPath()),e.moveTo(x,E),A&&(e.lineTo(p,E),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(p,E)),e.lineTo(p,m),e.closePath(),e.stroke(),e.restore(),e.beginPath(),e.moveTo(p,m)):(A&&e.lineTo(p,E),e.lineTo(p,m))},drawLabel:function(t,e,i,n,r){var s,a,o,l,u,h,c=this,d=c.attr,f=c.getBoundMarker("labels")[0],g=f.getTemplate(),p=c.labelCfg||(c.labelCfg={}),m=c.surfaceMatrix,x=d.labelOverflowPadding;p.text=t,u=this.getMarkerBBox("labels",n,!0),u||(c.putMarker("labels",p,n),u=this.getMarkerBBox("labels",n,!0)),p.rotationRads=d.flipXY?.5*Math.PI:0,o=u.width/2,l=u.height/2,s=e,a="over"===g.attr.display?i+l+x:i-l-x,s<=r[0]+o?s=r[0]+o:s>=r[2]-o&&(s=r[2]-o),a<=r[1]+l?a=r[1]+l:a>=r[3]-l&&(a=r[3]-l),p.x=m.x(s,a),p.y=m.y(s,a),g.attr.renderer&&(h=g.attr.renderer.call(this,t,f,p,{store:this.getStore()},n),"string"==typeof h?p.text=h:Ext.apply(p,h)),c.putMarker("labels",p,n)},renderAggregates:function(t,e,i,n,r,s,a){var o,l,u,h,c=this,d=c.attr,f=d.dataX,g=d.dataY,p=d.labels,m=p&&!!c.getBoundMarker("labels"),x=d.matrix,E=n.matrix,y=n.devicePixelRatio,v=x.getXX(),b=x.getYY(),S=x.getDX(),C=x.getDY(),w={},T=this.list||(this.list=[]),I=t.minX,A=t.maxX,P=t.minY,M=t.maxY,D=t.startIdx;for(T.length=0,u=e;i>u;u++){var k=I[u],R=A[u],O=P[u],L=M[u];
R>k?(T.push(k*v+S,O*b+C,D[u]),T.push(R*v+S,L*b+C,D[u])):k>R?(T.push(R*v+S,L*b+C,D[u]),T.push(k*v+S,O*b+C,D[u])):T.push(R*v+S,L*b+C,D[u])}if(T.length){for(u=0;u<T.length;u+=3)o=T[u],l=T[u+1],h=T[u+2],d.renderer&&(w={type:"marker",x:o,y:l},w=d.renderer.call(this,this,w,{store:this.getStore()},u/3)||{}),w.translationX=E.x(o,l),w.translationY=E.y(o,l),c.putMarker("markers",w,h,!d.renderer),m&&p[h]&&c.drawLabel(p[h],o,l,h,a);if(c.drawStroke(n,r,e,i,T,a[1]-y),!d.renderer){var F=f[f.length-1]*v+S+y,B=g[g.length-1]*b+C,N=a[1]-y,z=f[0]*v+S-y,H=g[0]*b+C;r.lineTo(F,B),r.lineTo(F,N),r.lineTo(z,N),r.lineTo(z,H)}r.closePath(),d.transformFillStroke&&d.matrix.toContext(r),d.preciseStroke?(d.fillArea&&r.fill(),d.transformFillStroke&&d.inverseMatrix.toContext(r),c.drawStroke(n,r,e,i,T,a[1]-y),d.transformFillStroke&&d.matrix.toContext(r),r.stroke()):d.fillArea?r.fillStroke(d,!0):r.stroke(!0)}}}),Ext.define("Ext.chart.series.Line",{extend:Ext.chart.series.Cartesian,alias:"series.line",type:"line",seriesType:"lineSeries",config:{selectionTolerance:20,smooth:!1,step:!1,fill:void 0,aggregator:{strategy:"double"}},defaultSmoothness:3,overflowBuffer:1,getDefaultSpriteConfig:function(){var t=this,e=t.callSuper(arguments),i=t.getStyle(),n=!1;return"undefined"!=typeof t.config.fill?t.config.fill&&(n=!0,"undefined"==typeof i.fillStyle&&(i.fillStyle=i.strokeStyle)):i.fillStyle&&(n=!0),n||delete i.fillStyle,Ext.apply(e||{},{fillArea:n,step:t.config.step,smooth:t.config.smooth,selectionTolerance:t.config.selectionTolerance})}}),Ext.define("Ext.chart.series.Polar",{extend:Ext.chart.series.Series,config:{rotation:0,radius:null,center:[0,0],offsetX:0,offsetY:0,showInLegend:!0,xField:null,yField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer(),centerX:0,centerY:0,rotationCenterX:0,rotationCenterY:0}},applyRotation:function(t){var e=2*Math.PI;return(t%e+Math.PI)%e-Math.PI},updateRotation:function(t){var e=this.getSprites();e&&e[0]&&e[0].setAttributes({baseRotation:t})}}),Ext.define("Ext.chart.series.sprite.PieSlice",{alias:"sprite.pieslice",mixins:{markerHolder:Ext.chart.MarkerHolder},extend:Ext.draw.sprite.Sector,inheritableStatics:{def:{processors:{doCallout:"bool",rotateLabels:"bool",label:"string",labelOverflowPadding:"number",renderer:"default"},defaults:{doCallout:!0,rotateLabels:!0,label:"",labelOverflowPadding:10,renderer:null}}},config:{rendererData:null,rendererIndex:0},render:function(){var t,e=this,i=e.attr,n={};i.renderer&&(n={type:"sector",text:i.text,centerX:i.centerX,centerY:i.centerY,margin:i.margin,startAngle:Math.min(i.startAngle,i.endAngle),endAngle:Math.max(i.startAngle,i.endAngle),startRho:Math.min(i.startRho,i.endRho),endRho:Math.max(i.startRho,i.endRho)},t=i.renderer.call(e,e,n,e.rendererData,e.rendererIndex),Ext.apply(e.attr,t)),e.callSuper(arguments),i.label&&e.getBoundMarker("labels")&&e.placeLabel()},placeLabel:function(){var t,e,i,n,r=this,s=r.attr,a=Math.min(s.startAngle,s.endAngle),o=Math.max(s.startAngle,s.endAngle),l=.5*(a+o),u=s.margin,h=s.centerX,c=s.centerY,d=Math.min(s.startRho,s.endRho)+u,f=Math.max(s.startRho,s.endRho)+u,g=.5*(d+f),p=r.surfaceMatrix,m=r.labelCfg||(r.labelCfg={}),x=r.getBoundMarker("labels")[0].getTemplate();p.appendMatrix(s.matrix),m.text=s.label,e=h+Math.cos(l)*g,i=c+Math.sin(l)*g,m.x=p.x(e,i),m.y=p.y(e,i),e=h+Math.cos(l)*f,i=c+Math.sin(l)*f,m.calloutStartX=p.x(e,i),m.calloutStartY=p.y(e,i),e=h+Math.cos(l)*(f+40),i=c+Math.sin(l)*(f+40),m.calloutPlaceX=p.x(e,i),m.calloutPlaceY=p.y(e,i),m.rotationRads=s.rotateLabels?l+Math.atan2(p.y(1,0)-p.y(0,0),p.x(1,0)-p.x(0,0)):0,m.calloutColor=r.attr.fillStyle,m.globalAlpha=s.globalAlpha*s.fillOpacity,m.hidden=s.startAngle==s.endAngle,s.renderer&&(m.type="label",n=s.renderer.call(r,r,m,r.rendererData,r.rendererIndex),Ext.apply(m,n)),r.putMarker("labels",m,r.attr.attributeId),t=r.getMarkerBBox("labels",r.attr.attributeId,!0),t&&(s.doCallout?"outside"===x.attr.display?r.putMarker("labels",{callout:1},r.attr.attributeId):r.putMarker("labels",{callout:1-+r.sliceContainsLabel(s,t)},r.attr.attributeId):r.putMarker("labels",{globalAlpha:+r.sliceContainsLabel(s,t)},r.attr.attributeId))},sliceContainsLabel:function(t,e){var i,n,r,s,a=t.labelOverflowPadding,o=(t.endRho+t.startRho)/2,l=o+(e.width+a)/2,u=o-(e.width+a)/2;return 0>a?1:e.width+2*a>t.endRho-t.startRho?0:(n=Math.sqrt(t.endRho*t.endRho-l*l),r=Math.sqrt(t.endRho*t.endRho-u*u),i=Math.abs(t.endAngle-t.startAngle),s=i>Math.PI/2?u:Math.abs(Math.tan(i/2))*u,e.height+2*a>2*Math.min(n,r,s)?0:1)}}),Ext.define("Ext.chart.series.Pie",{extend:Ext.chart.series.Polar,type:"pie",alias:"series.pie",seriesType:"pieslice",config:{labelField:!1,donut:0,field:null,rotation:0,totalAngle:2*Math.PI,hidden:[],radiusFactor:100,style:{}},directions:["X"],setField:function(t){return this.setXField(t)},getField:function(){return this.getXField()},applyRadius:function(t){return t*this.getRadiusFactor()*.01},updateLabelData:function(){var t,e,i,n,r=this,s=r.getStore(),a=s.getData().items,o=r.getSprites(),l=r.getLabel().getTemplate().getField(),u=r.getHidden();if(o.length>0&&l){for(i=[],t=0,e=a.length;e>t;t++)i.push(a[t].get(l));for(t=0,e=o.length;e>t;t++)n=o[t],n.setAttributes({label:i[t]}),n.putMarker("labels",{hidden:u[t]},n.attr.attributeId)}},coordinateX:function(){var t,e,i=this,n=i.getStore(),r=n.getData().items,s=r.length,a=i.getXField(),o=0,l=i.getHidden(),u=[],h=0,c=i.getTotalAngle(),d=i.getSprites();if(d){for(e=0;s>e;e++)t=Math.abs(Number(r[e].get(a)))||0,l[e]||(o+=t),u[e]=o,e>=l.length&&(l[e]=!1);for(0!==o&&(o=c/o),e=0;s>e;e++)d[e].setAttributes({startAngle:h,endAngle:h=o?u[e]*o:0,globalAlpha:1});for(;e<i.sprites.length;e++)d[e].setAttributes({startAngle:c,endAngle:c,globalAlpha:0});i.getChart().refreshLegendStore()}},updateCenter:function(t){this.setStyle({translationX:t[0]+this.getOffsetX(),translationY:t[1]+this.getOffsetY()}),this.doUpdateStyles()},updateRadius:function(t){this.setStyle({startRho:t*this.getDonut()*.01,endRho:t}),this.doUpdateStyles()},updateDonut:function(t){var e=this.getRadius();this.setStyle({startRho:e*t*.01,endRho:e}),this.doUpdateStyles()},updateRotation:function(t){this.setStyle({rotationRads:t}),this.doUpdateStyles()},updateTotalAngle:function(){this.processData()},getSprites:function(){var t=this,e=t.getChart(),i=t.getStore();if(!e||!i)return[];t.getColors(),t.getSubStyle();var n,r,s,a=i.getData().items,o=a.length,l=e&&e.getAnimate(),u=t.sprites,h=0,c=!1,d=t.getLabel(),f=d.getTemplate();for(r={store:i,field:t.getField(),series:t},s=0;o>s;s++)n=u[s],n||(n=t.createSprite(),t.getHighlightCfg()&&(n.config.highlightCfg=t.getHighlightCfg(),n.addModifier("highlight",!0)),f.getField()&&(f.setAttributes({labelOverflowPadding:t.getLabelOverflowPadding()}),f.fx.setCustomDuration({callout:200}),n.bindMarker("labels",d)),n.setAttributes(t.getStyleByIndex(s)),n.rendererData=r,n.rendererIndex=h++,c=!0),n.fx.setConfig(l);return c&&t.doUpdateStyles(),t.sprites},normalizeAngle:function(t){var e=2*Math.PI;return t>=0?t%e:(t%e+e)%e},betweenAngle:function(t,e,i){var n=this.normalizeAngle;return e=n(e),i=n(i),t=n(t),0===i&&(i=2*Math.PI),t>=e&&i>t},getItemForAngle:function(t){var e,i=this,n=i.getSprites();for(t%=2*Math.PI;0>t;)t+=2*Math.PI;if(n)for(var r=i.getStore(),s=r.getData().items,a=i.getHidden(),o=0,l=r.getCount();l>o;o++)if(!a[o]&&(e=n[o].attr,e.startAngle<=t&&e.endAngle>=t))return{series:i,sprite:n[o],index:o,record:s[o],field:i.getXField()};return null},getItemForPoint:function(t,e){var i=this,n=i.getSprites();if(n){var r,s,a,o=i.getCenter(),l=i.getOffsetX(),u=i.getOffsetY(),h=t-o[0]+l,c=e-o[1]+u,d=i.getStore(),f=i.getDonut(),g=d.getData().items,p=Math.atan2(c,h)-i.getRotation(),m=Math.sqrt(h*h+c*c),x=i.getRadius(),E=f/100*x,y=i.getHidden();for(r=0,s=g.length;s>r;r++)if(!y[r]&&(a=n[r].attr,E+a.margin<=m&&m+a.margin<=x&&this.betweenAngle(p,a.startAngle,a.endAngle)))return{series:this,sprite:n[r],index:r,record:g[r],field:this.getXField()};return null}},provideLegendInfo:function(t){var e=this.getStore();if(e)for(var i=e.getData().items,n=this.getLabel().getTemplate().getField(),r=this.getField(),s=this.getHidden(),a=0;a<i.length;a++)t.push({name:n?String(i[a].get(n)):r+" "+a,mark:this.getStyleByIndex(a).fillStyle||this.getStyleByIndex(a).strokeStyle||"black",disabled:s[a],series:this.getId(),index:a})}}),Ext.define("Ext.chart.series.sprite.Pie3DPart",{extend:Ext.draw.sprite.Path,mixins:{markerHolder:Ext.chart.MarkerHolder},alias:"sprite.pie3dPart",type:"pie3dPart",inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number",thickness:"number",distortion:"number",baseColor:"color",baseRotation:"number",part:"enums(top,start,end,inner,outer)"},aliases:{rho:"endRho"},dirtyTriggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,partZIndex",endAngle:"path,partZIndex",startRho:"path",endRho:"path,bbox",margin:"path,bbox",thickness:"path",baseRotation:"path,partZIndex,partColor",baseColor:"partZIndex,partColor",part:"path,partZIndex"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:0,startRho:0,endRho:150,margin:0,distortion:1,baseRotation:0,baseColor:"white",part:"top"},updaters:{partColor:function(t){var e,i=Ext.draw.Color.fly(t.baseColor);switch(t.part){case"top":e=i.toString();break;case"outer":e=Ext.create("Ext.draw.gradient.Linear",{type:"linear",stops:[{offset:0,color:i.createDarker(.3).toString()},{offset:.3,color:i.toString()},{offset:.8,color:i.createLighter(.2).toString()},{offset:1,color:i.createDarker(.4).toString()}]});break;case"start":e=i.createDarker(.3).toString();break;case"end":e=i.createDarker(.3).toString();break;case"inner":e=Ext.create("Ext.draw.gradient.Linear",{type:"linear",stops:[{offset:0,color:i.createDarker(.4).toString()},{offset:.2,color:i.createLighter(.2).toString()},{offset:.7,color:i.toString()},{offset:1,color:i.createDarker(.3).toString()}]})}t.fillStyle=e,t.canvasAttributes.fillStyle=e},partZIndex:function(t){var e=t.baseRotation;switch(t.part){case"top":t.zIndex=5;break;case"outer":t.zIndex=4;break;case"start":t.zIndex=1+Math.sin(t.startAngle+e);break;case"end":t.zIndex=1+Math.sin(t.endAngle+e);break;case"inner":t.zIndex=1}t.dirtyZIndex=!0}}}},updatePlainBBox:function(t){var e=this.attr,i="inner"===e.part?e.startRho:e.endRho;t.width=2*i,t.height=i*e.distortion*2+e.thickness,t.x=e.centerX-i,t.y=e.centerY-i*e.distortion},updateTransformedBBox:function(t){return this.updatePlainBBox(t)},updatePath:function(t){this.attr.endAngle<this.attr.startAngle||this[this.attr.part+"Renderer"](t)},topRenderer:function(t){var e,i=this.attr,n=i.margin,r=i.distortion,s=i.centerX,a=i.centerY,o=i.baseRotation,l=i.startAngle+o,u=i.endAngle+o,h=i.startRho,c=i.endRho,d=Math.sin(u),f=Math.cos(u);e=.5*(l+u),s+=Math.cos(e)*n,a+=Math.sin(e)*n*r,t.ellipse(s,a,h,h*r,0,l,u,!1),t.lineTo(s+f*c,a+d*c*r),t.ellipse(s,a,c,c*r,0,u,l,!0),t.closePath()},startRenderer:function(t){var e,i=this.attr,n=i.margin,r=i.centerX,s=i.centerY,a=i.distortion,o=i.baseRotation,l=i.startAngle+o,u=i.endAngle+o,h=i.thickness,c=i.startRho,d=i.endRho,f=Math.sin(l),g=Math.cos(l);0>g&&(e=.5*(l+u),r+=Math.cos(e)*n,s+=Math.sin(e)*n*a,t.moveTo(r+g*c,s+f*c*a),t.lineTo(r+g*d,s+f*d*a),t.lineTo(r+g*d,s+f*d*a+h),t.lineTo(r+g*c,s+f*c*a+h),t.closePath())},endRenderer:function(t){var e,i=this.attr,n=i.margin,r=i.centerX,s=i.centerY,a=i.distortion,o=i.baseRotation,l=i.startAngle+o,u=i.endAngle+o,h=i.thickness,c=i.startRho,d=i.endRho,f=Math.sin(u),g=Math.cos(u);g>0&&(e=.5*(l+u),r+=Math.cos(e)*n,s+=Math.sin(e)*n*a,t.moveTo(r+g*c,s+f*c*a),t.lineTo(r+g*d,s+f*d*a),t.lineTo(r+g*d,s+f*d*a+h),t.lineTo(r+g*c,s+f*c*a+h),t.closePath())},innerRenderer:function(t){var e,i,n,r,s,a=this.attr,o=a.margin,l=a.centerX,u=a.centerY,h=a.distortion,c=a.baseRotation,d=a.startAngle+c,f=a.endAngle+c,g=a.thickness,p=a.startRho;s=.5*(d+f),l+=Math.cos(s)*o,u+=Math.sin(s)*o*h,d>=2*Math.PI&&(d-=2*Math.PI,f-=2*Math.PI),f>Math.PI&&f<3*Math.PI&&(n=d,r=Math.min(f,2*Math.PI),e=Math.sin(r),i=Math.cos(r),t.ellipse(l,u,p,p*h,0,n,r,!1),t.lineTo(l+i*p,u+e*p*h+g),t.ellipse(l,u+g,p,p*h,0,r,n,!0),t.closePath()),f>3*Math.PI&&(n=Math.PI,r=f,e=Math.sin(r),i=Math.cos(r),t.ellipse(l,u,p,p*h,0,n,r,!1),t.lineTo(l+i*p,u+e*p*h+g),t.ellipse(l,u+g,p,p*h,0,r,n,!0),t.closePath())},outerRenderer:function(t){var e,i,n,r,s,a=this.attr,o=a.margin,l=a.centerX,u=a.centerY,h=a.distortion,c=a.baseRotation,d=a.startAngle+c,f=a.endAngle+c,g=a.thickness,p=a.endRho;s=.5*(d+f),l+=Math.cos(s)*o,u+=Math.sin(s)*o*h,d>=2*Math.PI&&(d-=2*Math.PI,f-=2*Math.PI),d<Math.PI&&(n=d,r=Math.min(f,Math.PI),e=Math.sin(r),i=Math.cos(r),t.ellipse(l,u,p,p*h,0,n,r,!1),t.lineTo(l+i*p,u+e*p*h+g),t.ellipse(l,u+g,p,p*h,0,r,n,!0),t.closePath()),f>2*Math.PI&&(n=Math.max(d,2*Math.PI),r=f,e=Math.sin(r),i=Math.cos(r),t.ellipse(l,u,p,p*h,0,n,r,!1),t.lineTo(l+i*p,u+e*p*h+g),t.ellipse(l,u+g,p,p*h,0,r,n,!0),t.closePath())}}),Ext.define("Ext.chart.series.Pie3D",{extend:Ext.chart.series.Polar,type:"pie3d",seriesType:"pie3d",alias:"series.pie3d",config:{region:[0,0,0,0],thickness:35,distortion:.5,field:!1,lengthField:!1,donut:!1,rotation:0},applyRotation:function(t){var e=2*Math.PI;return(t%e+e)%e},updateRotation:function(t){var e,i,n=this.getSprites();for(e=0,i=n.length;i>e;e++)n[e].setAttributes({baseRotation:t})},updateColors:function(t){this.setSubStyle({baseColor:t})},doUpdateStyles:function(){for(var t=this.getSprites(),e=0,i=0,n=t&&t.length;n>e;e+=5,i++)t[e].setAttributes(this.getStyleByIndex(i)),t[e+1].setAttributes(this.getStyleByIndex(i)),t[e+2].setAttributes(this.getStyleByIndex(i)),t[e+3].setAttributes(this.getStyleByIndex(i)),t[e+4].setAttributes(this.getStyleByIndex(i))},processData:function(){var t,e,i,n,r=this,s=r.getChart(),a=s&&s.getAnimate(),o=r.getStore(),l=o.getData().items,u=l.length,h=r.getField(),c=0,d=[],f=this.getSprites();for(i=0;u>i;i++)t=l[i].get(h),c+=t,d[i]=c;if(0!==c){for(e=2*Math.PI/c,i=0;u>i;i++)d[i]*=e;for(i=0;i<f.length;i++)f[i].fx.setConfig(a);for(i=0,n=0;u>i;i++){var g={opacity:1,startAngle:n,endAngle:d[i]};f[5*i].setAttributes(g),f[5*i+1].setAttributes(g),f[5*i+2].setAttributes(g),f[5*i+3].setAttributes(g),f[5*i+4].setAttributes(g),n=d[i]}}},getSprites:function(){var t=this,e=this.getChart(),i=t.getSurface(),n=t.getStore();if(!n)return[];var r,s,a,o,l,u,h,c=n.getData().items,d=c.length,f=e&&e.getAnimate(),g=e.getMainRegion()||[0,0,1,1],p=t.getRotation(),m=t.getCenter(),x=t.getOffsetX(),E=t.getOffsetY(),y=Math.min((g[3]-2*t.getThickness())/t.getDistortion(),g[2])/2,v={centerX:m[0]+x,centerY:m[1]+E-t.getThickness()/2,endRho:y,startRho:y*t.getDonut()/100,thickness:t.getThickness(),distortion:t.getDistortion()},b=2*Math.PI;for(h=0;d>h;h++)r=Ext.apply({},this.getStyleByIndex(h),v),s=t.sprites[5*h],s?(a=t.sprites[5*h+1],o=t.sprites[5*h+2],l=t.sprites[5*h+3],u=t.sprites[5*h+4],f&&(s.fx.setConfig(f),a.fx.setConfig(f),o.fx.setConfig(f),l.fx.setConfig(f),u.fx.setConfig(f)),s.setAttributes(r),a.setAttributes(r),o.setAttributes(r),l.setAttributes(r),u.setAttributes(r)):(s=i.add({type:"pie3dPart",part:"top",startAngle:b,endAngle:b}),a=i.add({type:"pie3dPart",part:"start",startAngle:b,endAngle:b}),o=i.add({type:"pie3dPart",part:"end",startAngle:b,endAngle:b}),l=i.add({type:"pie3dPart",part:"inner",startAngle:b,endAngle:b,thickness:0}),u=i.add({type:"pie3dPart",part:"outer",startAngle:b,endAngle:b,thickness:0}),s.fx.setDurationOn("baseRotation",0),a.fx.setDurationOn("baseRotation",0),o.fx.setDurationOn("baseRotation",0),l.fx.setDurationOn("baseRotation",0),u.fx.setDurationOn("baseRotation",0),s.setAttributes(r),a.setAttributes(r),o.setAttributes(r),l.setAttributes(r),u.setAttributes(r),t.sprites.push(s,a,o,l,u));for(h*=5;h<t.sprites.length;h++)t.sprites[h].fx.setConfig(f),t.sprites[h].setAttributes({opacity:0,startAngle:b,endAngle:b,baseRotation:p});return t.sprites}}),Ext.define("Ext.chart.series.sprite.Polar",{mixins:{markerHolder:Ext.chart.MarkerHolder},extend:Ext.draw.sprite.Sprite,inheritableStatics:{def:{processors:{dataMinX:"number",dataMaxX:"number",dataMinY:"number",dataMaxY:"number",rangeX:"data",rangeY:"data",dataY:"data",dataX:"data",centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",baseRotation:"number",labels:"default",labelOverflowPadding:"number"},defaults:{dataY:null,dataX:null,dataMinX:0,dataMaxX:1,dataMinY:0,dataMaxY:1,centerX:0,centerY:0,startAngle:0,endAngle:Math.PI,startRho:0,endRho:150,baseRotation:0,labels:null,labelOverflowPadding:10},dirtyTriggers:{dataX:"bbox",dataY:"bbox",dataMinX:"bbox",dataMaxX:"bbox",dataMinY:"bbox",dataMaxY:"bbox",centerX:"bbox",centerY:"bbox",startAngle:"bbox",endAngle:"bbox",startRho:"bbox",endRho:"bbox",baseRotation:"bbox"}}},config:{store:null,field:null},updatePlainBBox:function(t){var e=this.attr;t.x=e.centerX-e.endRho,t.y=e.centerY+e.endRho,t.width=2*e.endRho,t.height=2*e.endRho}}),Ext.define("Ext.chart.series.sprite.Radar",{alias:"sprite.radar",extend:Ext.chart.series.sprite.Polar,render:function(t,e){var i,n,r,s,a,o=this,l=o.attr,u=l.centerX,h=l.centerY,c=l.matrix,d=l.dataMinX,f=l.dataMaxX,g=l.dataMaxY,p=l.dataX,m=l.dataY,x=l.rangeY,E=l.endRho,y=l.startRho,v=l.baseRotation,b=p.length,S={},C=o.surfaceMatrix;for(e.beginPath(),i=0;b>i;i++)a=(p[i]-d)/(f-d+1)*2*Math.PI+v,s=m[i]/(x?x[1]:g)*(E-y)+y,n=c.x(u+Math.cos(a)*s,h+Math.sin(a)*s),r=c.y(u+Math.cos(a)*s,h+Math.sin(a)*s),e.lineTo(n,r),S.translationX=C.x(n,r),S.translationY=C.y(n,r),o.putMarker("markers",S,i,!0);e.closePath(),e.fillStroke(l)}}),Ext.define("Ext.chart.series.Radar",{extend:Ext.chart.series.Polar,type:"radar",seriesType:"radar",alias:"series.radar",config:{},updateAngularAxis:function(t){t.processData(this)},updateRadialAxis:function(t){t.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},updateCenter:function(t){this.setStyle({translationX:t[0]+this.getOffsetX(),translationY:t[1]+this.getOffsetY()}),this.doUpdateStyles()},updateRadius:function(t){this.setStyle({endRho:t}),this.doUpdateStyles()},updateRotation:function(t){this.setStyle({rotationRads:t}),this.doUpdateStyles()},updateTotalAngle:function(){this.processData()},getItemForPoint:function(t,e){var i,n,r,s,a=this,o=a.sprites&&a.sprites[0],l=o.attr,u=l.dataX,h=l.dataY,c=l.centerX,d=l.centerY,f=l.dataMinX,g=l.dataMaxX,p=l.dataMaxY,m=l.endRho,x=l.startRho,E=l.baseRotation,y=u.length,v=a.getStore(),b=a.getMarker();if(a.getHidden())return null;if(o&&b)for(i=0;y>i;i++)if(r=(u[i]-f)/(g-f+1)*2*Math.PI+E,s=h[i]/p*(m-x)+x,Math.abs(c+Math.cos(r)*s-t)<22&&Math.abs(d+Math.sin(r)*s-e)<22)return n={series:this,sprite:o,index:i,record:v.getData().items[i],field:v.getFields().items[i]};return this.callSuper(arguments)},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]}},function(){var t=this;t.prototype.onAxesChanged=Ext.chart.series.Cartesian.prototype.onAxesChanged,t.prototype.getSprites=Ext.chart.series.Cartesian.prototype.getSprites}),Ext.define("Ext.chart.series.sprite.Scatter",{alias:"sprite.scatterSeries",extend:Ext.chart.series.sprite.Cartesian,renderClipped:function(t,e,i,n){if(!this.cleanRedraw)for(var r,s,a=this.attr,o=a.dataX,l=a.dataY,u=this.attr.matrix,h=u.getXX(),c=u.getYY(),d=u.getDX(),f=u.getDY(),g={},p=n[0]-h,m=n[0]+n[2]+h,x=n[1]-c,E=n[1]+n[3]+c,y=0;y<o.length;y++)r=o[y],s=l[y],r=r*h+d,s=s*c+f,r>=p&&m>=r&&s>=x&&E>=s&&(a.renderer&&a.renderer.call(this,this,g,{store:this.getStore()},y),g.translationX=r,g.translationY=s,this.putMarker("items",g,y,!a.renderer))}}),Ext.define("Ext.chart.series.Scatter",{extend:Ext.chart.series.Cartesian,alias:"series.scatter",type:"scatter",seriesType:"scatterSeries",config:{itemInstancing:{fx:{customDuration:{translationX:0,translationY:0}}}},applyMarker:function(t){this.getItemInstancing(),this.setItemInstancing(t)},provideLegendInfo:function(t){var e=this.config.marker;t.push({name:this.getTitle()||this.getYField()||this.getId(),mark:e.fill||e.stroke||"black",disabled:!1,series:this.getId(),index:0})}}),Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",config:{proxy:{type:"memory",reader:"array"}},loadData:function(t,e){this.callParent([t,e])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.direct.Manager",{singleton:!0,mixins:{observable:Ext.mixin.Observable},alternateClassName:"Ext.Direct",exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){var t=this;t.transactions=Ext.create("Ext.util.Collection",this.getKey),t.providers=Ext.create("Ext.util.Collection",this.getKey)},getKey:function(t){return t.getId()},addProvider:function(t){var e,i=this,n=Ext.toArray(arguments),r=0;{if(!(n.length>1))return t.isProvider||(t=Ext.create("direct."+t.type+"provider",t)),i.providers.add(t),t.on("data",i.onProviderData,i),t.isConnected()||t.connect(),t;for(e=n.length;e>r;++r)i.addProvider(n[r])}},getProvider:function(t){return t.isProvider?t:this.providers.get(t)},removeProvider:function(t){var e=this,i=e.providers;return t=t.isProvider?t:i.get(t),t?(t.un("data",e.onProviderData,e),i.remove(t),t):null},addTransaction:function(t){return this.transactions.add(t),t},removeTransaction:function(t){return t=this.getTransaction(t),this.transactions.remove(t),t},getTransaction:function(t){return Ext.isObject(t)?t:this.transactions.get(t)},onProviderData:function(t,e){var i,n,r=this,s=0;if(Ext.isArray(e))for(i=e.length;i>s;++s)r.onProviderData(t,e[s]);else n=e.getName(),n&&"event"!=n&&"exception"!=n?r.fireEvent(n,e):e.getStatus()===!1&&r.fireEvent("exception",e),r.fireEvent("event",e,t)},parseMethod:function(t){if(Ext.isString(t)){for(var e=t.split("."),i=0,n=e.length,r=window;r&&n>i;)r=r[e[i]],++i;t=Ext.isFunction(r)?r:null}return t||null}}),Ext.define("Ext.data.proxy.Direct",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",config:{paramOrder:void 0,paramsAsHash:!0,directFn:void 0,api:null,extraParams:null},paramOrderRe:/[\s,|]/,applyParamOrder:function(t){return Ext.isString(t)&&(t=t.split(this.paramOrderRe)),t},resolveMethods:function(){var t,e=this,i=e.getDirectFn(),n=e.getApi(),r=Ext.direct.Manager;if(i)e.setDirectFn(t=r.parseMethod(i)),Ext.isFunction(t)||Ext.Error.raise("Cannot resolve directFn "+i);else if(n)for(i in n)n.hasOwnProperty(i)&&(t=n[i],n[i]=r.parseMethod(t),Ext.isFunction(n[i])||Ext.Error.raise("Cannot resolve Direct api "+i+" method "+t));e.methodsResolved=!0},doRequest:function(t,e,i){var n,r,s=this,a=s.getWriter(),o=s.buildRequest(t,e,i),l=s.getApi()||{},u=o.getParams(),h=[];s.methodsResolved||s.resolveMethods(),n=l[o.getAction()]||s.getDirectFn(),n||Ext.Logger.error("No direct function specified for this proxy"),o=a.write(o),"read"==t.getAction()?(r=n.directCfg.method,h=r.getArgs(u,s.getParamOrder(),s.getParamsAsHash())):h.push(o.getJsonData()),h.push(s.createRequestCallback(o,t,e,i),s),o.setConfig({args:h,directFn:n}),n.apply(window,h)},applyEncoding:function(t){return t},createRequestCallback:function(t,e,i,n){var r=this;return function(s,a){r.processResponse(a.getStatus(),e,t,a,i,n)}},getResponseResult:function(t){return t.getResult()},extractResponseData:function(t){var e=t.getResult();return Ext.isDefined(e)?e:t.getData()},setException:function(t,e){t.setException(e.getMessage())},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:Ext.data.Store,alias:"store.direct",config:{proxy:{type:"direct",reader:{type:"json"}}}}),Ext.define("Ext.data.JsonP",{alternateClassName:"Ext.util.JSONP",singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(t){t=Ext.apply({},t),t.url||Ext.Logger.error("A url must be specified for a JSONP request.");var e,i,n=this,r=Ext.isDefined(t.disableCaching)?t.disableCaching:n.disableCaching,s=t.disableCachingParam||n.disableCachingParam,a=++n.requestCount,o=t.callbackName||"callback"+a,l=t.callbackKey||n.callbackKey,u=Ext.isDefined(t.timeout)?t.timeout:n.timeout,h=Ext.apply({},t.params),c=t.url,d=Ext.isSandboxed?Ext.getUniqueGlobalNamespace():"Ext";return h[l]=d+".data.JsonP."+o,r&&(h[s]=(new Date).getTime()),i=n.createScript(c,h,t),n.requests[a]=e={url:c,params:h,script:i,id:a,scope:t.scope,success:t.success,failure:t.failure,callback:t.callback,callbackKey:l,callbackName:o},u>0&&(e.timeout=setTimeout(Ext.bind(n.handleTimeout,n,[e]),u)),n.setupErrorHandling(e),n[o]=Ext.bind(n.handleResponse,n,[e],!0),n.loadScript(e),e},abort:function(t){var e,i=this.requests;if(t)t.id||(t=i[t]),this.handleAbort(t);else for(e in i)i.hasOwnProperty(e)&&this.abort(i[e])},setupErrorHandling:function(t){t.script.onerror=Ext.bind(this.handleError,this,[t])},handleAbort:function(t){t.errorType="abort",this.handleResponse(null,t)},handleError:function(t){t.errorType="error",this.handleResponse(null,t)},cleanupErrorHandling:function(t){t.script.onerror=null},handleTimeout:function(t){t.errorType="timeout",this.handleResponse(null,t)},handleResponse:function(t,e){var i=!0;e.timeout&&clearTimeout(e.timeout),delete this[e.callbackName],delete this.requests[e.id],this.cleanupErrorHandling(e),Ext.fly(e.script).destroy(),e.errorType?(i=!1,Ext.callback(e.failure,e.scope,[e.errorType,e])):Ext.callback(e.success,e.scope,[t,e]),Ext.callback(e.callback,e.scope,[i,t,e.errorType,e])},createScript:function(t,e){var i=document.createElement("script");return i.setAttribute("src",Ext.urlAppend(t,Ext.Object.toQueryString(e))),i.setAttribute("async",!0),i.setAttribute("type","text/javascript"),i},loadScript:function(t){Ext.getHead().appendChild(t.script)}}),Ext.define("Ext.data.JsonStore",{extend:Ext.data.Store,alias:"store.json",config:{proxy:{type:"ajax",reader:"json",writer:"json"}}}),Ext.define("Ext.data.NodeInterface",{alternateClassName:"Ext.data.Node",statics:{decorate:function(t){if(!t.isNode){var e,i,n,r=Ext.data.ModelManager,s=t.modelName,a=r.getModel(s),o=[];for(a.override(this.getPrototypeBody()),o=this.applyFields(a,[{name:"parentId",type:"string",defaultValue:null},{name:"index",type:"int",defaultValue:0},{name:"depth",type:"int",defaultValue:0,persist:!1},{name:"expanded",type:"bool",defaultValue:!1,persist:!1},{name:"expandable",type:"bool",defaultValue:!0,persist:!1},{name:"checked",type:"auto",defaultValue:null},{name:"leaf",type:"bool",defaultValue:!1,persist:!1},{name:"cls",type:"string",defaultValue:null,persist:!1},{name:"iconCls",type:"string",defaultValue:null,persist:!1},{name:"root",type:"boolean",defaultValue:!1,persist:!1},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1},{name:"loading",type:"boolean",defaultValue:!1,persist:!1},{name:"href",type:"string",defaultValue:null,persist:!1},{name:"hrefTarget",type:"string",defaultValue:null,persist:!1},{name:"qtip",type:"string",defaultValue:null,persist:!1},{name:"qtitle",type:"string",defaultValue:null,persist:!1}]),n=o.length,a.getFields().isDirty=!0,e=0;n>e;++e)i=o[e],void 0===t.get(i.getName())&&(t.data[i.getName()]=i.getDefaultValue())}return t.isDecorated||(t.isDecorated=!0,Ext.applyIf(t,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]}),t.enableBubble(["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","load"])),t},applyFields:function(t,e){var i,n,r=t.prototype,s=r.fields,a=s.keys,o=e.length,l=[];for(n=0;o>n;n++)i=e[n],Ext.Array.contains(a,i.name)||(i=Ext.create("Ext.data.Field",i),l.push(i),s.add(i));return l},getPrototypeBody:function(){return{isNode:!0,createNode:function(t){return Ext.isObject(t)&&!t.isModel&&(t=Ext.data.ModelManager.create(t,this.modelName)),Ext.data.NodeInterface.decorate(t)},isLeaf:function(){return this.get("leaf")===!0},setFirstChild:function(t){this.firstChild=t},setLastChild:function(t){this.lastChild=t},updateInfo:function(t){for(var e,i=this,n=i.parentNode,r=n?n.firstChild==i:!0,s=n?n.lastChild==i:!0,a=0,o=i,l=i.childNodes,u=l.length;o.parentNode;)++a,o=o.parentNode;for(i.beginEdit(),i.set({isFirst:r,isLast:s,depth:a,index:n?n.indexOf(i):0,parentId:n?n.getId():null}),i.endEdit(t),t&&i.commit(t),e=0;u>e;e++)l[e].updateInfo(t)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var t=this;return t.get("expandable")?!(t.isLeaf()||t.isLoaded()&&!t.hasChildNodes()):!1},appendChild:function(t,e,i){var n,r,s,a,o,l=this;if(!Ext.isArray(t)){if(t=l.createNode(t),e!==!0&&l.fireEvent("beforeappend",l,t)===!1)return!1;if(s=l.childNodes.length,a=t.parentNode){if(e!==!0&&t.fireEvent("beforemove",t,a,l,s)===!1)return!1;a.removeChild(t,null,!1,!0)}return s=l.childNodes.length,0===s&&l.setFirstChild(t),l.childNodes.push(t),t.parentNode=l,t.nextSibling=null,l.setLastChild(t),o=l.childNodes[s-1],o?(t.previousSibling=o,o.nextSibling=t,o.updateInfo(i)):t.previousSibling=null,t.updateInfo(i),l.isLoaded()?1===l.childNodes.length&&l.set("loaded",l.isLoaded()):l.set("loaded",!0),e!==!0&&(l.fireEvent("append",l,t,s),a&&t.fireEvent("move",t,a,l,s)),t}for(n=0,r=t.length;r>n;n++)l.appendChild(t[n],e,i)},getBubbleTarget:function(){return this.parentNode},removeChild:function(t,e,i,n){var r=this,s=r.indexOf(t);return-1==s||i!==!0&&r.fireEvent("beforeremove",r,t)===!1?!1:(Ext.Array.erase(r.childNodes,s,1),r.firstChild==t&&r.setFirstChild(t.nextSibling),r.lastChild==t&&r.setLastChild(t.previousSibling),i!==!0&&r.fireEvent("remove",r,t),t.previousSibling&&(t.previousSibling.nextSibling=t.nextSibling,t.previousSibling.updateInfo(n)),t.nextSibling&&(t.nextSibling.previousSibling=t.previousSibling,t.nextSibling.updateInfo(n)),r.childNodes.length||r.set("loaded",r.isLoaded()),e?t.destroy(!0):t.clear(),t)},copy:function(t,e){var i,n=this,r=n.callOverridden(arguments),s=n.childNodes?n.childNodes.length:0;if(e)for(i=0;s>i;i++)r.appendChild(n.childNodes[i].copy(!0));return r},clear:function(t){var e=this;e.parentNode=e.previousSibling=e.nextSibling=null,t&&(e.firstChild=e.lastChild=null)},destroy:function(t){var e=this,i=e.destroyOptions;t===!0?(e.clear(!0),Ext.each(e.childNodes,function(t){t.destroy(!0)}),e.childNodes=null,delete e.destroyOptions,e.callOverridden([i])):(e.destroyOptions=t,e.remove(!0))},insertBefore:function(t,e,i){var n,r=this,s=r.indexOf(e),a=t.parentNode,o=s;if(!e)return r.appendChild(t);if(t==e)return!1;if(t=r.createNode(t),i!==!0&&r.fireEvent("beforeinsert",r,t,e)===!1)return!1;if(a==r&&r.indexOf(t)<s&&o--,a){if(i!==!0&&t.fireEvent("beforemove",t,a,r,s,e)===!1)return!1;a.removeChild(t)}return 0===o&&r.setFirstChild(t),Ext.Array.splice(r.childNodes,o,0,t),t.parentNode=r,t.nextSibling=e,e.previousSibling=t,n=r.childNodes[o-1],n?(t.previousSibling=n,n.nextSibling=t,n.updateInfo()):t.previousSibling=null,t.updateInfo(),r.isLoaded()?1===r.childNodes.length&&r.set("loaded",r.isLoaded()):r.set("loaded",!0),i!==!0&&(r.fireEvent("insert",r,t,e),a&&t.fireEvent("move",t,a,r,o,e)),t},insertChild:function(t,e){var i=this.childNodes[t];return i?this.insertBefore(e,i):this.appendChild(e)},remove:function(t,e){var i=this.parentNode;return i&&i.removeChild(this,t,e,!0),this},removeAll:function(t,e){for(var i,n=this.childNodes;i=n[0];)this.removeChild(i,t,e);return this},getChildAt:function(t){return this.childNodes[t]},replaceChild:function(t,e,i){var n=e?e.nextSibling:null;return this.removeChild(e,i),this.insertBefore(t,n,i),e},indexOf:function(t){return Ext.Array.indexOf(this.childNodes,t)},getPath:function(t,e){t=t||this.idProperty,e=e||"/";for(var i=[this.get(t)],n=this.parentNode;n;)i.unshift(n.get(t)),n=n.parentNode;
return e+i.join(e)},getDepth:function(){return this.get("depth")},bubble:function(t,e,i){for(var n=this;n&&t.apply(e||n,i||[n])!==!1;)n=n.parentNode},cascadeBy:function(t,e,i){if(t.apply(e||this,i||[this])!==!1){var n,r=this.childNodes,s=r.length;for(n=0;s>n;n++)r[n].cascadeBy(t,e,i)}},eachChild:function(t,e,i){var n,r=this.childNodes,s=r.length;for(n=0;s>n&&t.apply(e||this,i||[r[n]])!==!1;n++);},findChild:function(t,e,i){return this.findChildBy(function(){return this.get(t)==e},null,i)},findChildBy:function(t,e,i){for(var n,r,s=this.childNodes,a=s.length,o=0;a>o;o++){if(n=s[o],t.call(e||n,n)===!0)return n;if(i&&(r=n.findChildBy(t,e,i),null!==r))return r}return null},contains:function(t){return t.isAncestor(this)},isAncestor:function(t){for(var e=this.parentNode;e;){if(e==t)return!0;e=e.parentNode}return!1},sort:function(t,e,i){var n,r,s=this.childNodes,a=s.length;if(a>0){for(Ext.Array.sort(s,t),n=0;a>n;n++)r=s[n],r.previousSibling=s[n-1],r.nextSibling=s[n+1],0===n&&this.setFirstChild(r),n==a-1&&this.setLastChild(r),r.updateInfo(i),e&&!r.isLeaf()&&r.sort(t,!0,!0);this.notifyStores("afterEdit",["sorted"],{sorted:"sorted"}),i!==!0&&this.fireEvent("sort",this,s)}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var t=this.parentNode;t;){if(!t.isExpanded())return!1;t=t.parentNode}return!0},expand:function(t,e,i){var n=this;n.isLeaf()?Ext.callback(e,i||n):n.isLoading()?n.on("expand",function(){n.expand(t,e,i)},n,{single:!0}):n.isExpanded()?Ext.callback(e,i||n,[n.childNodes]):n.fireAction("expand",[this],function(){n.set("expanded",!0),Ext.callback(e,i||n,[n.childNodes])})},collapse:function(t,e,i){var n=this;!n.isLeaf()&&n.isExpanded()?this.fireAction("collapse",[n],function(){n.set("expanded",!1),Ext.callback(e,i||n,[n.childNodes])}):Ext.callback(e,i||n,[n.childNodes])}}}}}),Ext.define("Ext.data.NodeStore",{extend:Ext.data.Store,alias:"store.node",config:{node:null,recursive:!1,rootVisible:!1,sorters:void 0,filters:void 0,folderSort:!1},afterEdit:function(t,e){if(e){if(-1!==e.indexOf("loaded"))return this.add(this.retrieveChildNodes(t));if(-1!==e.indexOf("expanded"))return this.filter();if(-1!==e.indexOf("sorted"))return this.sort()}this.callParent(arguments)},onNodeAppend:function(t,e){this.add([e].concat(this.retrieveChildNodes(e)))},onNodeInsert:function(t,e){this.add([e].concat(this.retrieveChildNodes(e)))},onNodeRemove:function(t,e){this.remove([e].concat(this.retrieveChildNodes(e)))},onNodeSort:function(){this.sort()},updateFolderSort:function(t){this.setGrouper(t?function(t){return t.isLeaf()?1:0}:null)},createDataCollection:function(){var t=this.callParent();return t.handleSort=Ext.Function.bind(this.handleTreeSort,this,[t],!0),t.findInsertionIndex=Ext.Function.bind(this.handleTreeInsertionIndex,this,[t,t.findInsertionIndex],!0),t},handleTreeInsertionIndex:function(t,e,i,n){return n.call(i,t,e,this.treeSortFn)},handleTreeSort:function(t){return Ext.Array.sort(t,this.treeSortFn),t},treeSortFn:function(t,e){if(t.parentNode===e.parentNode)return t.data.index<e.data.index?-1:1;for(var i=0,n=0,r=t,s=e;r;)i+=Math.pow(10,-4*(r.data.depth+1))*(r.data.index+1),r=r.parentNode;for(;s;)n+=Math.pow(10,-4*(s.data.depth+1))*(s.data.index+1),s=s.parentNode;return i>n?1:n>i?-1:t.data.index>e.data.index?1:-1},applyFilters:function(){var t=this;return function(e){return t.isVisible(e)}},applyProxy:function(t){t&&Ext.Logger.warn("A NodeStore cannot be bound to a proxy. Instead bind it to a record decorated with the NodeInterface by setting the node config.")},applyNode:function(t){return t&&(t=Ext.data.NodeInterface.decorate(t)),t},updateNode:function(t,e){if(e&&!e.isDestroyed&&(e.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad",scope:this}),e.unjoin(this)),t){t.on({scope:this,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad"}),t.join(this);var i=[];t.childNodes.length&&(i=i.concat(this.retrieveChildNodes(t))),this.getRootVisible()?i.push(t):(t.isLoaded()||t.isLoading())&&t.set("expanded",!0),this.data.clear(),this.fireEvent("clear",this),this.suspendEvents(),this.add(i),this.resumeEvents(),0===i.length&&(this.loaded=t.loaded=!0),this.fireEvent("refresh",this,this.data)}},retrieveChildNodes:function(t){var e=this.getNode(),i=this.getRecursive(),n=[],r=t;if(!t.childNodes.length||!i&&t!==e)return n;if(!i)return t.childNodes;for(;r;)if(r._added){if(delete r._added,r===t)break;r=r.nextSibling||r.parentNode}else r!==t&&n.push(r),r.firstChild?(r._added=!0,r=r.firstChild):r=r.nextSibling||r.parentNode;return n},isVisible:function(t){var e=t.parentNode;if(!this.getRecursive()&&e!==this.getNode())return!1;for(;e;){if(!e.isExpanded())return!1;if(e===this.getNode())break;e=e.parentNode}return!0}}),Ext.define("Ext.data.TreeStore",{extend:Ext.data.NodeStore,alias:"store.tree",config:{root:void 0,clearOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootProperty:"children",recursive:!0},applyProxy:function(){return Ext.data.Store.prototype.applyProxy.apply(this,arguments)},applyRoot:function(t){var e=this;return t=t||{},t=Ext.apply({},t),t.isModel||(Ext.applyIf(t,{id:e.getStoreId()+"-"+e.getDefaultRootId(),text:"Root",allowDrag:!1}),t=Ext.data.ModelManager.create(t,e.getModel())),Ext.data.NodeInterface.decorate(t),t.set(t.raw),t},handleTreeInsertionIndex:function(t,e,i){return e.parentNode&&e.parentNode.sort(i.getSortFn(),!0,!0),this.callParent(arguments)},handleTreeSort:function(t,e){return this._sorting?t:(this._sorting=!0,this.getNode().sort(e.getSortFn(),!0,!0),delete this._sorting,this.callParent(arguments))},updateRoot:function(t,e){e&&(e.unBefore({expand:"onNodeBeforeExpand",scope:this}),e.unjoin(this)),t.onBefore({expand:"onNodeBeforeExpand",scope:this}),this.onNodeAppend(null,t),this.setNode(t),t.isLoaded()||t.isLoading()||!t.isExpanded()||this.load({node:t}),this.fireEvent("rootchange",this,t,e)},getNodeById:function(t){return this.data.getByKey(t)},getById:function(t){return this.data.getByKey(t)},onNodeBeforeExpand:function(t,e,i){t.isLoading()?(i.pause(),this.on("load",function(){i.resume()},this,{single:!0})):t.isLoaded()||(i.pause(),this.load({node:t,callback:function(){i.resume()}}))},onNodeAppend:function(t,e){var i,n,r,s,a,o=this.getProxy(),l=o.getReader(),u=this.getModel(),h=e.raw,c=[],d=l.getRootProperty();if(!e.isLeaf()&&(i=l.getRoot(h))){for(n=l.extractData(i),r=0,s=n.length;s>r;r++)a=n[r],c.push(new u(a.data,a.id,a.node));c.length?this.fillNode(e,c):e.set("loaded",!0),delete h[d]}},updateAutoLoad:function(t){if(t){var e=this.getRoot();e.isLoaded()||e.isLoading()||this.load({node:e})}},load:function(t){t=t||{},t.params=t.params||{};var e=this,i=t.node=t.node||e.getRoot();return t.params[e.getNodeParam()]=i.getId(),e.getClearOnLoad()&&i.removeAll(!0),i.set("loading",!0),e.callParent([t])},updateProxy:function(t){this.callParent(arguments);var e=t.getReader();e.getRootProperty()||(e.setRootProperty(this.getDefaultRootProperty()),e.buildExtractors())},removeAll:function(){this.getRoot().removeAll(!0),this.callParent(arguments)},onProxyLoad:function(t){var e=this,i=t.getRecords(),n=t.wasSuccessful(),r=t.getNode();r.beginEdit(),r.set("loading",!1),n&&(i=e.fillNode(r,i)),r.endEdit(),e.loading=!1,e.loaded=!0,r.fireEvent("load",r,i,n),e.fireEvent("load",this,i,n,t),Ext.callback(t.getCallback(),t.getScope()||e,[i,t,n])},fillNode:function(t,e){var i,n,r=e?e.length:0;for(i=0;r>i;i++)n=t.appendChild(e[i],!0,!0),this.onNodeAppend(t,n);return t.set("loaded",!0),e}}),Ext.define("Ext.data.identifier.Sequential",{extend:Ext.data.identifier.Simple,alias:"data.identifier.sequential",config:{prefix:"",seed:1},constructor:function(){var t=this;t.callParent(arguments),t.parts=[t.getPrefix(),""]},generate:function(){var t=this,e=t.parts,i=t.getSeed()+1;return t.setSeed(i),e[1]=i,e.join("")}}),Ext.define("Ext.data.identifier.Uuid",{extend:Ext.data.identifier.Simple,alias:"data.identifier.uuid",isUnique:!0,config:{id:void 0,salt:null,timestamp:null,version:4},applyId:function(t){return void 0===t?Ext.data.identifier.Uuid.Global:t},constructor:function(){var t=this;t.callParent(arguments),t.parts=[],t.init()},reconfigure:function(t){this.setConfig(t),this.init()},generate:function(){var t=this,e=t.parts,i=t.getVersion(),n=t.getSalt(),r=t.getTimestamp();return e[0]=t.toHex(r.lo,8),e[1]=t.toHex(65535&r.hi,4),e[2]=t.toHex(r.hi>>>16&4095|i<<12,4),e[3]=t.toHex(128|t.clockSeq>>>8&63,2)+t.toHex(255&t.clockSeq,2),e[4]=t.toHex(n.hi,4)+t.toHex(n.lo,8),4==i?t.init():(++r.lo,r.lo>=t.twoPow32&&(r.lo=0,++r.hi)),e.join("-").toLowerCase()},init:function(){var t=this,e=t.getSalt(),i=t.getTimestamp();4==t.getVersion()?(t.clockSeq=t.rand(0,t.twoPow14-1),e||(e={},t.setSalt(e)),i||(i={},t.setTimestamp(i)),e.lo=t.rand(0,t.twoPow32-1),e.hi=t.rand(0,t.twoPow16-1),i.lo=t.rand(0,t.twoPow32-1),i.hi=t.rand(0,t.twoPow28-1)):(t.setSalt(t.split(t.getSalt())),t.setTimestamp(t.split(t.getTimestamp())),t.getSalt().hi|=256)},twoPow14:Math.pow(2,14),twoPow16:Math.pow(2,16),twoPow28:Math.pow(2,28),twoPow32:Math.pow(2,32),toHex:function(t,e){var i=t.toString(16);return i.length>e?i=i.substring(i.length-e):i.length<e&&(i=Ext.String.leftPad(i,e,"0")),i},rand:function(t,e){var i=Math.random()*(e-t+1);return Math.floor(i)+t},split:function(t){if("number"==typeof t){var e=Math.floor(t/this.twoPow32);return{lo:Math.floor(t-e*this.twoPow32),hi:e}}return t}},function(){this.Global=new this({id:"uuid"})}),Ext.define("Ext.data.proxy.JsonP",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],config:{defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:!0},doRequest:function(t,e,i){var n=t.getAction();"read"!==n&&Ext.Logger.error("JsonP proxies can only be used to read data.");var r=this,s=r.buildRequest(t),a=s.getParams();return s.setConfig({callbackKey:r.getCallbackKey(),timeout:r.getTimeout(),scope:r,callback:r.createRequestCallback(s,t,e,i)}),r.getAutoAppendParams()&&s.setParams({}),s.setJsonP(Ext.data.JsonP.request(s.getCurrentConfig())),s.setParams(a),t.setStarted(),r.lastRequest=s,s},createRequestCallback:function(t,e,i,n){var r=this;return function(s,a){delete r.lastRequest,r.processResponse(s,e,t,a,i,n)}},setException:function(t){t.setException(t.getRequest().getJsonP().errorType)},buildUrl:function(t){var e,i,n,r=this,s=r.callParent(arguments),a=Ext.apply({},t.getParams()),o=a.filters;if(delete a.filters,r.getAutoAppendParams()&&(s=Ext.urlAppend(s,Ext.Object.toQueryString(a))),o&&o.length)for(i=0;i<o.length;i++)e=o[i],n=e.getValue(),n&&(s=Ext.urlAppend(s,e.getProperty()+"="+n));return s},destroy:function(){this.abort(),this.callParent(arguments)},abort:function(){var t=this.lastRequest;t&&Ext.data.JsonP.abort(t.getJsonP())}}),Ext.define("Ext.data.proxy.WebStorage",{extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.WebStorageProxy",config:{id:void 0,reader:null,writer:null,enablePagingParams:!1,defaultDateFormat:"Y-m-d H:i:s.u"},constructor:function(){this.callParent(arguments),this.cache={},void 0===this.getStorageObject()&&Ext.Logger.error("Local Storage is not supported in this browser, please use another type of data proxy")},updateModel:function(t){this.getId()||this.setId(t.modelName),this.callParent(arguments)},create:function(t,e,i){var n,r,s,a=t.getRecords(),o=a.length,l=this.getIds();for(t.setStarted(),s=0;o>s;s++)r=a[s],this.getModel().getIdentifier().isUnique||Ext.Logger.warn("Your identifier generation strategy for the model does not ensure unique id's. Please use the UUID strategy, or implement your own identifier strategy with the flag isUnique."),n=r.getId(),this.setRecord(r),l.push(n);this.setIds(l),t.setCompleted(),t.setSuccessful(),"function"==typeof e&&e.call(i||this,t)},read:function(t,e,i){var n,r,s,a=[],o=this.getIds(),l=this.getModel(),u=l.getIdProperty(),h=t.getParams()||{},c=t.getSorters(),d=t.getFilters(),f=t.getStart(),g=t.getLimit(),p=o.length;if(void 0!==h[u])r=this.getRecord(h[u]),r&&(a.push(r),t.setSuccessful());else{for(n=0;p>n;n++)r=this.getRecord(o[n]),r&&a.push(r);s=Ext.create("Ext.util.Collection"),d&&d.length&&s.setFilters(d),c&&c.length&&s.setSorters(c),s.addAll(a),a=this.getEnablePagingParams()&&void 0!==f&&void 0!==g?s.items.slice(f,f+g):s.items.slice(),t.setSuccessful()}t.setCompleted(),t.setResultSet(Ext.create("Ext.data.ResultSet",{records:a,total:a.length,loaded:!0})),t.setRecords(a),"function"==typeof e&&e.call(i||this,t)},update:function(t,e,i){var n,r,s,a=t.getRecords(),o=a.length,l=this.getIds();for(t.setStarted(),s=0;o>s;s++)n=a[s],this.setRecord(n),r=n.getId(),void 0!==r&&-1==Ext.Array.indexOf(l,r)&&l.push(r);this.setIds(l),t.setCompleted(),t.setSuccessful(),"function"==typeof e&&e.call(i||this,t)},destroy:function(t,e,i){var n,r=t.getRecords(),s=r.length,a=this.getIds(),o=[].concat(a);for(t.setStarted(),n=0;s>n;n++)Ext.Array.remove(o,r[n].getId()),this.removeRecord(r[n],!1);this.setIds(o),t.setCompleted(),t.setSuccessful(),"function"==typeof e&&e.call(i||this,t)},getRecord:function(t){if(void 0===this.cache[t]){var e,i,n,r,s,a,o=this.getRecordKey(t),l=this.getStorageObject().getItem(o),u={},h=this.getModel(),c=h.getFields().items,d=c.length;if(!l)return void 0;for(s=Ext.decode(l),e=0;d>e;e++)i=c[e],n=i.getName(),a=s[n],u[n]="function"==typeof i.getDecode()?i.getDecode()(a):"date"==i.getType().type?this.readDate(i,a):a;r=new h(u,t),this.cache[t]=r}return this.cache[t]},setRecord:function(t,e){e?t.setId(e):e=t.getId();for(var i,n,r,s,a,o=this,l=t.getData(),u={},h=o.getModel(),c=h.getFields().items,d=c.length,f=0;d>f;f++)n=c[f],r=n.getName(),i=l[r],n.getPersist()!==!1&&(u[r]="function"==typeof n.getEncode()?n.getEncode()(i,t):"date"==n.getType().type&&Ext.isDate(i)?this.writeDate(n,i):i);s=o.getStorageObject(),a=o.getRecordKey(e),o.cache[e]=t,s.removeItem(a);try{s.setItem(a,Ext.encode(u))}catch(g){this.fireEvent("exception",this,g)}t.commit()},removeRecord:function(t,e){var i,n=this;t.isModel&&(t=t.getId()),e!==!1&&(i=n.getIds(),Ext.Array.remove(i,t),n.setIds(i)),delete this.cache[t],n.getStorageObject().removeItem(n.getRecordKey(t))},getRecordKey:function(t){return t.isModel&&(t=t.getId()),Ext.String.format("{0}-{1}",this.getId(),t)},getIds:function(){var t=(this.getStorageObject().getItem(this.getId())||"").split(","),e=t.length;return 1==e&&""===t[0]&&(t=[]),t},setIds:function(t){var e=this.getStorageObject(),i=t.join(","),n=this.getId();if(e.removeItem(n),!Ext.isEmpty(i))try{e.setItem(n,i)}catch(r){this.fireEvent("exception",this,r)}},writeDate:function(t,e){if(Ext.isEmpty(e))return null;var i=t.getDateFormat()||this.getDefaultDateFormat();switch(i){case"timestamp":return e.getTime()/1e3;case"time":return e.getTime();default:return Ext.Date.format(e,i)}},readDate:function(t,e){if(Ext.isEmpty(e))return null;var i=t.getDateFormat()||this.getDefaultDateFormat();switch(i){case"timestamp":return new Date(1e3*e);case"time":return new Date(e);default:return Ext.isDate(e)?e:Ext.Date.parse(e,i)}},initialize:function(){this.callParent(arguments);var t=this.getStorageObject();try{t.setItem(this.getId(),t.getItem(this.getId())||"")}catch(e){this.fireEvent("exception",this,e)}},clear:function(){var t,e=this.getStorageObject(),i=this.getIds(),n=i.length;for(t=0;n>t;t++)this.removeRecord(i[t],!1);e.removeItem(this.getId())},getStorageObject:function(){Ext.Logger.error("The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass")}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.Rest",{extend:Ext.data.proxy.Ajax,alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(t){var e=this,i=t.getOperation(),n=i.getRecords()||[],r=n[0],s=e.getModel(),a=s.getIdProperty(),o=e.getFormat(),l=e.getUrl(t),u=t.getParams()||{},h=r&&!r.phantom?r.getId():u[a];return e.getAppendId()&&h&&(l.match(/\/$/)||(l+="/"),l+=h,delete u[a]),o&&(l.match(/\.$/)||(l+="."),l+=o),t.setUrl(l),e.callParent([t])}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.data.proxy.Sql",{alias:"proxy.sql",extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.proxy.SQL",isSQLProxy:!0,config:{reader:null,writer:null,table:null,database:"Sencha",columns:"",uniqueIdStrategy:!1,tableExists:!1,defaultDateFormat:"Y-m-d H:i:s.u"},updateModel:function(t){if(t){var e=t.modelName,i=this.getDefaultDateFormat(),n=e.slice(e.lastIndexOf(".")+1);t.getFields().each(function(t){"date"!==t.getType().type||t.getDateFormat()||t.setDateFormat(i)}),this.setUniqueIdStrategy(t.getIdentifier().isUnique),this.getTable()||this.setTable(n),this.setColumns(this.getPersistedModelColumns(t))}this.callParent(arguments)},setException:function(t,e){t.setException(e)},create:function(t,e,i){var n=this,r=n.getDatabaseObject(),s=t.getRecords(),a=n.getTableExists();t.setStarted(),r.transaction(function(e){a||n.createTable(e),n.insertRecords(s,e,function(e,i){t.process(t.getAction(),e)===!1&&n.fireEvent("exception",n,t),i&&t.setException(i)},n)},function(r,s){n.setException(t,s),"function"==typeof e&&e.call(i||n,t)},function(){"function"==typeof e&&e.call(i||n,t)})},read:function(t,e,i){var n,r,s,a=this,o=a.getDatabaseObject(),l=a.getModel(),u=l.getIdProperty(),h=a.getTableExists(),c=t.getParams()||{},d=c[u],f=t.getSorters(),g=t.getFilters(),p=t.getPage(),m=t.getStart(),x=t.getLimit();c=Ext.apply(c,{page:p,start:m,limit:x,sorters:f,filters:g}),t.setStarted(),o.transaction(function(e){h||a.createTable(e),a.selectRecords(e,void 0!==d?d:c,function(e,i){if(t.process(t.getAction(),e)===!1&&a.fireEvent("exception",a,t),i&&t.setException(i),g&&g.length){for(n=Ext.create("Ext.util.Collection",function(t){return t.getId()}),n.setFilterRoot("data"),r=0,s=g.length;s>r;r++)null===g[r].getProperty()&&n.addFilter(g[r]);n.addAll(t.getRecords()),t.setRecords(n.items.slice()),e.setRecords(t.getRecords()),e.setCount(n.items.length),e.setTotal(n.items.length)}})},function(n,r){a.setException(t,r),"function"==typeof e&&e.call(i||a,t)},function(){"function"==typeof e&&e.call(i||a,t)})},update:function(t,e,i){var n=this,r=t.getRecords(),s=n.getDatabaseObject(),a=n.getTableExists();t.setStarted(),s.transaction(function(e){a||n.createTable(e),n.updateRecords(e,r,function(e,i){t.process(t.getAction(),e)===!1&&n.fireEvent("exception",n,t),i&&t.setException(i)})},function(r,s){n.setException(t,s),"function"==typeof e&&e.call(i||n,t)},function(){"function"==typeof e&&e.call(i||n,t)})},destroy:function(t,e,i){var n=this,r=t.getRecords(),s=n.getDatabaseObject(),a=n.getTableExists();t.setStarted(),s.transaction(function(e){a||n.createTable(e),n.destroyRecords(e,r,function(e,i){t.process(t.getAction(),e)===!1&&n.fireEvent("exception",n,t),i&&t.setException(i)})},function(r,s){n.setException(t,s),"function"==typeof e&&e.call(i||n,t)},function(){"function"==typeof e&&e.call(i||n,t)})},createTable:function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+this.getTable()+" ("+this.getSchemaString()+")"),this.setTableExists(!0)},insertRecords:function(t,e,i,n){var r,s,a,o,l=this,u=l.getTable(),h=l.getColumns(),c=t.length,d=0,f=[],g=[],p=[],m=l.getUniqueIdStrategy();for(o=new Ext.data.ResultSet({records:g,success:!0}),r=0,s=h.length;s>r;r++)f.push("?");a=f.join(", "),Ext.each(t,function(t){var r=t.getId(),s=l.getRecordData(t),f=l.getColumnValues(h,s);e.executeSql("INSERT INTO "+u+" ("+h.join(", ")+") VALUES ("+a+")",f,function(t,e){d++,g.push({clientId:r,id:m?r:e.insertId,data:s,node:s}),d===c&&"function"==typeof i&&i.call(n||l,o,p.length>0?p:null)},function(t,e){d++,p.push({clientId:r,error:e}),d===c&&"function"==typeof i&&i.call(n||l,o,p)})})},selectRecords:function(t,e,i,n){var r,s,a,o,l,u,h,c,d,f,g=this,p=g.getTable(),m=g.getModel().getIdProperty(),x="SELECT * FROM "+p,E=[],y=" WHERE ",v=" ORDER BY ";if(o=new Ext.data.ResultSet({records:E,success:!0}),Ext.isObject(e)){if(s=e.filters&&e.filters.length)for(r=0;s>r;r++)h=e.filters[r],d=h.getProperty(),f=h.getValue(),null!==d&&(x+=y+d+" "+(h.getAnyMatch()?"LIKE '%"+f+"%'":"= '"+f+"'"),y=" AND ");if(s=e.sorters&&e.sorters.length)for(r=0;s>r;r++)c=e.sorters[r],d=c.getProperty(),null!==d&&(x+=v+d+" "+c.getDirection(),v=", ");void 0!==e.page&&(x+=" LIMIT "+parseInt(e.start,10)+", "+parseInt(e.limit,10))}else x+=y+m+" = "+e;t.executeSql(x,null,function(t,e){for(u=e.rows,l=u.length,r=0,s=l;s>r;r++)a=u.item(r),E.push({clientId:null,id:a[m],data:a,node:a});o.setSuccess(!0),o.setTotal(l),o.setCount(l),"function"==typeof i&&i.call(n||g,o)},function(t,e){o.setSuccess(!1),o.setTotal(0),o.setCount(0),"function"==typeof i&&i.call(n||g,o,e)})},updateRecords:function(t,e,i,n){var r,s,a,o=this,l=o.getTable(),u=o.getColumns(),h=e.length,c=o.getModel().getIdProperty(),d=0,f=[],g=[];a=new Ext.data.ResultSet({records:f,success:!0}),Ext.each(e,function(e){var p=e.getId(),m=o.getRecordData(e),x=o.getColumnValues(u,m),E=[];for(r=0,s=u.length;s>r;r++)E.push(u[r]+" = ?");t.executeSql("UPDATE "+l+" SET "+E.join(", ")+" WHERE "+c+" = ?",x.concat(p),function(){d++,f.push({clientId:p,id:p,data:m,node:m}),d===h&&"function"==typeof i&&i.call(n||o,a,g.length>0?g:null)},function(t,e){d++,g.push({clientId:p,error:e}),d===h&&"function"==typeof i&&i.call(n||o,a,g)})})},destroyRecords:function(t,e,i,n){var r,s,a,o,l=this,u=l.getTable(),h=l.getModel().getIdProperty(),c=[],d=[],f=[];for(r=0,s=e.length;s>r;r++)c.push(h+" = ?"),d.push(e[r].getId());a=new Ext.data.ResultSet({records:f,success:!0}),t.executeSql("DELETE FROM "+u+" WHERE "+c.join(" OR "),d,function(){for(r=0,s=e.length;s>r;r++)o=e[r],f.push({id:o.getId()});"function"==typeof i&&i.call(n||l,a)},function(t,e){"function"==typeof i&&i.call(n||l,a,e)})},getRecordData:function(t){var e,i,n=this,r=t.getFields(),s=t.getIdProperty(),a=n.getUniqueIdStrategy(),o={};return r.each(function(r){if(r.getPersist()){if(e=r.getName(),e===s&&!a)return;i=t.get(e),"date"==r.getType().type&&(i=n.writeDate(r,i)),o[e]=i}},n),o},getColumnValues:function(t,e){var i,n,r,s=t.length,a=[];for(i=0;s>i;i++)n=t[i],r=e[n],void 0!==r&&a.push(r);return a},getSchemaString:function(){var t,e,i,n,r=this,s=[],a=r.getModel(),o=a.getIdProperty(),l=a.getFields().items,u=r.getUniqueIdStrategy(),h=l.length;for(t=0;h>t;t++)e=l[t],i=e.getType().type,n=e.getName(),n===o?u?(i=r.convertToSqlType(i),s.unshift(o+" "+i)):s.unshift(o+" INTEGER PRIMARY KEY AUTOINCREMENT"):(i=r.convertToSqlType(i),s.push(n+" "+i));return s.join(", ")},getPersistedModelColumns:function(t){var e,i,n,r=t.getFields().items,s=this.getUniqueIdStrategy(),a=t.getIdProperty(),o=[],l=r.length;for(e=0;l>e;e++)i=r[e],n=i.getName(),(n!==a||s)&&i.getPersist()&&o.push(i.getName());return o},convertToSqlType:function(t){switch(t.toLowerCase()){case"date":case"string":case"auto":return"TEXT";case"int":return"INTEGER";case"float":return"REAL";case"bool":return"NUMERIC"}},writeDate:function(t,e){if(Ext.isEmpty(e))return null;var i=t.getDateFormat()||this.getDefaultDateFormat();switch(i){case"timestamp":return e.getTime()/1e3;case"time":return e.getTime();default:return Ext.Date.format(e,i)}},dropTable:function(t){var e=this,i=e.getTable(),n=t?t.callback:null,r=t?t.scope||e:null,s=e.getDatabaseObject();s.transaction(function(t){t.executeSql("DROP TABLE "+i)},function(t,s){"function"==typeof n&&n.call(r||e,!1,i,s)},function(){"function"==typeof n&&n.call(r||e,!0,i)}),e.setTableExists(!1)},getDatabaseObject:function(){return openDatabase(this.getDatabase(),"1.0","Sencha Database",5242880)}}),Ext.define("Ext.data.reader.Xml",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",config:{record:null},createAccessor:function(t){var e=this;return Ext.isEmpty(t)?Ext.emptyFn:Ext.isFunction(t)?t:function(i){return e.getNodeValue(Ext.DomQuery.selectNode(t,i))}},getNodeValue:function(t){return t&&t.firstChild?t.firstChild.nodeValue:void 0},getResponseData:function(t){if(1===t.nodeType||9===t.nodeType)return t;var e=t.responseXML;return e||(this.fireEvent("exception",this,t,"XML data not found in the response"),Ext.Logger.warn("XML data not found in the response")),e},getData:function(t){return t.documentElement||t},getRoot:function(t){var e=t.nodeName,i=this.getRootProperty();return!i||e&&e==i?t:Ext.DomQuery.isXml(t)?Ext.DomQuery.selectNode(i,t):void 0},extractData:function(t){var e=this.getRecord();return e||Ext.Logger.error("Record is a required parameter"),t=e!=t.nodeName&&e!==t.localName?Ext.DomQuery.select(e,t):[t],this.callParent([t])},getAssociatedDataRoot:function(t,e){return Ext.DomQuery.select(e,t)[0]},readRecords:function(t){return Ext.isArray(t)&&(t=t[0]),this.callParent([t])},createFieldAccessExpression:function(t,e,i){var n,r=t.getMapping()||t.getName();if("function"==typeof r)n=e+".getMapping()("+i+", this)";else if(r=r.split("@"),2===r.length&&r[0])n='me.getNodeValue(Ext.DomQuery.selectNode("@'+r[1]+'", Ext.DomQuery.selectNode("'+r[0]+'", '+i+")))";else if(2===r.length)n='me.getNodeValue(Ext.DomQuery.selectNode("@'+r[1]+'", '+i+"))";else{if(1!==r.length)throw"Unsupported query - too many queries for attributes in "+r.join("@");n='me.getNodeValue(Ext.DomQuery.selectNode("'+r[0]+'", '+i+"))"}return n}}),Ext.define("Ext.data.writer.Xml",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},writeRecords:function(t,e){var i,n,r=this,s=[],a=0,o=e.length,l=r.getDocumentRoot(),u=r.getRecord(),h=1!==e.length;for(s.push(r.getHeader()||""),!l&&h&&(l=r.getDefaultDocumentRoot()),l&&s.push("<",l,">");o>a;++a){i=e[a],s.push("<",u,">");for(n in i)i.hasOwnProperty(n)&&s.push("<",n,">",i[n],"</",n,">");s.push("</",u,">")}return l&&s.push("</",l,">"),t.setXmlData(s.join("")),t}}),Ext.define("Ext.dataview.IndexBar",{extend:Ext.Component,alternateClassName:"Ext.IndexBar",config:{baseCls:Ext.baseCSSPrefix+"indexbar",direction:"vertical",letters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ui:"alphabet",listPrefix:null},platformConfig:[{theme:["Blackberry"],direction:"vertical",letters:["*","#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}],itemCls:Ext.baseCSSPrefix+"",updateDirection:function(t,e){var i=this.getBaseCls();this.element.replaceCls(i+"-"+e,i+"-"+t)},getElementConfig:function(){return Ext.theme.is.Blackberry?{reference:"wrapper",classList:["x-centered","x-indexbar-wrapper"],children:[{reference:"indicator",classList:["x-indexbar-indicator"],hidden:!0,children:[{reference:"indicatorInner",classList:["x-indexbar-indicator-inner"]}]},this.callParent()]}:{reference:"wrapper",classList:["x-centered","x-indexbar-wrapper"],children:[this.callParent()]}},updateLetters:function(t){if(this.innerElement.setHtml(""),t){var e,i=t.length;for(e=0;i>e;e++)this.innerElement.createChild({html:t[e]})}},updateListPrefix:function(t){t&&t.length&&this.innerElement.createChild({html:t},0)},initialize:function(){this.callParent(),this.innerElement.on({touchstart:this.onTouchStart,touchend:this.onTouchEnd,dragend:this.onDragEnd,drag:this.onDrag,scope:this})},onTouchStart:function(t){t.stopPropagation(),this.innerElement.addCls(this.getBaseCls()+"-pressed"),this.pageBox=this.innerElement.getPageBox(),this.onDrag(t)},onTouchEnd:function(){this.onDragEnd()},onDragEnd:function(){this.innerElement.removeCls(this.getBaseCls()+"-pressed"),this.indicator&&this.indicator.hide()},onDrag:function(t){var e,i,n=Ext.util.Point.fromEvent(t),r=this.pageBox;if(r||(r=this.pageBox=this.el.getPageBox()),"vertical"===this.getDirection()){if(n.y>r.bottom||n.y<r.top)return;if(e=Ext.Element.fromPoint(r.left+r.width/2,n.y),i=e.getParent()==this.element,this.indicator){this.indicator.show();var s=this.indicator.getHeight()/2,a=n.y-this.element.getY();a=Math.min(Math.max(a,s),this.element.getHeight()-s),this.indicatorInner&&i&&this.indicatorInner.setHtml(e.getHtml().toUpperCase()),this.indicator.setTop(a-s)}}else{if(n.x>r.right||n.x<r.left)return;e=Ext.Element.fromPoint(n.x,r.top+r.height/2),i=e.getParent()==this.element}e&&i&&this.fireEvent("index",this,e.dom.innerHTML,e)},destroy:function(){for(var t=this,e=Array.prototype.slice.call(t.innerElement.dom.childNodes),i=e.length,n=0;i>n;n++)Ext.removeNode(e[n]);this.callParent()}},function(){}),Ext.define("Ext.dataview.ListItemHeader",{extend:Ext.Component,xtype:"listitemheader",config:{baseCls:Ext.baseCSSPrefix+"list-header"}}),Ext.define("Ext.dataview.component.ListItem",{extend:Ext.dataview.component.DataItem,xtype:"listitem",config:{baseCls:Ext.baseCSSPrefix+"list-item",dataMap:null,body:{xtype:"component",cls:"x-list-item-body"},disclosure:{xtype:"component",cls:"x-list-disclosure",hidden:!0,docked:"right"},header:{xtype:"component",cls:"x-list-header",html:" "},tpl:null,items:null},applyBody:function(t){return t&&!t.isComponent&&(t=Ext.factory(t,Ext.Component,this.getBody())),t},updateBody:function(t,e){t?this.add(t):e&&e.destroy()},applyHeader:function(t){return t&&!t.isComponent&&(t=Ext.factory(t,Ext.Component,this.getHeader())),t},updateHeader:function(t,e){e&&e.destroy()},applyDisclosure:function(t){return t&&!t.isComponent&&(t=Ext.factory(t,Ext.Component,this.getDisclosure())),t},updateDisclosure:function(t,e){t?this.add(t):e&&e.destroy()},updateTpl:function(t){this.getBody().setTpl(t)},updateRecord:function(t){var e=this,i=e.dataview||this.getDataview(),n=t&&i.prepareData(t.getData(!0),i.getStore().indexOf(t),t),r=e.getDataMap(),s=this.getBody(),a=this.getDisclosure();if(e._record=t,r?e.doMapData(r,n,s):s&&s.updateData(n||null),a&&t&&i.getOnItemDisclosure()){var o=i.getDisclosureProperty();a[n.hasOwnProperty(o)&&n[o]===!1?"hide":"show"]()}e.fireEvent("updatedata",e,n)},destroy:function(){Ext.destroy(this.getHeader()),this.callParent(arguments)}}),Ext.define("Ext.dataview.component.SimpleListItem",{extend:Ext.Component,xtype:"simplelistitem",config:{baseCls:Ext.baseCSSPrefix+"list-item",disclosure:{xtype:"component",cls:"x-list-disclosure",hidden:!0},header:{xtype:"component",cls:"x-list-header",html:" "},dataview:null,record:null},initialize:function(){this.element.addCls(this.getBaseCls()+"-tpl")},applyHeader:function(t){return t&&!t.isComponent&&(t=Ext.factory(t,Ext.Component,this.getHeader())),t},updateHeader:function(t,e){e&&e.destroy()},applyDisclosure:function(t){return t&&!t.isComponent&&(t=Ext.factory(t,Ext.Component,this.getDisclosure())),t},updateDisclosure:function(t,e){t?this.element.appendChild(t.renderElement):e&&e.destroy()},updateRecord:function(t){var e=this,i=e.dataview||this.getDataview(),n=t&&i.prepareData(t.getData(!0),i.getStore().indexOf(t),t),r=this.getDisclosure();if(e.updateData(n||null),r&&t&&i.getOnItemDisclosure()){var s=i.getDisclosureProperty();r[n.hasOwnProperty(s)&&n[s]===!1?"hide":"show"]()}},destroy:function(){Ext.destroy(this.getHeader(),this.getDisclosure()),this.callParent(arguments)}}),Ext.define("Ext.util.PositionMap",{config:{minimumHeight:50},constructor:function(t){this.map=[],this.adjustments={},this.offset=0,this.initConfig(t)},populate:function(t,e){var i,n,r,s=this.map=this.map||[],a=this.getMinimumHeight();for(e=e||0,t++,s.length=t,s[0]=0,i=e+1,r=t-1;r>=i;i++)n=i-1,s[i]=s[n]+a;for(this.adjustments={indices:[],heights:{}},this.offset=0,i=1,r=t-1;r>=i;i++)n=i-1,this.offset+=s[i]-s[n]-a},setItemHeight:function(t,e){if(e=Math.max(e,this.getMinimumHeight()),e!==this.getItemHeight(t)){var i=this.adjustments;i.indices.push(parseInt(t,10)),i.heights[t]=e}},update:function(){var t,e,i,n,r,s,a=this.adjustments,o=a.indices,l=a.heights,u=this.map,h=o.length,c=this.getMinimumHeight(),d=0;
if(!a.indices.length)return!1;for(Ext.Array.sort(o,function(t,e){return t-e}),t=0;h>t;t++)for(n=o[t],r=o[t+1]||u.length-1,s=void 0!==u[n+1]?u[n+1]-u[n]+d:c,i=l[n],d+=i-s,e=n+1;r>=e;e++)u[e]+=d;return this.offset+=d,this.adjustments={indices:[],heights:{}},!0},getItemHeight:function(t){return this.map[t+1]-this.map[t]},getTotalHeight:function(){return(this.map.length-1)*this.getMinimumHeight()+this.offset},findIndex:function(t){return this.map.length?this.binarySearch(this.map,t):0},binarySearch:function(t,e){var i=0,n=t.length;if(e<t[0])return 0;if(e>t[n-1])return n-1;for(;n>i+1;){var r=i+n>>1,s=t[r];if(s==e)return r;e>s?i=r:n=r}return i}}),Ext.define("Ext.dataview.List",{alternateClassName:"Ext.List",extend:Ext.dataview.DataView,xtype:"list",mixins:[Ext.mixin.Bindable],config:{layout:"fit",indexBar:!1,icon:null,preventSelectionOnDisclose:!0,baseCls:Ext.baseCSSPrefix+"list",pinHeaders:!0,grouped:null,onItemDisclosure:null,disclosureProperty:"disclosure",ui:"normal",defaultType:void 0,itemMap:{},itemHeight:42,variableHeights:!1,refreshHeightOnUpdate:!0,infinite:!1,useSimpleItems:!0,scrollable:null,bufferSize:20,minimumBufferDistance:5,useHeaders:!0,striped:!1},platformConfig:[{theme:["Windows"],itemHeight:44},{theme:["Cupertino"],itemHeight:43}],topRenderedIndex:0,topVisibleIndex:0,visibleCount:0,constructor:function(){var t,e=this;e.callParent(arguments),t=this.getLayout(),t&&!t.isFit&&Ext.Logger.error("The base layout for a DataView must always be a Fit Layout")},beforeInitialize:function(){var t,e,i,n=this,r=n.container;Ext.apply(n,{listItems:[],headerItems:[],updatedItems:[],headerMap:[],scrollDockItems:{top:[],bottom:[]}}),this.translationMethod=Ext.browser.is.AndroidStock2?"cssposition":"csstransform",r||(r=n.container=Ext.factory({xtype:"container",scrollable:{scroller:{autoRefresh:!n.getInfinite(),direction:"vertical"}}})),n.add(r),t=r.getScrollable(),e=n.scrollViewElement=t.getElement(),n.scrollElement=t.getScroller().getElement(),n.setScrollable(t),n.scrollableBehavior=r.getScrollableBehavior(),i=n.pinnedHeader=Ext.factory({xtype:"listitemheader",html:"&nbsp;",translatable:{translationMethod:this.translationMethod},cls:["x-list-header","x-list-header-swap"]}),i.translate(0,-1e4),i.$position=-1e4,e.insertFirst(i.renderElement),n.bind(t.getScroller().getTranslatable(),"doTranslate","onTranslate")},initialize:function(){var t=this,e=t.container,i=t.scrollViewElement,n=t.getIndexBar(),r=t.getTriggerEvent(),s=t.getTriggerCtEvent();n&&i.appendChild(n.renderElement),r&&t.on(r,t.onItemTrigger,t),s&&t.on(s,t.onContainerTrigger,t),e.element.on({delegate:"."+t.getBaseCls()+"-disclosure",tap:"handleItemDisclosure",scope:t}),e.element.on({resize:"onContainerResize",scope:t}),e.innerElement.on({touchstart:"onItemTouchStart",touchend:"onItemTouchEnd",tap:"onItemTap",taphold:"onItemTapHold",singletap:"onItemSingleTap",doubletap:"onItemDoubleTap",swipe:"onItemSwipe",delegate:"."+Ext.baseCSSPrefix+"list-item",scope:t}),t.getStore()&&t.refresh()},onTranslate:function(t,e){var i=this,n=i.pinnedHeader,r=i.getStore(),s=r&&r.getCount(),a=i.getGrouped(),o=i.getInfinite();s?o&&i.itemsCount&&(i.handleItemUpdates(e),i.handleItemHeights(),i.handleItemTransforms(),i.onIdleBound||(Ext.AnimationQueue.onIdle(i.onAnimationIdle,i),i.onIdleBound=!0)):(i.showEmptyText(),i.showEmptyScrollDock(),n.$position=-1e4,n.translate(0,-1e4)),a&&i.groups&&i.groups.length&&i.getPinHeaders()&&i.handlePinnedHeader(e),this.onScrollBinder(t,e)},onScrollBinder:function(){},handleItemUpdates:function(t){var e,i,n,r,s,a,o=this,l=o.listItems,u=l.length,h=o.getListItemInfo(),c=o.getItemMap(),d=o.getBufferSize(),f=o.getStore().getCount()-1,g=o.getMinimumBufferDistance(),p=o.topVisibleIndex,m=o.topRenderedIndex;if(o.topVisibleIndex=r=Math.max(0,c.findIndex(-t)||0),p!==r)if(p>r){if(s=r-m,g>s)if(e=Math.min(u,g-s),e==u)for(o.topRenderedIndex=m=Math.max(0,r-(d-g)),i=0;e>i;i++)a=m+i,n=l[i],o.updateListItem(n,a,h);else for(i=0;e>i&&(a=m-i-1,!(0>a));i++)n=l.pop(),l.unshift(n),o.updateListItem(n,a,h),o.topRenderedIndex--}else if(s=d-(r-m),g>s)if(e=Math.min(u,g-s),e==u)for(o.topRenderedIndex=m=Math.min(f-u,r-g),i=0;e>i;i++)a=m+i,n=l[i],o.updateListItem(n,a,h);else for(i=0;e>i&&(a=m+u+i,!(a>f));i++)n=l.shift(),l.push(n),o.updateListItem(n,a,h),o.topRenderedIndex++},onAnimationIdle:function(){var t,e,i,n,r,s,a=this,o=a.getListItemInfo(),l=a.getBufferSize(),u=a.topVisibleIndex,h=a.topRenderedIndex,c=a.getStore().getCount()-1,d=a.listItems,f=d.length;if(t=u-h,e=h+l-u,e>t){if(u>0)for(n=e-t,i=0;n>i&&(s=h-i-1,!(0>s));i++)r=d.pop(),d.unshift(r),a.updateListItem(r,s,o),a.topRenderedIndex--}else for(n=t-e,i=0;n>i&&(s=h+f+i,!(s>c));i++)r=d.shift(),d.push(r),a.updateListItem(r,s,o),a.topRenderedIndex++;a.handleItemHeights(),a.handleItemTransforms(),a.onIdleBound=!1},handleItemHeights:function(){var t,e,i,n,r,s,a,o=this,l=o.updatedItems,u=l.length,h=o.getItemMap(),c=o.getUseSimpleItems(),d=h.getMinimumHeight(),f=o.headerIndices,g=o.headerMap,p=o.getVariableHeights();for(e=0;u>e;e++)if(r=l[e],t=r.$dataIndex,null!==t){if(p?(s=c?r.element.getHeight():r.element.getFirstChild().getHeight(),s=Math.max(s,d)):s=d,r.$ownItemHeight=s,n=o.scrollDockItems.top.length,r.isFirst)for(o.totalScrollDockTopHeight=0,i=0;n>i;i++)a=o.scrollDockItems.top[i].$scrollDockHeight,s+=a,o.totalScrollDockTopHeight+=a;if(n=o.scrollDockItems.bottom.length,r.isLast)for(i=0;n>i;i++)a=o.scrollDockItems.bottom[i].$scrollDockHeight,s+=a;f&&f[t]&&(s+=o.headerHeight),h.setItemHeight(t,s),r.$height=s}h.update(),s=h.getTotalHeight(),g.length=0;for(e in f)f.hasOwnProperty(e)&&g.push(h.map[e]);o.setScrollerHeight(s),o.updatedItems.length=0},setScrollerHeight:function(t){var e=this,i=e.container.getScrollable().getScroller(),n=i.getTranslatable();t!=i.givenSize&&(i.setSize(t),i.refreshMaxPosition(),i.fireEvent("refresh",i),n.isAnimating&&n.activeEasingY&&n.activeEasingY.setMinMomentumValue&&n.activeEasingY.setMinMomentumValue(-i.getMaxPosition().y))},handleItemTransforms:function(){var t,e,i,n,r,s=this,a=s.listItems,o=a.length,l=s.getItemMap(),u=s.scrollDockItems,h=s.getGrouped();for(i=0;o>i;i++)if(t=a[i],e=l.map[t.$dataIndex],!t.$hidden&&t.$position!==e){if(t.$position=e,n=u.top.length,t.isFirst&&n)for(r=0;n>r;r++)u.top[r].translate(0,e),e+=u.top[r].$scrollDockHeight;if(h&&s.getUseHeaders()&&s.headerIndices&&s.headerIndices[t.$dataIndex]&&(t.getHeader().translate(0,e),e+=s.headerHeight),t.translate(0,e),e+=t.$ownItemHeight,n=u.bottom.length,t.isLast&&n)for(r=0;n>r;r++)u.bottom[r].translate(0,e),e+=u.bottom[r].$scrollDockHeight}},handlePinnedHeader:function(t){var e,i,n,r,s,a=this,o=a.pinnedHeader,l=a.getItemMap(),u=a.groups,h=a.headerMap,c=a.headerHeight,d=a.getStore(),f=a.totalScrollDockTopHeight;i=l.binarySearch(h,-t),e=u[i].children[0],e&&(n=t+h[i+1]-c,r=t>=0||0===i&&f+t>=0||0===i&&-t<=h[i]?-1e4:0>n?n:Math.max(0,t),s=d.getGroupString(e),o.$currentHeader!=s&&(o.setHtml(s),o.$currentHeader=s),o.$position!=r&&(o.translate(0,r),o.$position=r))},createItem:function(t){var e,i,n,r=this,s=r.container,a=r.listItems,o=r.getInfinite(),l=r.scrollElement,u=r.getUseHeaders();return e=Ext.factory(t),e.dataview=r,e.$height=t.minHeight,o||(n=r.getBaseCls()+"-item-relative",e.addCls(n)),u&&(i=e.getHeader(),o?(i.setTranslatable({translationMethod:this.translationMethod}),i.translate(0,-1e4),l.insertFirst(i.renderElement)):i.addCls(n)),s.doAdd(e),a.push(e),e},setItemsCount:function(t){var e,i=this,n=i.listItems,r=i.getListItemConfig(),s=t-n.length;for(e=0;s>e;e++)i.createItem(r);for(e=s;0>e;e++)n.pop().destroy();return i.itemsCount=t,i.updateAllListItems(),Ext.browser.is.AndroidStock&&i.container.element&&0===t&&0!==s&&i.container.element.redraw(),i.listItems},updateUi:function(t,e){t&&t!=e&&"round"==t&&this.setPinHeaders(!1),this.callParent(arguments)},updateListItem:function(t,e,i){var n,r,s,a,o=this,l=i.store.getAt(e),u=o.headerIndices,h=o.footerIndices,c=o.getUseHeaders(),d=c&&t.getHeader(),f=o.scrollDockItems,g=o.updatedItems,p=t.renderElement.classList.slice(),m=c&&d.renderElement.classList.slice(),x=o.getInfinite(),E=i.store.getCount(),y=[],v=[],b=[i.headerCls,i.footerCls,i.firstCls,i.lastCls,i.selectedCls,i.stripeCls],S=[i.headerCls,i.footerCls,i.firstCls,i.lastCls];if(x&&(t.$position=-1e4),!l)return t.setRecord(null),x?t.translate(0,-1e4):t.hide(),c&&(x?d.translate(0,-1e4):d.hide()),void(t.$hidden=!0);if(t.$hidden&&(x||t.show(),t.$hidden=!1),x&&g.push(t),t.isFirst&&0!==e&&f.top.length){for(r=0,n=f.top.length;n>r;r++)s=f.top[r],x&&s.translate(0,-1e4);t.isFirst=!1}if(t.isLast&&e!==E-1&&f.bottom.length){for(r=0,n=f.bottom.length;n>r;r++)s=f.bottom[r],x&&s.translate(0,-1e4);t.isLast=!1}if(t.$dataIndex!==e&&(t.$dataIndex=e,o.fireEvent("itemindexchange",o,l,e,t)),t.getRecord()===l?t.updateRecord(l):t.setRecord(l),o.isSelected(l)&&y.push(i.selectedCls),i.grouped&&c&&(u[e]?(y.push(i.headerCls),v.push(i.headerCls),d.setHtml(i.store.getGroupString(l)),x||d.renderElement.insertBefore(t.renderElement),d.show()):x?d.translate(0,-1e4):d.hide(),h[e]&&(y.push(i.footerCls),v.push(i.footerCls))),!i.grouped&&c&&d.hide(),0===e&&(t.isFirst=!0,y.push(i.firstCls),v.push(i.firstCls),i.grouped||(y.push(i.headerCls),v.push(i.headerCls)),!x))for(r=0,n=f.top.length;n>r;r++)s=f.top[r],s.renderElement.insertBefore(i.grouped?d.renderElement:t.renderElement);if(e===E-1&&(t.isLast=!0,y.push(i.lastCls),v.push(i.lastCls),i.grouped||(y.push(i.footerCls),v.push(i.footerCls)),!x))for(r=0,n=f.bottom.length;n>r;r++)s=f.bottom[r],s.renderElement.insertAfter(t.renderElement);if(i.striped&&e%2==1&&y.push(i.stripeCls),p){for(r=0;r<b.length;r++)Ext.Array.remove(p,b[r]);y=Ext.Array.merge(y,p)}if(c&&m){for(r=0;r<S.length;r++)Ext.Array.remove(m,S[r]);v=Ext.Array.merge(v,m)}a=y.join(" "),t.classCache!==a&&(t.renderElement.setCls(y),t.classCache=a),c&&d.renderElement.setCls(v)},updateAllListItems:function(){var t,e,i=this,n=i.getStore(),r=i.listItems,s=i.getListItemInfo(),a=i.topRenderedIndex;if(n)for(t=0,e=r.length;e>t;t++)i.updateListItem(r[t],a+t,s);i.isPainted()&&(i.getInfinite()&&n&&n.getCount()&&i.handleItemHeights(),i.refreshScroller())},doRefresh:function(){var t=this,e=t.getInfinite(),i=t.container.getScrollable().getScroller(),n=t.getStore().getCount();e&&t.getItemMap().populate(n,this.topRenderedIndex),t.getGrouped()&&t.refreshHeaderIndices(),n?(t.hideScrollDockItems(),t.hideEmptyText(),e?(t.getScrollToTopOnRefresh()&&(t.topRenderedIndex=0,t.topVisibleIndex=0,i.position.y=0),t.updateAllListItems()):(t.setItemsCount(n),t.getScrollToTopOnRefresh()&&i.scrollTo(0,0))):t.onStoreClear()},onContainerResize:function(t,e){var i=this,n=i.visibleCount;i.headerHeight||(i.headerHeight=parseInt(i.pinnedHeader.renderElement.getHeight(),10)),i.getInfinite()?(i.visibleCount=Math.ceil(e.height/i.getItemMap().getMinimumHeight()),i.visibleCount!=n&&(i.setItemsCount(i.visibleCount+i.getBufferSize()),i.fireEvent("updatevisiblecount",this,i.visibleCount,n))):i.listItems.length&&i.getUseHeaders()&&i.getGrouped()&&i.getPinHeaders()&&i.updateHeaderMap()},refreshScroller:function(){var t=this;t.isPainted()&&(!t.getInfinite()&&t.getGrouped()&&t.getPinHeaders()&&t.updateHeaderMap(),t.container.getScrollable().getScroller().refresh())},updateHeaderMap:function(){var t,e,i=this,n=i.headerMap,r=i.headerIndices;n.length=0;for(e in r)r.hasOwnProperty(e)&&(t=i.getItemAt(e).getHeader(),n.push(t.renderElement.dom.offsetTop))},applyVariableHeights:function(t){return this.getInfinite()?t:!0},applyDefaultType:function(t){return t||(t=this.getUseSimpleItems()?"simplelistitem":"listitem"),t},applyItemMap:function(t){return Ext.factory(t,Ext.util.PositionMap,this.getItemMap())},updateItemHeight:function(t){this.getItemMap().setMinimumHeight(t)},applyIndexBar:function(t){return Ext.factory(t,Ext.dataview.IndexBar,this.getIndexBar())},updatePinHeaders:function(t){this.isPainted()&&this.pinnedHeader.translate(0,t?this.pinnedHeader.$position:-1e4)},updateItemTpl:function(t){var e,i,n=this,r=n.listItems,s=r.length||0;for(e=0;s>e;e++)i=r[e],i.setTpl(t);n.updateAllListItems()},updateItemCls:function(t,e){var i,n,r=this.listItems,s=r.length;for(i=0;s>i;i++)n=r[i],n.removeCls(e),n.addCls(t)},updateIndexBar:function(t,e){var i=this,n=i.scrollViewElement;e&&(e.un({index:"onIndex",scope:i}),t||i.element.removeCls(i.getBaseCls()+"-indexed"),n&&n.removeChild(e.renderElement)),t&&(t.on({index:"onIndex",scope:i}),e||i.element.addCls(i.getBaseCls()+"-indexed"),n&&n.appendChild(t.renderElement))},updateGrouped:function(t){var e=this,i=this.getBaseCls(),n=e.pinnedHeader,r=i+"-grouped",s=i+"-ungrouped";n&&n.translate(0,-1e4),t?(e.addCls(r),e.removeCls(s)):(e.addCls(s),e.removeCls(r)),e.getInfinite()&&(e.refreshHeaderIndices(),e.handleItemHeights()),e.updateAllListItems()},onStoreAdd:function(){this.doRefresh()},onStoreRemove:function(){this.doRefresh()},onStoreUpdate:function(t,e,i,n){var r,s=this;n="undefined"==typeof n?i:n,s.getInfinite()||n!==i?s.doRefresh():(r=s.listItems[i],r&&s.updateListItem(r,i,s.getListItemInfo()))},onStoreClear:function(){var t=this,e=t.container.getScrollable().getScroller(),i=t.getInfinite();t.pinnedHeader&&t.pinnedHeader.translate(0,-1e4),i?(t.topRenderedIndex=0,t.topVisibleIndex=0,e.position.y=0,t.updateAllListItems()):(t.setItemsCount(0),e.scrollTo(0,0))},showEmptyScrollDock:function(){var t,e,i,n=this,r=n.getInfinite(),s=n.scrollDockItems,a=0;for(t=0,e=s.top.length;e>t;t++)i=s.top[t],r?(i.translate(0,a),a+=i.$scrollDockHeight):this.scrollElement.appendChild(i.renderElement);for(t=0,e=s.bottom.length;e>t;t++)i=s.bottom[t],r?(i.translate(0,a),a+=i.$scrollDockHeight):this.scrollElement.appendChild(i.renderElement)},hideScrollDockItems:function(){var t,e,i,n=this,r=n.getInfinite(),s=n.scrollDockItems;if(r){for(t=0,e=s.top.length;e>t;t++)i=s.top[t],i.translate(0,-1e4);for(t=0,e=s.bottom.length;e>t;t++)i=s.bottom[t],i.translate(0,-1e4)}},getItemAt:function(t){var e,i,n=this.listItems,r=n.length;for(e=0;r>e;e++)if(i=n[e],i.$dataIndex==t)return i},getItemIndex:function(t){return t.$dataIndex},getViewItems:function(){return this.listItems},getListItemInfo:function(){var t=this,e=t.getBaseCls();return{store:t.getStore(),grouped:t.getGrouped(),baseCls:e,selectedCls:t.getSelectedCls(),headerCls:e+"-header-wrap",footerCls:e+"-footer-wrap",firstCls:e+"-item-first",lastCls:e+"-item-last",stripeCls:e+"-item-odd",striped:t.getStriped(),itemMap:t.getItemMap(),defaultItemHeight:t.getItemHeight()}},getListItemConfig:function(){var t=this,e=t.getItemMap().getMinimumHeight(),i={xtype:t.getDefaultType(),itemConfig:t.getItemConfig(),tpl:t.getItemTpl(),minHeight:e,cls:t.getItemCls()};return t.getInfinite()&&(i.translatable={translationMethod:this.translationMethod}),t.getVariableHeights()||(i.height=e),i},refreshHeaderIndices:function(){var t,e,i,n,r=this,s=r.getStore(),a=s&&s.getCount(),o=s.getGroups(),l=r.getGrouped(),u=o.length,h=r.headerIndices={},c=r.footerIndices={};if(!l)return c;for(r.groups=o,t=0;u>t;t++)i=o[t].children[0],n=s.indexOf(i),h[n]=!0,e=n-1,e>=0&&(c[e]=!0);return c[a-1]=!0,h},onIndex:function(t,e){var i,n,r,s,a=this,o=e.toLowerCase(),l=a.getStore(),u=l.getGroups(),h=u.length;for(n=0;h>n;n++){if(i=u[n],s=i.name.toLowerCase(),s>=o){r=i;break}r=i}r&&this.scrollToRecord(r.children[0])},scrollToRecord:function(t,e,i){var n=this,r=n.container.getScrollable().getScroller(),s=n.getStore(),a=s.indexOf(t);r.stopAnimation();var o,l,u=r.getContainerSize().y,h=r.getSize().y,c=h-u;n.getInfinite()?o=n.getItemMap().map[a]:(l=n.listItems[a],o=n.getUseHeaders()&&l.getHeader().isPainted()?l.getHeader().renderElement.dom.offsetTop:l.renderElement.dom.offsetTop),i||(o=Math.min(o,c)),r.scrollTo(0,o,!!e)},onItemAdd:function(t){var e=this,i=t.config;i.scrollDock?("bottom"==i.scrollDock?e.scrollDockItems.bottom.push(t):e.scrollDockItems.top.push(t),e.getInfinite()&&(t.on({resize:"onScrollDockItemResize",scope:this}),t.addCls(e.getBaseCls()+"-scrolldockitem"),t.setTranslatable({translationMethod:this.translationMethod}),t.translate(0,-1e4),t.$scrollDockHeight=0),e.container.doAdd(t)):e.callParent(arguments)},getScrollDockedItems:function(){return this.scrollDockItems.bottom.slice().concat(this.scrollDockItems.top.slice())},onScrollDockItemResize:function(t,e){var i,n,r=this,s=r.listItems,a=s.length;for(Ext.getCmp(t.id).$scrollDockHeight=e.height,i=0;a>i;i++)if(n=s[i],n.isLast){this.updatedItems.push(n),this.refreshScroller();break}},onItemTouchStart:function(t){this.container.innerElement.on({touchmove:"onItemTouchMove",delegate:"."+Ext.baseCSSPrefix+"list-item",single:!0,scope:this}),this.callParent(this.parseEvent(t))},onItemTouchMove:function(t){this.callParent(this.parseEvent(t))},onItemTouchEnd:function(t){this.container.innerElement.un({touchmove:"onItemTouchMove",delegate:"."+Ext.baseCSSPrefix+"list-item",scope:this}),this.callParent(this.parseEvent(t))},onItemTap:function(t){this.callParent(this.parseEvent(t))},onItemTapHold:function(t){this.callParent(this.parseEvent(t))},onItemSingleTap:function(t){this.callParent(this.parseEvent(t))},onItemDoubleTap:function(t){this.callParent(this.parseEvent(t))},onItemSwipe:function(t){this.callParent(this.parseEvent(t))},parseEvent:function(t){var e=this,i=Ext.fly(t.getTarget()).findParent("."+Ext.baseCSSPrefix+"list-item",8),n=Ext.getCmp(i.id);return[e,n,n.$dataIndex,t]},doItemSelect:function(t,e){this.callParent(arguments);var i=t.getItemAt(t.getStore().indexOf(e));t.container&&!t.isDestroyed&&i&&i.isComponent&&(i.classCache=i.renderElement.classList.slice())},doItemDeselect:function(t,e){this.callParent(arguments);var i=t.getItemAt(t.getStore().indexOf(e));i&&i.isComponent&&(i.classCache=i.renderElement.classList.slice())},applyOnItemDisclosure:function(t){return Ext.isFunction(t)?{scope:this,handler:t}:t},handleItemDisclosure:function(t){var e=this,i=Ext.getCmp(Ext.get(t.getTarget()).up(".x-list-item").id),n=i.$dataIndex,r=e.getStore().getAt(n);e.fireAction("disclose",[e,r,i,n,t],"doDisclose")},doDisclose:function(t,e,i,n,r){var s=t.getOnItemDisclosure();s&&s.handler&&s.handler.call(s.scope||t,e,i,n,r)},onItemTrigger:function(t,e,i,n,r){this.getPreventSelectionOnDisclose()&&Ext.fly(r.target).hasCls(this.getBaseCls()+"-disclosure")||this.callParent(arguments)},destroy:function(){var t,e=this,i=e.listItems,n=i.length;for(e.callParent(arguments),e.onIdleBound&&Ext.AnimationQueue.unIdle(e.onAnimationIdle,e),t=0;n>t;t++)i[t].destroy();e.listItems=null}}),Ext.define("Ext.dataview.NestedList",{alternateClassName:"Ext.NestedList",extend:Ext.Container,xtype:"nestedlist",config:{baseCls:Ext.baseCSSPrefix+"nested-list",backText:"Back",useTitleAsBackText:!0,updateTitleText:!0,displayField:"text",loadingText:"Loading...",emptyText:"No items available.",onItemDisclosure:!1,allowDeselect:!1,useToolbar:null,toolbar:{docked:"top",xtype:"titlebar",ui:"light",inline:!0},title:"",layout:{type:"card",animation:{type:"slide",duration:250,direction:"left"}},store:null,detailContainer:void 0,detailCard:null,backButton:{ui:"back",hidden:!0},listConfig:null,useSimpleItems:!0,itemHeight:47,variableHeights:!1,lastNode:null,lastActiveList:null,ui:null,clearSelectionOnListChange:!0},platformConfig:[{theme:["Windows"],itemHeight:42},{theme:["Cupertino"],itemHeight:43,useTitleAsBackText:!0,updateTitleText:!1},{theme:["Blackberry"],toolbar:{splitNavigation:!0}},{theme:["Tizen"],backText:""}],constructor:function(t){Ext.isObject(t)&&(t.getTitleTextTpl&&(this.getTitleTextTpl=t.getTitleTextTpl),t.getItemTextTpl&&(this.getItemTextTpl=t.getItemTextTpl)),this.callParent(arguments)},onItemInteraction:function(){return this.isGoingTo?!1:void 0},applyDetailContainer:function(t){return t||(t=this),t},updateDetailContainer:function(t){t&&(t.onBefore("activeitemchange","onBeforeDetailContainerChange",this),t.onAfter("activeitemchange","onDetailContainerChange",this))},onBeforeDetailContainerChange:function(){this.isGoingTo=!0},onDetailContainerChange:function(){this.isGoingTo=!1},onItemTap:function(t,e,i,n,r){var s=this,a=t.getStore(),o=a.getAt(e);s.fireEvent("itemtap",this,t,e,i,n,r),o.isLeaf()?(s.fireEvent("leafitemtap",this,t,e,i,n,r),s.goToLeaf(o)):this.goToNode(o)},onBeforeSelect:function(){this.fireEvent.apply(this,[].concat("beforeselect",this,Array.prototype.slice.call(arguments)))},onContainerTap:function(){this.fireEvent.apply(this,[].concat("containertap",this,Array.prototype.slice.call(arguments)))},onSelectionChange:function(){this.fireEvent.apply(this,[].concat("selectionchange",this,Array.prototype.slice.call(arguments)))},onItemDoubleTap:function(){this.fireEvent.apply(this,[].concat("itemdoubletap",this,Array.prototype.slice.call(arguments)))},onStoreBeforeLoad:function(){var t=this.getLoadingText(),e=this.getScrollable();t&&(this.setMasked({xtype:"loadmask",message:t}),e&&e.getScroller().setDisabled(!0)),this.fireEvent.apply(this,[].concat("beforeload",this,Array.prototype.slice.call(arguments)))},onStoreLoad:function(t){this.setMasked(!1),this.fireEvent.apply(this,[].concat("load",this,Array.prototype.slice.call(arguments))),-1===t.indexOf(this.getLastNode())&&this.goToNode(t.getRoot())},onBackTap:function(){var t=this,e=t.getLastNode(),i=t.getDetailCard(),n=i&&t.getActiveItem()==i,r=t.getLastActiveList();this.fireAction("back",[this,e,r,n],"doBack")},doBack:function(t,e,i,n){var r=t.getLayout(),s=r?r.getAnimation():null;n&&i?(s&&s.setReverse(!0),t.setActiveItem(i),t.setLastNode(e.parentNode),t.syncToolbar()):this.goToNode(e.parentNode)},updateData:function(t){this.getStore()||this.setStore(new Ext.data.TreeStore({root:t}))},applyStore:function(t){return t&&(Ext.isString(t)?t=Ext.data.StoreManager.get(t):t instanceof Ext.data.TreeStore||(t=Ext.factory(t,Ext.data.TreeStore,null)),t||Ext.Logger.warn("The specified Store cannot be found",this)),t},storeListeners:{rootchange:"onStoreRootChange",load:"onStoreLoad",beforeload:"onStoreBeforeLoad"},updateStore:function(t,e){var i=this,n=this.storeListeners;n.scope=i,e&&Ext.isObject(e)&&e.isStore&&(e.autoDestroy&&e.destroy(),e.un(n)),t&&(t.on(n),i.goToNode(t.getRoot()))},onStoreRootChange:function(t,e){this.goToNode(e)},applyBackButton:function(t){return Ext.factory(t,Ext.Button,this.getBackButton())},applyDetailCard:function(t,e){return null===t?Ext.factory(t,Ext.Component,e):Ext.factory(t,Ext.Component)},updateBackButton:function(t,e){if(t){var i=this;t.on("tap",i.onBackTap,i),t.setText(i.getBackText());var n=i.getToolbar();this.$backButtonContainer?this.$backButtonContainer.insert(0,t):n.insert(0,t)}else e&&e.destroy()},applyToolbar:function(t){if(t&&t.splitNavigation){Ext.apply(t,{docked:"top",xtype:"titlebar",ui:"light"});var e=t.splitNavigation===!0?{}:t.splitNavigation;this.$backButtonContainer=this.add(Ext.apply({xtype:"toolbar",docked:"bottom",hidden:!0,ui:"dark"},e))}return Ext.factory(t,Ext.TitleBar,this.getToolbar())},updateToolbar:function(t,e){var i=this;t?(t.setTitle(i.getTitle()),t.getParent()||i.add(t)):e&&e.destroy()},updateUseToolbar:function(t){t||this.setToolbar(!1)},updateTitle:function(t){var e=this,i=e.getToolbar();i&&e.getUpdateTitleText()&&i.setTitle(t)},getItemTextTpl:function(){return"{"+this.getDisplayField()+"}"},getTitleTextTpl:function(){return"{"+this.getDisplayField()+"}"},renderTitleText:function(t,e){if(t.titleTpl||(t.titleTpl=Ext.create("Ext.XTemplate",this.getTitleTextTpl(t))),t.isRoot()){var i=this.getInitialConfig("title");return e&&""===i?this.getInitialConfig("backText"):i}return t.titleTpl.applyTemplate(t.data)},goToNode:function(t){if(t){var e,i=this,n=i.getActiveItem(),r=i.getDetailCard(),s=r&&i.getActiveItem()==r,a=i.goToNodeReverseAnimation(t),o=i.firstList,l=i.secondList,u=i.getLayout(),h=u?u.getAnimation():null;if(t.isLeaf())throw new Error("goToNode: passed a node which is a leaf.");(t!=i.getLastNode()||s)&&(s?(h&&h.setReverse(!0),e=i.getLastActiveList(),e.getStore().setNode(t),t.expand(),i.setActiveItem(e)):(h&&h.setReverse(a),o&&l?(n=i.getActiveItem(),i.setLastActiveList(n),e=n==o?l:o,e.getStore().setNode(t),t.expand(),i.setActiveItem(e),this.getClearSelectionOnListChange()&&e.deselectAll()):o?(i.setLastActiveList(i.getActiveItem()),i.setActiveItem(i.getList(t)),i.secondList=i.getActiveItem()):(i.setActiveItem(i.getList(t)),i.firstList=i.getActiveItem())),i.fireEvent("listchange",this,i.getActiveItem()),i.setLastNode(t),i.syncToolbar())}},goToLeaf:function(t){if(!t.isLeaf())throw new Error("goToLeaf: passed a node which is not a leaf.");var e=this,i=e.getDetailCard(t),n=e.getDetailContainer(),r=n==this,s=e.getLayout(),a=s?s.getAnimation():!1;i&&(-1===n.getItems().indexOf(i)&&n.add(i),r&&(e.getActiveItem()instanceof Ext.dataview.List&&e.setLastActiveList(e.getActiveItem()),e.setLastNode(t)),a&&a.setReverse(!1),n.setActiveItem(i),e.syncToolbar())},syncToolbar:function(t){var e=this,i=e.getDetailCard(),n=e.getLastNode(),r=t||i&&e.getActiveItem()==i,s=r?n:n.parentNode,a=e.getBackButton();if(a){var o=this.getToolbar(),l=o.getInitialConfig("splitNavigation");l&&this.$backButtonContainer[s?"show":"hide"](),a[s?"show":"hide"](),s&&e.getUseTitleAsBackText()&&a.setText(e.renderTitleText(n.parentNode,!0))}n&&e.setTitle(e.renderTitleText(n))},updateBackText:function(t){this.getBackButton().setText(t)},goToNodeReverseAnimation:function(t){var e=this,i=e.getLastNode();return i&&!i.contains(t)&&i.isAncestor(t)?!0:!1},getList:function(t){var e=this,i=Ext.create("Ext.data.NodeStore",{recursive:!1,node:t,rootVisible:!1,model:e.getStore().getModel()});return t.expand(),Ext.Object.merge({xtype:"list",useSimpleItems:e.getUseSimpleItems(),pressedDelay:250,autoDestroy:!0,store:i,onItemDisclosure:e.getOnItemDisclosure(),allowDeselect:e.getAllowDeselect(),itemHeight:e.getItemHeight(),variableHeights:e.getVariableHeights(),emptyText:e.getEmptyText(),listeners:[{event:"itemdoubletap",fn:"onItemDoubleTap",scope:e},{event:"itemtap",fn:"onItemInteraction",scope:e,order:"before"},{event:"itemtouchstart",fn:"onItemInteraction",scope:e,order:"before"},{event:"itemtap",fn:"onItemTap",scope:e},{event:"beforeselectionchange",fn:"onBeforeSelect",scope:e},{event:"containertap",fn:"onContainerTap",scope:e},{event:"selectionchange",fn:"onSelectionChange",order:"before",scope:e}],itemTpl:'<span<tpl if="leaf == true"> class="x-list-item-leaf"</tpl>>'+e.getItemTextTpl(t)+"</span>"},this.getListConfig())}},function(){}),Ext.define("Ext.dataview.element.List",{extend:Ext.dataview.element.Container,updateBaseCls:function(t){var e=this;e.itemClsShortCache=t+"-item",e.headerClsShortCache=t+"-header",e.headerClsCache="."+e.headerClsShortCache,e.headerItemClsShortCache=t+"-header-item",e.footerClsShortCache=t+"-footer-item",e.footerClsCache="."+e.footerClsShortCache,e.labelClsShortCache=t+"-item-label",e.labelClsCache="."+e.labelClsShortCache,e.disclosureClsShortCache=t+"-disclosure",e.disclosureClsCache="."+e.disclosureClsShortCache,e.iconClsShortCache=t+"-icon",e.iconClsCache="."+e.iconClsShortCache,this.callParent(arguments)},hiddenDisplayCache:Ext.baseCSSPrefix+"hidden-display",getItemElementConfig:function(t,e){var i,n,r=this,s=r.dataview,a=s.getItemCls(),o=r.itemClsShortCache;return a&&(o+=" "+a),i={cls:o,children:[{cls:r.labelClsShortCache,html:s.getItemTpl().apply(e)}]},s.getIcon()&&(n=e.iconSrc,i.children.push({cls:r.iconClsShortCache,style:'url("'+newSrc+'")'})),s.getOnItemDisclosure()&&i.children.push({cls:r.disclosureClsShortCache+" "+(e[s.getDisclosureProperty()]===!1?r.hiddenDisplayCache:"")}),i},updateListItem:function(t,e){var i,n,r=this,s=r.dataview,a=Ext.fly(e),o=a.down(r.labelClsCache,!0),l=s.prepareData(t.getData(!0),s.getStore().indexOf(t),t),u=s.getDisclosureProperty(),h=l&&l.hasOwnProperty(u),c=l&&l.hasOwnProperty("iconSrc");o.innerHTML=s.getItemTpl().apply(l),h&&(i=a.down(r.disclosureClsCache),i[l[u]===!1?"addCls":"removeCls"](r.hiddenDisplayCache)),s.getIcon()&&(n=a.down(r.iconClsCache,!0),n.style.backgroundImage=c?'url("'+c+'")':"")},doRemoveHeaders:function(){for(var t,e=this,i=e.headerItemClsShortCache,n=e.element.query(e.headerClsCache),r=n.length,s=0;r>s;s++)t=n[s],Ext.fly(t.parentNode).removeCls(i),Ext.get(t).destroy()},doRemoveFooterCls:function(){for(var t=this,e=t.footerClsShortCache,i=t.element.query(t.footerClsCache),n=i.length,r=0;n>r;r++)Ext.fly(i[r]).removeCls(e)},doAddHeader:function(t,e){t=Ext.fly(t),e&&t.insertFirst(Ext.Element.create({cls:this.headerClsShortCache,html:e})),t.addCls(this.headerItemClsShortCache)},destroy:function(){this.doRemoveHeaders(),this.callParent()}}),Ext.define("Ext.util.Audio",{singleton:!0,ctx:null,beep:function(t){this.oscillate(200,1,t)},oscillate:function(t,e,i){if(this.ctx||(this.ctx=new(window.audioContext||window.webkitAudioContext)),!this.ctx)return void console.log("BEEP");e=e%5||0;try{var n=this.ctx.createOscillator();n.type=e,n.connect(this.ctx.destination),n.noteOn(0),setTimeout(function(){n.noteOff(0),i&&i()},t)}catch(r){throw new Error("[Ext.util.Audio.oscillate] Error with Oscillator playback")}}}),Ext.define("Ext.direct.Event",{alias:"direct.event",config:{status:!0,data:null,name:"event",xhr:null,code:null,message:"",result:null,transaction:null},constructor:function(t){this.initConfig(t)}}),Ext.define("Ext.direct.RemotingEvent",{extend:Ext.direct.Event,alias:"direct.rpc",config:{name:"remoting",tid:null,transaction:null},getTransaction:function(){return this._transaction||Ext.direct.Manager.getTransaction(this.getTid())}}),Ext.define("Ext.direct.ExceptionEvent",{extend:Ext.direct.RemotingEvent,alias:"direct.exception",config:{status:!1,name:"exception",error:null}}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:Ext.mixin.Observable},config:{id:void 0},isProvider:!0,constructor:function(t){this.initConfig(t)},applyId:function(t){return void 0===t&&(t=this.getUniqueId()),t},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn}),Ext.define("Ext.direct.JsonProvider",{extend:Ext.direct.Provider,alias:"direct.jsonprovider",parseResponse:function(t){return Ext.isEmpty(t.responseText)?null:Ext.isObject(t.responseText)?t.responseText:Ext.decode(t.responseText)},createEvents:function(t){var e,i,n=null,r=[],s=0;try{n=this.parseResponse(t)}catch(a){return i=Ext.create("Ext.direct.ExceptionEvent",{data:a,xhr:t,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+n}),[i]}if(Ext.isArray(n))for(e=n.length;e>s;++s)r.push(this.createEvent(n[s]));else r.push(this.createEvent(n));return r},createEvent:function(t){return Ext.create("direct."+t.type,t)}}),Ext.define("Ext.util.DelayedTask",{config:{interval:null,delay:null,fn:null,scope:null,args:null},constructor:function(t,e,i){var n={fn:t,scope:e,args:i};this.initConfig(n)},delay:function(t,e,i,n){var r=this;r.cancel(),Ext.isNumber(t)&&r.setDelay(t),Ext.isFunction(e)&&r.setFn(e),i&&r.setScope(i),i&&r.setArgs(n);var s=function(){r.getFn().apply(r.getScope(),r.getArgs()||[]),r.cancel()};r.setInterval(setInterval(s,r.getDelay()))},cancel:function(){this.setInterval(null)},updateInterval:function(t,e){e&&clearInterval(e)},applyArgs:function(t){return Ext.isArray(t)||(t=[t]),t}}),Ext.define("Ext.direct.PollingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.pollingprovider",config:{interval:3e3,baseParams:null,url:null},isConnected:function(){return!!this.pollTask},connect:function(){var t=this,e=t.getUrl(),i=t.getBaseParams();e&&!t.pollTask?(t.pollTask=setInterval(function(){t.fireEvent("beforepoll",t)!==!1&&(Ext.isFunction(e)?e(i):Ext.Ajax.request({url:e,callback:t.onData,scope:t,params:i}))},t.getInterval()),t.fireEvent("connect",t)):e||Ext.Error.raise("Error initializing PollingProvider, no url configured.")},disconnect:function(){var t=this;t.pollTask&&(clearInterval(t.pollTask),delete t.pollTask,t.fireEvent("disconnect",t))},onData:function(t,e,i){var n,r,s=this,a=0;if(e)for(r=s.createEvents(i),n=r.length;n>a;++a)s.fireEvent("data",s,r[a]);else s.fireEvent("data",s,Ext.create("Ext.direct.ExceptionEvent",{data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}))}}),Ext.define("Ext.direct.RemotingMethod",{config:{name:null,params:null,formHandler:null,len:null,ordered:!0},constructor:function(t){this.initConfig(t)
},applyParams:function(t){if(Ext.isNumber(t))this.setLen(t);else if(Ext.isArray(t)){this.setOrdered(!1);var e,i,n,r=t.length,s=[];for(e=0;r>e;e++)i=t[e],n=Ext.isObject(i)?i.name:i,s.push(n);return s}},getArgs:function(t,e,i){var n,r,s=[];if(this.getOrdered()){if(this.getLen()>0)if(e)for(n=0,r=e.length;r>n;n++)s.push(t[e[n]]);else i&&s.push(t)}else s.push(t);return s},getCallData:function(t){var e,i,n,r=this,s=null,a=r.getLen(),o=r.getParams();if(r.getOrdered())e=t[a],i=t[a+1],0!==a&&(s=t.slice(0,a));else{s=Ext.apply({},t[0]),e=t[1],i=t[2];for(n in s)s.hasOwnProperty(n)&&(Ext.Array.contains(o,n)||delete s[n])}return{data:s,callback:e,scope:i}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},config:{id:void 0,provider:null,retryCount:0,args:null,action:null,method:null,data:null,callback:null,form:null},constructor:function(t){this.initConfig(t)},applyId:function(t){return void 0===t&&(t=++this.self.TRANSACTION_ID),t},updateId:function(t){this.id=this.tid=t},getTid:function(){return this.tid},send:function(){this.getProvider().queueTransaction(this)},retry:function(){this.setRetryCount(this.getRetryCount()+1),this.send()}}),Ext.define("Ext.direct.RemotingProvider",{alias:"direct.remotingprovider",extend:Ext.direct.JsonProvider,config:{namespace:void 0,url:null,enableUrlEncode:null,enableBuffer:10,maxRetries:1,timeout:void 0,actions:{}},constructor:function(){var t=this;t.callParent(arguments),t.transactions=Ext.create("Ext.util.Collection",function(t){return t.getId()}),t.callBuffer=[]},applyNamespace:function(t){return Ext.isString(t)?Ext.ns(t):t||window},initAPI:function(){var t,e,i,n,r,s,a=this.getActions(),o=this.getNamespace();for(t in a)if(a.hasOwnProperty(t))for(e=o[t],e||(e=o[t]={}),i=a[t],n=0,r=i.length;r>n;++n)s=Ext.create("Ext.direct.RemotingMethod",i[n]),e[s.getName()]=this.createHandler(t,s)},createHandler:function(t,e){var i,n=this;return i=e.getFormHandler()?function(i,r,s){n.configureFormRequest(t,e,i,r,s)}:function(){n.configureRequest(t,e,Array.prototype.slice.call(arguments,0))},i.directCfg={action:t,method:e},i},isConnected:function(){return!!this.connected},connect:function(){var t=this;t.getUrl()?(t.initAPI(),t.connected=!0,t.fireEvent("connect",t)):Ext.Error.raise("Error initializing RemotingProvider, no url configured.")},disconnect:function(){var t=this;t.connected&&(t.connected=!1,t.fireEvent("disconnect",t))},runCallback:function(t,e){var i,n=!!e.getStatus(),r=n?"success":"failure",s=t&&t.getCallback();s&&(i=e.getResult(),Ext.isFunction(s)?s(i,e,n):(Ext.callback(s[r],s.scope,[i,e,n]),Ext.callback(s.callback,s.scope,[i,e,n])))},onData:function(t,e,i){var n,r,s,a,o,l=this,u=0;if(e)for(r=l.createEvents(i),n=r.length;n>u;++u)s=r[u],a=l.getTransaction(s),l.fireEvent("data",l,s),a&&(l.runCallback(a,s,!0),Ext.direct.Manager.removeTransaction(a));else for(o=[].concat(t.transaction),n=o.length;n>u;++u)a=l.getTransaction(o[u]),a&&a.getRetryCount()<l.getMaxRetries()?a.retry():(s=Ext.create("Ext.direct.ExceptionEvent",{data:null,transaction:a,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}),l.fireEvent("data",l,s),a&&(l.runCallback(a,s,!1),Ext.direct.Manager.removeTransaction(a)))},getTransaction:function(t){return t&&t.getTid?Ext.direct.Manager.getTransaction(t.getTid()):null},configureRequest:function(t,e,i){var n,r=this,s=e.getCallData(i),a=s.data,o=s.callback,l=s.scope;n=Ext.create("Ext.direct.Transaction",{provider:r,args:i,action:t,method:e.getName(),data:a,callback:l&&Ext.isFunction(o)?Ext.Function.bind(o,l):o}),r.fireEvent("beforecall",r,n,e)!==!1&&(Ext.direct.Manager.addTransaction(n),r.queueTransaction(n),r.fireEvent("call",r,n,e))},getCallData:function(t){return{action:t.getAction(),method:t.getMethod(),data:t.getData(),type:"rpc",tid:t.getId()}},sendRequest:function(t){var e,i,n,r=this,s={url:r.getUrl(),callback:r.onData,scope:r,transaction:t,timeout:r.getTimeout()},a=r.getEnableUrlEncode(),o=0;if(Ext.isArray(t))for(e=[],i=t.length;i>o;++o)e.push(r.getCallData(t[o]));else e=r.getCallData(t);a?(n={},n[Ext.isString(a)?a:"data"]=Ext.encode(e),s.params=n):s.jsonData=e,Ext.Ajax.request(s)},queueTransaction:function(t){var e=this,i=e.getEnableBuffer();return t.getForm()?void e.sendFormRequest(t):(e.callBuffer.push(t),void(i?(e.callTask||(e.callTask=Ext.create("Ext.util.DelayedTask",e.combineAndSend,e)),e.callTask.delay(Ext.isNumber(i)?i:10)):e.combineAndSend()))},combineAndSend:function(){var t=this.callBuffer,e=t.length;e>0&&(this.sendRequest(1==e?t[0]:t),this.callBuffer=[])},configureFormRequest:function(t,e,i,n,r){var s,a,o,l=this;s=new Ext.direct.Transaction({provider:l,action:t,method:e.getName(),args:[i,n,r],callback:r&&Ext.isFunction(n)?Ext.Function.bind(n,r):n,isForm:!0}),l.fireEvent("beforecall",l,s,e)!==!1&&(Ext.direct.Manager.addTransaction(s),a="multipart/form-data"==String(i.getAttribute("enctype")).toLowerCase(),o={extTID:s.id,extAction:t,extMethod:e.getName(),extType:"rpc",extUpload:String(a)},Ext.apply(s,{form:Ext.getDom(i),isUpload:a,params:n&&Ext.isObject(n.params)?Ext.apply(o,n.params):o}),l.fireEvent("call",l,s,e),l.sendFormRequest(s))},sendFormRequest:function(t){var e=this;Ext.Ajax.request({url:e.getUrl(),params:t.params,callback:e.onData,scope:e,form:t.form,isUpload:t.isUpload,transaction:t})}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,getElement:function(t){return t},transformElement:function(t){return Ext.get(t)}}),Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObject",isStopped:!1,set:function(t){if(1===arguments.length&&"string"!=typeof t){var e=t;for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else this[t]=e[t]},stopEvent:function(){return this.stopPropagation()},stopPropagation:function(){return this.isStopped=!0,this}}),Ext.define("Ext.event.Dom",{extend:Ext.event.Event,constructor:function(t){var e,i=t.target;return i&&1!==i.nodeType&&(i=i.parentNode),e=t.changedTouches,e?(e=e[0],this.pageX=e.pageX,this.pageY=e.pageY):(this.pageX=t.pageX,this.pageY=t.pageY),this.browserEvent=this.event=t,this.target=this.delegatedTarget=i,this.type=t.type,this.timeStamp=this.time=+t.timeStamp,this},stopEvent:function(){return this.preventDefault(),this.callParent()},preventDefault:function(){this.browserEvent.preventDefault()},getPageX:function(){return this.pageX||this.browserEvent.pageX},getPageY:function(){return this.pageY||this.browserEvent.pageY},getXY:function(){return this.xy||(this.xy=[this.getPageX(),this.getPageY()]),this.xy},getTarget:function(t,e,i){return 0===arguments.length?this.delegatedTarget:t?Ext.fly(this.target).findParent(t,e,i):i?Ext.get(this.target):this.target},getTime:function(){return this.time},setDelegatedTarget:function(t){this.delegatedTarget=t},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn}}),Ext.define("Ext.event.Touch",{extend:Ext.event.Dom,constructor:function(t,e,i,n){var r,s,a,o,l=[];for(e&&this.set(e),this.changedTouches=this.cloneTouches(t.changedTouches,i),s=0,a=n.length;a>s;s++)o=n[s],l.push(i[o]);this.touches=l,this.targetTouches=l.slice(),r=this.changedTouches[0],this.callSuper([t]),this.target=this.delegatedTarget=r.target,this.pageX=r.pageX,this.pageY=r.pageY},cloneTouches:function(t,e){var i,n,r,s,a=[];for(i=0,n=t.length;n>i;i++)r=t[i],s=r.identifier,a[i]=e[s];return a}}),Ext.define("Ext.event.publisher.ComponentDelegation",{extend:Ext.event.publisher.Publisher,targetType:"component",optimizedSelectorRegex:/^#([\w\-]+)((?:[\s]*)>(?:[\s]*)|(?:\s*))([\w\-]+)$/i,handledEvents:["*"],getSubscribers:function(t,e){var i=this.subscribers,n=i[t];return!n&&e&&(n=i[t]={type:{$length:0},selector:[],$length:0}),n},subscribe:function(t,e){if(this.idSelectorRegex.test(t))return!1;var i,n,r,s,a,o=t.match(this.optimizedSelectorRegex),l=this.getSubscribers(e,!0),u=l.type,h=l.selector;if(null!==o){if(i=o[1],n=-1===o[2].indexOf(">"),r=o[3],s=u[r],s||(u[r]=s={descendents:{$length:0},children:{$length:0},$length:0}),a=n?s.descendents:s.children,a.hasOwnProperty(i))return a[i]++,!0;a[i]=1,a.$length++,s.$length++,u.$length++}else{if(h.hasOwnProperty(t))return h[t]++,!0;h[t]=1,h.push(t)}return l.$length++,!0},unsubscribe:function(t,e,i){var n=this.getSubscribers(e);if(!n)return!1;var r,s,a,o,l,u=t.match(this.optimizedSelectorRegex),h=n.type,c=n.selector;if(i=Boolean(i),null!==u){if(r=u[1],s=-1===u[2].indexOf(">"),a=u[3],o=h[a],!o)return!0;if(l=s?o.descendents:o.children,!l.hasOwnProperty(r)||!i&&--l[r]>0)return!0;delete l[r],l.$length--,o.$length--,h.$length--}else{if(!c.hasOwnProperty(t)||!i&&--c[t]>0)return!0;delete c[t],Ext.Array.remove(c,t)}return 0===--n.$length&&delete this.subscribers[e],!0},notify:function(t,e){var i,n,r=this.getSubscribers(e);return r&&0!==r.$length?(i=t.substr(1),n=Ext.ComponentManager.get(i),void(n&&this.dispatcher.doAddListener(this.targetType,t,e,"publish",this,{args:[e,n]},"before"))):!1},matchesSelector:function(t,e){return Ext.ComponentQuery.is(t,e)},dispatch:function(t,e,i,n){this.dispatcher.doDispatchEvent(this.targetType,t,e,i,null,n)},publish:function(t,e){var i=this.getSubscribers(t);if(i){var n,r,s,a,o,l,u,h,c,d,f,g,p=arguments[arguments.length-1],m=i.type,x=i.selector,E=Array.prototype.slice.call(arguments,2,-2),y=e.xtypesChain;for(h=0,c=y.length;c>h;h++)if(d=y[h],i=m[d],i&&i.$length>0){if(n=i.descendents,n.$length>0)for(a||(a=e.getAncestorIds()),f=0,g=a.length;g>f;f++)o=a[f],n.hasOwnProperty(o)&&this.dispatch("#"+o+" "+d,t,E,p);r=i.children,r.$length>0&&(s||(a?s=a[0]:(l=e.getParent(),l&&(s=l.getId()))),s&&r.hasOwnProperty(s)&&this.dispatch("#"+s+" > "+d,t,E,p))}if(c=x.length,c>0)for(h=0;c>h;h++)u=x[h],this.matchesSelector(e,u)&&this.dispatch(u,t,E,p)}}}),Ext.define("Ext.event.publisher.ComponentPaint",{extend:Ext.event.publisher.Publisher,targetType:"component",handledEvents:["erased"],eventNames:{painted:"painted",erased:"erased"},constructor:function(){this.callParent(arguments),this.hiddenQueue={},this.renderedQueue={}},getSubscribers:function(t,e){var i=this.subscribers;if(!i.hasOwnProperty(t)){if(!e)return null;i[t]={$length:0}}return i[t]},setDispatcher:function(t){var e=this.targetType;return t.doAddListener(e,"*","renderedchange","onBeforeComponentRenderedChange",this,null,"before"),t.doAddListener(e,"*","hiddenchange","onBeforeComponentHiddenChange",this,null,"before"),t.doAddListener(e,"*","renderedchange","onComponentRenderedChange",this,null,"after"),t.doAddListener(e,"*","hiddenchange","onComponentHiddenChange",this,null,"after"),this.callParent(arguments)},subscribe:function(t,e){var i,n,r=t.match(this.idSelectorRegex);return r?(n=r[1],i=this.getSubscribers(e,!0),i.hasOwnProperty(n)?(i[n]++,!0):(i[n]=1,i.$length++,!0)):!1},unsubscribe:function(t,e,i){var n,r,s=t.match(this.idSelectorRegex);return s&&(n=this.getSubscribers(e))?(r=s[1],!n.hasOwnProperty(r)||!i&&--n[r]>0?!0:(delete n[r],0===--n.$length&&delete this.subscribers[e],!0)):!1},onBeforeComponentRenderedChange:function(t,e,i){var n,r=this.eventNames,s=i?r.painted:r.erased,a=this.getSubscribers(s);a&&a.$length>0&&(this.renderedQueue[e.getId()]=n=[],this.publish(a,e,s,n))},onBeforeComponentHiddenChange:function(t,e){var i,n=this.eventNames,r=e?n.erased:n.painted,s=this.getSubscribers(r);s&&s.$length>0&&(this.hiddenQueue[t.getId()]=i=[],this.publish(s,t,r,i))},onComponentRenderedChange:function(t,e){var i,n=this.renderedQueue,r=e.getId();n.hasOwnProperty(r)&&(i=n[r],delete n[r],i.length>0&&this.dispatchQueue(i))},onComponentHiddenChange:function(t){var e,i=this.hiddenQueue,n=t.getId();i.hasOwnProperty(n)&&(e=i[n],delete i[n],e.length>0&&this.dispatchQueue(e))},dispatchQueue:function(t){var e,i,n,r,s,a=this.dispatcher,o=this.targetType,l=this.eventNames,u=t.slice(),h=u.length;if(t.length=0,h>0){for(e=0;h>e;e++)i=u[e],n=i.component,r=i.eventName,s=n.isPainted(),(r===l.painted&&s||r===l.erased&&!s)&&a.doDispatchEvent(o,"#"+i.id,r,[n]);u.length=0}},publish:function(t,e,i,n){var r,s,a,o,l,u=e.getId(),h=!1;if(t[u]){if(r=this.eventNames,l=e.isPainted(),!(i===r.painted&&!l||i===r.erased&&l))return this;h=!0}if(e.isContainer)for(s=e.getItems().items,a=0,o=s.length;o>a;a++)this.publish(t,s[a],i,n);else e.isDecorator&&this.publish(t,e.getComponent(),i,n);h&&n.push({id:u,eventName:i,component:e})}}),Ext.define("Ext.event.publisher.ComponentSize",{extend:Ext.event.publisher.Publisher,targetType:"component",handledEvents:["resize","innerresize"],constructor:function(){this.callParent(arguments),this.sizeMonitors={}},getSubscribers:function(t,e){var i=this.subscribers;if(!i.hasOwnProperty(t)){if(!e)return null;i[t]={$length:0}}return i[t]},subscribe:function(t,e){var i,n,r,s=t.match(this.idSelectorRegex),a=this.sizeMonitors,o=this.dispatcher,l=this.targetType;return s?(r=s[1],i=this.getSubscribers(t,!0),i.$length++,i.hasOwnProperty(e)?(i[e]++,!0):(1===i.$length&&o.addListener(l,t,"painted","onComponentPainted",this,null,"before"),n=Ext.ComponentManager.get(r),n||Ext.Logger.error("Adding a listener to the 'resize' event of a non-existing component"),a[t]||(a[t]={}),a[t][e]=new Ext.util.SizeMonitor({element:"resize"===e?n.element:n.innerElement,callback:this.onComponentSizeChange,scope:this,args:[this,t,e]}),i[e]=1,!0)):!1},unsubscribe:function(t,e,i){var n,r,s=t.match(this.idSelectorRegex),a=this.dispatcher,o=this.targetType,l=this.sizeMonitors;return s&&(n=this.getSubscribers(t))?(r=s[1],!n.hasOwnProperty(e)||!i&&--n[e]>0?!0:(delete n[e],l[t][e].destroy(),delete l[t][e],0===--n.$length&&(delete l[t],delete this.subscribers[t],a.removeListener(o,t,"painted","onComponentPainted",this,"before")),!0)):!1},onComponentPainted:function(t){var e=t.getObservableId(),i=this.sizeMonitors[e];i.resize&&i.resize.refresh(),i.innerresize&&i.innerresize.refresh()},onComponentSizeChange:function(t,e,i){this.dispatcher.doDispatchEvent(this.targetType,e,i,[t])}}),Ext.define("Ext.event.publisher.Dom",{extend:Ext.event.publisher.Publisher,targetType:"element",idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,handledEvents:["focus","blur","paste","input","change","keyup","keydown","keypress","submit","transitionend","animationstart","animationend"],classNameSplitRegex:/\s+/,SELECTOR_ALL:"*",constructor:function(){var t,e,i,n,r=this.getHandledEvents(),s={};for(this.doBubbleEventsMap={click:!0,submit:!0,mousedown:!0,mousemove:!0,mouseup:!0,mouseover:!0,mouseout:!0,transitionend:!0},this.onEvent=Ext.Function.bind(this.onEvent,this),t=0,e=r.length;e>t;t++)i=r[t],n=this.getVendorEventName(i),s[n]=i,this.attachListener(n);return this.eventNameMap=s,this.callParent()},getSubscribers:function(t){var e=this.subscribers,i=e[t];return i||(i=e[t]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}),i},getVendorEventName:function(t){return Ext.browser.is.WebKit&&("transitionend"===t?t=Ext.browser.getVendorProperyName("transitionEnd"):"animationstart"===t?t=Ext.browser.getVendorProperyName("animationStart"):"animationend"===t&&(t=Ext.browser.getVendorProperyName("animationEnd"))),t},bindListeners:function(t,e){var i,n=this.getHandledEvents(),r=n.length;for(i=0;r>i;i++)this.bindListener(t,this.getVendorEventName(n[i]),e)},bindListener:function(t,e,i){return i?this.attachListener(e,t):this.removeListener(e,t),this},attachListener:function(t,e){e||(e=document);var i=e.defaultView;return Ext.os.is.iOS&&Ext.os.version.getMajor()<5||Ext.browser.is.AndroidStock?document.addEventListener(t,this.onEvent,!this.doesEventBubble(t)):i&&i.addEventListener?e.defaultView.addEventListener(t,this.onEvent,!this.doesEventBubble(t)):e.addEventListener(t,this.onEvent,!this.doesEventBubble(t)),this},removeListener:function(t,e){e||(e=document);var i=e.defaultView;return Ext.os.is.iOS&&Ext.os.version.getMajor()<5&&Ext.browser.is.AndroidStock?document.removeEventListener(t,this.onEvent,!this.doesEventBubble(t)):i&&i.addEventListener?e.defaultView.removeEventListener(t,this.onEvent,!this.doesEventBubble(t)):e.removeEventListener(t,this.onEvent,!this.doesEventBubble(t)),this},doesEventBubble:function(t){return!!this.doBubbleEventsMap[t]},subscribe:function(t,e){if(!this.handles(e))return!1;var i,n,r=t.match(this.idOrClassSelectorRegex),s=this.getSubscribers(e),a=s.id,o=s.className,l=s.selector;if(null!==r)if(i=r[1],n=r[2],"#"===i){if(a.hasOwnProperty(n))return a[n]++,!0;a[n]=1,a.$length++}else{if(o.hasOwnProperty(n))return o[n]++,!0;o[n]=1,o.$length++}else if(t===this.SELECTOR_ALL)s.all++;else{if(l.hasOwnProperty(t))return l[t]++,!0;l[t]=1,l.push(t)}return s.$length++,!0},unsubscribe:function(t,e,i){if(!this.handles(e))return!1;var n,r,s=t.match(this.idOrClassSelectorRegex),a=this.getSubscribers(e),o=a.id,l=a.className,u=a.selector;if(i=Boolean(i),null!==s)if(n=s[1],r=s[2],"#"===n){if(!o.hasOwnProperty(r)||!i&&--o[r]>0)return!0;delete o[r],o.$length--}else{if(!l.hasOwnProperty(r)||!i&&--l[r]>0)return!0;delete l[r],l.$length--}else if(t===this.SELECTOR_ALL)i?a.all=0:a.all--;else{if(!u.hasOwnProperty(t)||!i&&--u[t]>0)return!0;delete u[t],Ext.Array.remove(u,t)}return a.$length--,!0},getElementTarget:function(t){return 1===t.nodeType||(t=t.parentNode,t&&1===t.nodeType)?t:null},getBubblingTargets:function(t){var e=[];if(!t)return e;do e[e.length]=t,t=t.parentNode;while(t&&1===t.nodeType);return e},dispatch:function(t,e,i){i.push(i[0].target),this.callParent(arguments)},publish:function(t,e,i){var n,r=this.getSubscribers(t);return 0!==r.$length&&this.doPublish(r,t,e,i)||(n=this.getSubscribers("*"),n.$length>0&&this.doPublish(n,t,e,i)),this},doPublish:function(t,e,i,n){var r,s,a,o,l,u,h,c,d,f=t.id,g=t.className,p=t.selector,m=f.$length>0,x=g.$length>0,E=p.length>0,y=t.all>0,v={},b=[n],S=!1,C=this.classNameSplitRegex;for(r=0,s=i.length;s>r;r++){if(l=i[r],n.setDelegatedTarget(l),m&&(u=l.getAttribute("id"),u&&f.hasOwnProperty(u)&&(S=!0,this.dispatch("#"+u,e,b))),x&&(h=l.className))for(c=h.split(C),a=0,o=c.length;o>a;a++)h=c[a],v[h]||(v[h]=!0,g.hasOwnProperty(h)&&(S=!0,this.dispatch("."+h,e,b)));if(n.isStopped)return S}if(y&&!S&&(n.setDelegatedTarget(n.browserEvent.target),S=!0,this.dispatch(this.SELECTOR_ALL,e,b),n.isStopped))return S;if(E)for(a=0,o=i.length;o>a;a++)for(l=i[a],r=0,s=p.length;s>r;r++)if(d=p[r],this.matchesSelector(l,d)&&(n.setDelegatedTarget(l),S=!0,this.dispatch(d,e,b)),n.isStopped)return S;return S},matchesSelector:function(){var t=Element.prototype,e="webkitMatchesSelector"in t?"webkitMatchesSelector":"msMatchesSelector"in t?"msMatchesSelector":"mozMatchesSelector"in t?"mozMatchesSelector":null;return e?function(t,i){return t[e](i)}:function(t,e){Ext.DomQuery.is(t,e)}}(),onEvent:function(t){var e=this.eventNameMap[t.type];if(Ext.frameStartTime=t.timeStamp,e&&0!==this.getSubscribersCount(e)){var i,n=this.getElementTarget(t.target);n&&(i=this.doesEventBubble(e)?this.getBubblingTargets(n):[n],this.publish(e,i,new Ext.event.Dom(t)))}},hasSubscriber:function(t,e){if(!this.handles(e))return!1;var i,n,r=t.match(this.idOrClassSelectorRegex),s=this.getSubscribers(e);return null!==r?(i=r[1],n=r[2],"#"===i?s.id.hasOwnProperty(n):s.className.hasOwnProperty(n)):s.selector.hasOwnProperty(t)&&-1!==Ext.Array.indexOf(s.selector,t)},getSubscribersCount:function(t){return this.handles(t)?this.getSubscribers(t).$length+this.getSubscribers("*").$length:0}}),Ext.define("Ext.util.paintmonitor.Abstract",{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(t){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this),this.initConfig(t)},bindListeners:function(t){this.monitorElement[t?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(t){return t?Ext.get(t):void 0},updateElement:function(t){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},!0),t.appendChild(this.monitorElement),t.addCls("x-paint-monitored"),this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var t=this.monitorElement,e=t.parentNode,i=this.getElement();this.bindListeners(!1),delete this.monitorElement,i&&!i.isDestroyed&&(i.removeCls("x-paint-monitored"),delete this._element),e&&e.removeChild(t),this.callSuper()}}),Ext.define("Ext.util.paintmonitor.CssAnimation",{extend:Ext.util.paintmonitor.Abstract,eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(t){"x-paint-monitor-helper"===t.animationName&&this.getCallback().apply(this.getScope(),this.getArgs())}}),Ext.define("Ext.util.paintmonitor.OverflowChange",{extend:Ext.util.paintmonitor.Abstract,eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(){this.getCallback().apply(this.getScope(),this.getArgs())}}),Ext.define("Ext.util.PaintMonitor",{constructor:function(t){return Ext.browser.is.Firefox||Ext.browser.is.WebKit&&Ext.browser.engineVersion.gtEq("536")&&!Ext.os.is.Blackberry?new Ext.util.paintmonitor.OverflowChange(t):new Ext.util.paintmonitor.CssAnimation(t)}}),Ext.define("Ext.event.publisher.ElementPaint",{extend:Ext.event.publisher.Publisher,targetType:"element",handledEvents:["painted"],constructor:function(){this.monitors={},this.callSuper(arguments)},subscribe:function(t){var e,i,n=t.match(this.idSelectorRegex),r=this.subscribers;return n?(e=n[1],r.hasOwnProperty(e)?(r[e]++,!0):(r[e]=1,i=Ext.get(e),this.monitors[e]=new Ext.util.PaintMonitor({element:i,callback:this.onElementPainted,scope:this,args:[t,i]}),!0)):!1},unsubscribe:function(t,e,i){var n,r=t.match(this.idSelectorRegex),s=this.subscribers;return r?(n=r[1],!s.hasOwnProperty(n)||!i&&--s[n]>0?!0:(delete s[n],this.monitors[n].destroy(),delete this.monitors[n],!0)):!1},onElementPainted:function(t,e){Ext.TaskQueue.requestRead("dispatch",this,[t,"painted",[e]])}}),Ext.define("Ext.mixin.Templatable",{extend:Ext.mixin.Mixin,mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var t=document.createDocumentFragment();return t.appendChild(Ext.Element.create(this.getElementConfig(),!0)),t},initElement:function(){var t=this.self.prototype;t.elementTemplate=this.getElementTemplate(),t.initElement=t.doInitElement,this.initElement.apply(this,arguments)},linkElement:function(t,e){this.link(t,e)},doInitElement:function(){var t,e,i,n,r,s,a=this.referenceAttributeName;for(t=this.elementTemplate.cloneNode(!0),e=t.querySelectorAll(this.referenceSelector),i=0,n=e.length;n>i;i++)r=e[i],s=r.getAttribute(a),r.removeAttribute(a),this.linkElement(s,r)}}),Ext.define("Ext.util.sizemonitor.Abstract",{mixins:[Ext.mixin.Templatable],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(t){this.refresh=Ext.Function.bind(this.refresh,this),this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0},this.initElement(),this.initConfig(t),this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(t){return t?Ext.get(t):void 0},updateElement:function(t){t.append(this.detectorsContainer),t.addCls("x-size-monitored")},applyArgs:function(t){return t.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var t=this.getElement();if(!t||t.isDestroyed)return!1;var e,i=t.getWidth(),n=t.getHeight(),r=this.getContentWidth(),s=this.getContentHeight(),a=this.contentWidth,o=this.contentHeight,l=this.info,u=!1;return this.width=i,this.height=n,this.contentWidth=r,this.contentHeight=s,e=(a!==r?1:0)+(o!==s?2:0),e>0&&(l.width=i,l.height=n,l.contentWidth=r,l.contentHeight=s,l.flag=e,u=!0,this.getCallback().apply(this.getScope(),this.getArgs())),u},refresh:function(t){(this.refreshSize()||t)&&Ext.TaskQueue.requestWrite("refreshMonitors",this)},destroy:function(){var t=this.getElement();this.bindListeners(!1),t&&!t.isDestroyed&&t.removeCls("x-size-monitored"),delete this._element,this.callSuper()}}),Ext.define("Ext.util.sizemonitor.Default",{extend:Ext.util.sizemonitor.Abstract,updateElement:function(){},bindListeners:function(t){var e=this.getElement().dom;e&&(t?e.onresize=this.refresh:delete e.onresize)},getContentBounds:function(){return this.getElement().dom.getBoundingClientRect()},getContentWidth:function(){return this.getElement().getWidth()},getContentHeight:function(){return this.getElement().getHeight()}}),Ext.define("Ext.util.sizemonitor.Scroll",{extend:Ext.util.sizemonitor.Abstract,getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(){this.onScroll=Ext.Function.bind(this.onScroll,this),this.callSuper(arguments)},bindListeners:function(t){var e=t?"addEventListener":"removeEventListener";this.expandMonitor[e]("scroll",this.onScroll,!0),this.shrinkMonitor[e]("scroll",this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var t=this.expandMonitor,e=this.shrinkMonitor,i=1e6;t&&!t.isDestroyed&&(t.scrollLeft=i,t.scrollTop=i),e&&!e.isDestroyed&&(e.scrollLeft=i,e.scrollTop=i)}}),Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:Ext.util.sizemonitor.Abstract,constructor:function(){this.onExpand=Ext.Function.bind(this.onExpand,this),this.onShrink=Ext.Function.bind(this.onShrink,this),this.callSuper(arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(t){var e=t?"addEventListener":"removeEventListener";this.expandMonitor[e](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0),this.shrinkMonitor[e](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(t){Ext.browser.is.Webkit&&t.horizontalOverflow&&t.verticalOverflow||Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(t){(!Ext.browser.is.Webkit||t.horizontalOverflow||t.verticalOverflow)&&Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(!this.isDestroyed){var t,e=this.expandHelper,i=this.shrinkHelper,n=this.getContentBounds(),r=n.width,s=n.height;e&&!e.isDestroyed&&(t=e.style,t.width=r+1+"px",t.height=s+1+"px"),i&&!i.isDestroyed&&(t=i.style,t.width=r+"px",t.height=s+"px"),Ext.TaskQueue.requestRead("refresh",this)}}}),Ext.define("Ext.util.SizeMonitor",{constructor:function(t){var e=Ext.util.sizemonitor;return Ext.browser.is.Firefox?new e.OverflowChange(t):Ext.browser.is.WebKit?!Ext.browser.is.Silk&&Ext.browser.engineVersion.gtEq("535")?new e.OverflowChange(t):new e.Scroll(t):Ext.browser.is.IE11?new e.Scroll(t):new e.Default(t)}}),Ext.define("Ext.event.publisher.ElementSize",{extend:Ext.event.publisher.Publisher,targetType:"element",handledEvents:["resize"],constructor:function(){this.monitors={},this.callSuper(arguments)},subscribe:function(t){var e,i,n,r=t.match(this.idSelectorRegex),s=this.subscribers;return r?(e=r[1],s.hasOwnProperty(e)?(s[e]++,!0):(s[e]=1,i=Ext.get(e),this.monitors[e]=n=new Ext.util.SizeMonitor({element:i,callback:this.onElementResize,scope:this,args:[t,i]}),this.dispatcher.addListener("element",t,"painted","forceRefresh",n),!0)):!1},unsubscribe:function(t,e,i){var n,r,s=t.match(this.idSelectorRegex),a=this.subscribers,o=this.monitors;return s?(n=s[1],!a.hasOwnProperty(n)||!i&&--a[n]>0?!0:(delete a[n],r=o[n],this.dispatcher.removeListener("element",t,"painted","forceRefresh",r),r.destroy(),delete o[n],!0)):!1},onElementResize:function(t,e,i){Ext.TaskQueue.requestRead("dispatch",this,[t,"resize",[e,i]])}}),Ext.define("Ext.event.publisher.TouchGesture",{extend:Ext.event.publisher.Dom,isNotPreventable:/^(select|a)$/i,handledEvents:["touchstart","touchmove","touchend","touchcancel"],mouseToTouchMap:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},lastEventType:null,config:{moveThrottle:0,recognizers:{}},constructor:function(t){var e=this;return this.eventProcessors={touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd},this.eventToRecognizerMap={},this.activeRecognizers=[],this.touchesMap={},this.currentIdentifiers=[],this.screenPositionRatio=Ext.browser.is.Chrome&&Ext.os.is.Android?Ext.browser.version.gt("18")?1:1/window.devicePixelRatio:Ext.browser.is.AndroidStock4?1:Ext.os.is.BlackBerry?1/window.devicePixelRatio:"WebKit"==Ext.browser.engineName&&Ext.os.is.Desktop?1:window.innerWidth/window.screen.width,this.initConfig(t),Ext.feature.has.Touch&&(e.onTargetTouchMove=e.onTargetTouchMove.bind(e),e.onTargetTouchEnd=e.onTargetTouchEnd.bind(e)),this.callSuper()},applyRecognizers:function(t){var e,i;for(e in t)t.hasOwnProperty(e)&&(i=t[e],i&&this.registerRecognizer(i));return t},handles:function(t){return this.callSuper(arguments)||this.eventToRecognizerMap.hasOwnProperty(t)},doesEventBubble:function(){return!0},onEvent:function(t){var e=t.type,i=this.lastEventType,n=[t];if(this.eventProcessors[e])return void this.eventProcessors[e].call(this,t);if(!("button"in t&&t.button>0)){if("mousedown"===e&&i&&"mouseup"!==i){var r=document.createEvent("MouseEvent");r.initMouseEvent("mouseup",t.bubbles,t.cancelable,document.defaultView,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.metaKey,t.button,t.relatedTarget),this.onEvent(r)}"mousemove"!==e&&(this.lastEventType=e),t.identifier=1,t.touches="mouseup"!==e?n:[],t.targetTouches="mouseup"!==e?n:[],t.changedTouches=n,this.eventProcessors[this.mouseToTouchMap[e]].call(this,t)}},registerRecognizer:function(t){var e,i,n,r=this.eventToRecognizerMap,s=this.activeRecognizers,a=t.getHandledEvents();for(t.setOnRecognized(this.onRecognized),t.setCallbackScope(this),e=0,i=a.length;i>e;e++)n=a[e],r[n]=t;return s.push(t),this},onRecognized:function(t,e,i,n){var r,s,a,o=[],l=i.length;if(1===l)return this.publish(t,i[0].targets,e,n);for(s=0;l>s;s++)a=i[s],o.push(a.targets);r=this.getCommonTargets(o),this.publish(t,r,e,n)},publish:function(t,e,i,n){return i.set(n),this.callSuper([t,e,i])},getCommonTargets:function(t){var e=t[0],i=t.length;if(1===i)return e;for(var n,r,s,a=[],o=1;;){if(n=e[e.length-o],!n)return a;for(s=1;i>s;s++)if(r=t[s],r[r.length-o]!==n)return a;a.unshift(n),o++}return a},invokeRecognizers:function(t,e){var i,n,r=this.activeRecognizers,s=r.length;if("onStart"===t)for(i=0;s>i;i++)r[i].isActive=!0;for(i=0;s>i;i++)n=r[i],n.isActive&&n[t].call(n,e)===!1&&(n.isActive=!1)},getActiveRecognizers:function(){return this.activeRecognizers},updateTouch:function(t){var e,i,n,r=t.identifier,s=this.touchesMap[r];return s||(e=this.getElementTarget(t.target),this.touchesMap[r]=s={identifier:r,target:e,targets:this.getBubblingTargets(e)},this.currentIdentifiers.push(r)),i=t.pageX,n=t.pageY,i===s.pageX&&n===s.pageY?!1:(s.pageX=i,s.pageY=n,s.timeStamp=t.timeStamp,s.point=new Ext.util.Point(i,n),s)},updateTouches:function(t){var e,i,n,r=[];for(e=0,i=t.length;i>e;e++)n=this.updateTouch(t[e]),n&&r.push(n);return r},syncTouches:function(t){var e,i,n,r,s=[],a=t.length;for(e=0;a>e;e++)n=t[e],s.push(n.identifier);for(r=Ext.Array.difference(this.currentIdentifiers,s),a=r.length,e=0;a>e;e++)i=r[e],Ext.Array.remove(this.currentIdentifiers,i),delete this.touchesMap[i]},factoryEvent:function(t){return new Ext.event.Touch(t,null,this.touchesMap,this.currentIdentifiers)},onTouchStart:function(t){var e,i,n,r=t.changedTouches,s=t.target,a=t.touches,o=r.length,l=(this.isNotPreventable,"touchstart"===t.type),u=this;
for(a&&a.length<this.currentIdentifiers.length+1&&this.syncTouches(a),this.updateTouches(r),t=this.factoryEvent(t),r=t.changedTouches,Ext.browser.is.AndroidStock&&this.currentIdentifiers.length>=2&&t.preventDefault(),l&&(s.addEventListener("touchmove",u.onTargetTouchMove),s.addEventListener("touchend",u.onTargetTouchEnd),s.addEventListener("touchcancel",u.onTargetTouchEnd)),e=0;o>e;e++)i=r[e],this.publish("touchstart",i.targets,t,{touch:i});this.isStarted||(this.isStarted=!0,this.invokeRecognizers("onStart",t)),this.invokeRecognizers("onTouchStart",t),n=s.parentNode||{}},onTouchMove:function(t){this.isStarted&&(this.animationQueued||(this.animationQueued=!0,Ext.AnimationQueue.start("onAnimationFrame",this)),this.lastMoveEvent=t)},onAnimationFrame:function(){var t=this.lastMoveEvent;t&&(this.lastMoveEvent=null,this.doTouchMove(t))},doTouchMove:function(t){var e,i,n,r;for(e=this.updateTouches(t.changedTouches),n=e.length,t=this.factoryEvent(t),i=0;n>i;i++)r=e[i],this.publish("touchmove",r.targets,t,{touch:r});n>0&&this.invokeRecognizers("onTouchMove",t)},onTouchEnd:function(t){if(this.isStarted){this.lastMoveEvent&&this.onAnimationFrame();var e,i,n,r=this.touchesMap,s=this.currentIdentifiers,a=t.changedTouches,o=a.length;for(this.updateTouches(a),a=t.changedTouches,i=0;o>i;i++)Ext.Array.remove(s,a[i].identifier);for(t=this.factoryEvent(t),i=0;o>i;i++)e=a[i].identifier,n=r[e],delete r[e],this.publish("touchend",n.targets,t,{touch:n});this.invokeRecognizers("onTouchEnd",t),t.touches&&0===t.touches.length&&s.length&&(s.length=0,this.touchesMap={}),0===s.length&&(this.isStarted=!1,this.invokeRecognizers("onEnd",t),this.animationQueued&&(this.animationQueued=!1,Ext.AnimationQueue.stop("onAnimationFrame",this)))}},onTargetTouchMove:function(t){Ext.getBody().contains(t.target)||this.onTouchMove(t)},onTargetTouchEnd:function(t){var e,i=this,n=t.target,r=0;for(identifier in this.touchesMap)e=this.touchesMap[identifier].target,e===n&&r++;1>=r&&(n.removeEventListener("touchmove",i.onTargetTouchMove),n.removeEventListener("touchend",i.onTargetTouchEnd),n.removeEventListener("touchcancel",i.onTargetTouchEnd)),Ext.getBody().contains(n)||i.onTouchEnd(t)}},function(){Ext.feature.has.Pointer?this.override({pointerToTouchMap:{MSPointerDown:"touchstart",MSPointerMove:"touchmove",MSPointerUp:"touchend",MSPointerCancel:"touchcancel",pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"},touchToPointerMap:{touchstart:"MSPointerDown",touchmove:"MSPointerMove",touchend:"MSPointerUp",touchcancel:"MSPointerCancel"},attachListener:function(t,e){return(t=this.touchToPointerMap[t])?this.callOverridden([t,e]):void 0},onEvent:function(t){var e=t.type;0!==this.currentIdentifiers.length||t.pointerType!==t.MSPOINTER_TYPE_TOUCH&&"touch"!==t.pointerType||"MSPointerMove"!==e&&"pointermove"!==e||(e="MSPointerDown"),"button"in t&&t.button>0||(e=this.pointerToTouchMap[e],t.identifier=t.pointerId,t.changedTouches=[t],this.eventProcessors[e].call(this,t))}}):Ext.browser.is.Ripple||!Ext.os.is.ChromeOS&&Ext.feature.has.Touch||this.override({handledEvents:["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"]})}),Ext.define("Ext.event.recognizer.Recognizer",{mixins:[Ext.mixin.Identifiable],handledEvents:[],config:{onRecognized:Ext.emptyFn,onFailed:Ext.emptyFn,callbackScope:null},constructor:function(t){return this.initConfig(t),this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,fail:function(){return this.getOnFailed().apply(this.getCallbackScope(),arguments),!1},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)}}),Ext.define("Ext.event.recognizer.Touch",{extend:Ext.event.recognizer.Recognizer,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn}),Ext.define("Ext.event.recognizer.SingleTouch",{extend:Ext.event.recognizer.Touch,inheritableStatics:{NOT_SINGLE_TOUCH:1,TOUCH_MOVED:2},onTouchStart:function(t){return t.touches.length>1?this.fail(this.self.NOT_SINGLE_TOUCH):void 0}}),Ext.define("Ext.event.recognizer.DoubleTap",{extend:Ext.event.recognizer.SingleTouch,inheritableStatics:{DIFFERENT_TARGET:3},config:{maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(t){return this.callParent(arguments)===!1?!1:(this.startTime=t.time,void clearTimeout(this.singleTapTimer))},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onEnd:function(t){var e,i=this,n=this.getMaxDuration(),r=t.changedTouches[0],s=t.time,a=t.target,o=this.lastTapTime,l=this.lastTarget;return this.lastTapTime=s,this.lastTarget=a,o&&(e=s-o,n>=e)?a!==l?this.fail(this.self.DIFFERENT_TARGET):(this.lastTarget=null,this.lastTapTime=0,void this.fire("doubletap",t,[r],{touch:r,duration:e})):void(s-this.startTime>n?this.fireSingleTap(t,r):this.singleTapTimer=setTimeout(function(){i.fireSingleTap(t,r)},n))},fireSingleTap:function(t,e){this.fire("singletap",t,[e],{touch:e})}}),Ext.define("Ext.event.recognizer.Drag",{extend:Ext.event.recognizer.SingleTouch,isStarted:!1,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend"],config:{minDistance:8},constructor:function(){this.callSuper(arguments),this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(t){return this.callSuper(arguments)===!1?(this.isStarted&&null!==this.lastMoveEvent&&(this.lastMoveEvent.isStopped=!1,this.onTouchEnd(this.lastMoveEvent)),!1):(this.startTime=t.time,void(this.startPoint=t.changedTouches[0].point))},tryDragStart:function(t){var e=this.startPoint,i=t.changedTouches,n=i[0],r=n.point,s=this.getMinDistance(),a=this.info;Math.abs(r.getDistanceTo(e))>=s&&(this.isStarted=!0,this.previousPoint=this.lastPoint=r,this.resetInfo("x",t,n),this.resetInfo("y",t,n),a.time=t.time,this.fire("dragstart",t,i,a))},onTouchMove:function(t){if(this.isStarted||this.tryDragStart(t),this.isStarted){var e=t.changedTouches,i=e[0],n=i.point;this.lastPoint&&(this.previousPoint=this.lastPoint),this.lastPoint=n,this.lastMoveEvent=t,this.updateInfo("x",t,i,!0),this.updateInfo("y",t,i,!0),this.info.time=t.time,this.fire("drag",t,e,this.info)}},onAxisDragEnd:function(t,e){var i=e.time-e.previousTime[t];i>0&&(e.flick.velocity[t]=(e[t]-e.previous[t])/i)},resetInfo:function(t,e,i){var n=this.lastPoint[t],r=this.startPoint[t],s=n-r,a=t.toUpperCase(),o=this.info;o.touch=i,o.delta[t]=s,o.absDelta[t]=Math.abs(s),o.previousTime[t]=this.startTime,o.previous[t]=r,o[t]=n,o.direction[t]=0,o["start"+a]=this.startPoint[t],o["previous"+a]=o.previous[t],o["page"+a]=o[t],o["delta"+a]=o.delta[t],o["absDelta"+a]=o.absDelta[t],o["previousDelta"+a]=0,o.startTime=this.startTime},updateInfo:function(t,e,i,n){var r,s=e.time,a=this.lastPoint[t],o=this.previousPoint[t],l=this.startPoint[t],u=a-l,h=this.info,c=h.direction,d=t.toUpperCase(),f=h.previous[t];h.touch=i,r=h.delta[t],h.delta[t]=u,h.absDelta[t]=Math.abs(u),n&&a!==f&&a!==h[t]&&s-h.previousTime[t]>=50&&(h.previous[t]=h[t],h.previousTime[t]=h.time),h[t]=a,a>o?c[t]=1:o>a&&(c[t]=-1),h["start"+d]=this.startPoint[t],h["previous"+d]=h.previous[t],h["page"+d]=h[t],h["delta"+d]=h.delta[t],h["absDelta"+d]=h.absDelta[t],h["previousDelta"+d]=r,h.startTime=this.startTime},onTouchEnd:function(t){if(this.isStarted||this.tryDragStart(t),this.isStarted){var e=t.changedTouches,i=e[0],n=i.point,r=this.info;this.isStarted=!1,this.lastPoint=n,this.updateInfo("x",t,i),this.updateInfo("y",t,i),r.time=t.time,this.onAxisDragEnd("x",r),this.onAxisDragEnd("y",r),this.fire("dragend",t,e,r),this.startPoint=null,this.previousPoint=null,this.lastPoint=null,this.lastMoveEvent=null}}}),Ext.define("Ext.event.recognizer.Swipe",{extend:Ext.event.recognizer.SingleTouch,handledEvents:["swipestart","swipe"],inheritableStatics:{MAX_OFFSET_EXCEEDED:16,MAX_DURATION_EXCEEDED:17,DISTANCE_NOT_ENOUGH:18},config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(t){if(this.callParent(arguments)===!1)return!1;var e=t.changedTouches[0];this.startTime=t.time,this.isHorizontal=!0,this.isVertical=!0,this.startX=e.pageX,this.startY=e.pageY},onTouchMove:function(t){var e,i,n=t.changedTouches[0],r=n.pageX,s=n.pageY,a=r-this.startX,o=s-this.startY,l=Math.abs(r-this.startX),u=Math.abs(s-this.startY),h=t.time-this.startTime,c=this.getMinDistance(),d=t.time;return d-this.startTime>this.getMaxDuration()?this.fail(this.self.MAX_DURATION_EXCEEDED):(this.isHorizontal&&u>this.getMaxOffset()&&(this.isHorizontal=!1),this.isVertical&&l>this.getMaxOffset()&&(this.isVertical=!1),this.isVertical&&this.isHorizontal||(this.isHorizontal&&c>l?(e=0>a?"left":"right",i=l):this.isVertical&&c>u&&(e=0>o?"up":"down",i=u)),e&&!this.started&&(this.started=!0,this.fire("swipestart",t,[n],{touch:n,direction:e,distance:i,duration:h})),this.isHorizontal||this.isVertical?void 0:this.fail(this.self.MAX_OFFSET_EXCEEDED))},onTouchEnd:function(t){if(this.onTouchMove(t)===!1)return!1;var e,i,n=t.changedTouches[0],r=n.pageX,s=n.pageY,a=r-this.startX,o=s-this.startY,l=Math.abs(a),u=Math.abs(o),h=this.getMinDistance(),c=t.time-this.startTime;if(this.isVertical&&h>u&&(this.isVertical=!1),this.isHorizontal&&h>l&&(this.isHorizontal=!1),this.isHorizontal)e=0>a?"left":"right",i=l;else{if(!this.isVertical)return this.fail(this.self.DISTANCE_NOT_ENOUGH);e=0>o?"up":"down",i=u}this.started=!1,this.fire("swipe",t,[n],{touch:n,direction:e,distance:i,duration:c})}}),Ext.define("Ext.event.recognizer.EdgeSwipe",{extend:Ext.event.recognizer.Swipe,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend"],inheritableStatics:{NOT_NEAR_EDGE:19},config:{minDistance:60},onTouchStart:function(t){if(this.callParent(arguments)===!1)return!1;var e=t.changedTouches[0];this.started=!1,this.direction=null,this.isHorizontal=!0,this.isVertical=!0,this.startX=e.pageX,this.startY=e.pageY},onTouchMove:function(t){var e,i,n=t.changedTouches[0],r=n.pageX,s=n.pageY,a=r-this.startX,o=s-this.startY,l=Math.abs(s-this.startY),u=Math.abs(r-this.startX),h=this.getMinDistance(),c=this.getMaxOffset(),d=t.time-this.startTime,f=Ext.Viewport&&Ext.Viewport.element.getWidth(),g=Ext.Viewport&&Ext.Viewport.element.getHeight();if(this.isVertical&&u>c&&(this.isVertical=!1),this.isHorizontal&&l>c&&(this.isHorizontal=!1),this.isVertical&&this.isHorizontal&&(l>u?this.isHorizontal=!1:this.isVertical=!1),this.isHorizontal?(e=0>a?"left":"right",i=a):this.isVertical&&(e=0>o?"up":"down",i=o),this.direction=this.direction||e,"up"==this.direction?i=-1*o:"left"==this.direction&&(i=-1*a),this.distance=i,0==i)return this.fail(this.self.DISTANCE_NOT_ENOUGH);if(this.started)this.fire("edgeswipe",t,[n],{touch:n,direction:this.direction,distance:this.distance,duration:d});else{if("right"==this.direction&&this.startX>h)return this.fail(this.self.NOT_NEAR_EDGE);if("down"==this.direction&&this.startY>h)return this.fail(this.self.NOT_NEAR_EDGE);if("left"==this.direction&&f-this.startX>h)return this.fail(this.self.NOT_NEAR_EDGE);if("up"==this.direction&&g-this.startY>h)return this.fail(this.self.NOT_NEAR_EDGE);this.started=!0,this.startTime=t.time,this.fire("edgeswipestart",t,[n],{touch:n,direction:this.direction,distance:this.distance,duration:d})}},onTouchEnd:function(t){if(this.onTouchMove(t)!==!1){var e=t.changedTouches[0],i=t.time-this.startTime;this.fire("edgeswipeend",t,[e],{touch:e,direction:this.direction,distance:this.distance,duration:i})}}}),Ext.define("Ext.event.recognizer.HorizontalSwipe",{extend:Ext.event.recognizer.Swipe,handledEvents:["swipe"],onTouchStart:function(t){if(this.callParent(arguments)===!1)return!1;var e=t.changedTouches[0];this.startTime=t.time,this.startX=e.pageX,this.startY=e.pageY},onTouchMove:function(t){var e=t.changedTouches[0],i=e.pageY,n=Math.abs(i-this.startY),r=t.time,s=this.getMaxDuration(),a=this.getMaxOffset();return r-this.startTime>s?this.fail(this.self.MAX_DURATION_EXCEEDED):n>a?this.fail(this.self.MAX_OFFSET_EXCEEDED):void 0},onTouchEnd:function(t){if(this.onTouchMove(t)!==!1){var e,i=t.changedTouches[0],n=i.pageX,r=n-this.startX,s=Math.abs(r),a=t.time-this.startTime,o=this.getMinDistance();if(o>s)return this.fail(this.self.DISTANCE_NOT_ENOUGH);e=0>r?"left":"right",this.fire("swipe",t,[i],{touch:i,direction:e,distance:s,duration:a})}}}),Ext.define("Ext.event.recognizer.LongPress",{extend:Ext.event.recognizer.SingleTouch,inheritableStatics:{DURATION_NOT_ENOUGH:32},config:{minDuration:1e3},handledEvents:["longpress"],fireLongPress:function(t){var e=t.changedTouches[0];this.fire("longpress",t,[e],{touch:e,duration:this.getMinDuration()}),this.isLongPress=!0},onTouchStart:function(t){var e=this;return this.callParent(arguments)===!1?!1:(this.isLongPress=!1,void(this.timer=setTimeout(function(){e.fireLongPress(t)},this.getMinDuration())))},onTouchMove:function(){return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){return this.isLongPress?void 0:this.fail(this.self.DURATION_NOT_ENOUGH)},fail:function(){return clearTimeout(this.timer),this.callParent(arguments)}},function(){this.override({handledEvents:["longpress","taphold"],fire:function(t){if("longpress"===t){var e=Array.prototype.slice.call(arguments);e[0]="taphold",this.fire.apply(this,e)}return this.callOverridden(arguments)}})}),Ext.define("Ext.event.recognizer.MultiTouch",{extend:Ext.event.recognizer.Touch,requiredTouchesCount:2,isTracking:!1,isStarted:!1,onTouchStart:function(t){var e=this.requiredTouchesCount,i=t.touches,n=i.length;n===e?this.start(t):n>e&&this.end(t)},onTouchEnd:function(t){this.end(t)},start:function(){this.isTracking||(this.isTracking=!0,this.isStarted=!1)},end:function(t){this.isTracking&&(this.isTracking=!1,this.isStarted&&(this.isStarted=!1,this.fireEnd(t)))}}),Ext.define("Ext.event.recognizer.Pinch",{extend:Ext.event.recognizer.MultiTouch,requiredTouchesCount:2,handledEvents:["pinchstart","pinch","pinchend"],startDistance:0,lastTouches:null,onTouchMove:function(t){if(this.isTracking){var e,i,n,r=Array.prototype.slice.call(t.touches);e=r[0].point,i=r[1].point,n=e.getDistanceTo(i),0!==n&&(this.isStarted?this.fire("pinch",t,r,{touches:r,distance:n,scale:n/this.startDistance}):(this.isStarted=!0,this.startDistance=n,this.fire("pinchstart",t,r,{touches:r,distance:n,scale:1})),this.lastTouches=r)}},fireEnd:function(t){this.fire("pinchend",t,this.lastTouches)},fail:function(){return this.callParent(arguments)}}),Ext.define("Ext.event.recognizer.Rotate",{extend:Ext.event.recognizer.MultiTouch,requiredTouchesCount:2,handledEvents:["rotatestart","rotate","rotateend"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(t){if(this.isTracking){var e,i,n,r,s,a,o=Array.prototype.slice.call(t.touches),l=this.lastAngle;e=o[0].point,i=o[1].point,n=e.getAngleTo(i),null!==l&&(a=Math.abs(l-n),r=n+360,s=n-360,Math.abs(r-l)<a?n=r:Math.abs(s-l)<a&&(n=s)),this.lastAngle=n,this.isStarted?this.fire("rotate",t,o,{touches:o,angle:n,rotation:n-this.startAngle}):(this.isStarted=!0,this.startAngle=n,this.fire("rotatestart",t,o,{touches:o,angle:n,rotation:0})),this.lastTouches=o}},fireEnd:function(t){this.lastAngle=null,this.fire("rotateend",t,this.lastTouches)}}),Ext.define("Ext.event.recognizer.Tap",{extend:Ext.event.recognizer.SingleTouch,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(t){return this.callSuper(arguments)===!1?!1:void(this.startPoint=t.changedTouches[0].point)},onTouchMove:function(t){var e=t.changedTouches[0],i=e.point;return Math.abs(i.getDistanceTo(this.startPoint))>=this.getMoveDistance()?(this.fire("tapcancel",t,[e],{touch:e}),this.fail(this.self.TOUCH_MOVED)):void 0},onTouchEnd:function(t){var e=t.changedTouches[0];this.fire("tap",t,[e],{touch:e})}}),Ext.define("Ext.event.recognizer.VerticalSwipe",{extend:Ext.event.recognizer.Swipe,onTouchStart:function(t){if(this.callParent(arguments)===!1)return!1;var e=t.changedTouches[0];this.startTime=t.time,this.startX=e.pageX,this.startY=e.pageY},onTouchMove:function(t){var e=t.changedTouches[0],i=e.pageX,n=Math.abs(i-this.startX),r=this.getMaxDuration(),s=this.getMaxOffset(),a=t.time;return a-this.startTime>r?this.fail(this.self.MAX_DURATION_EXCEEDED):n>s?this.fail(this.self.MAX_OFFSET_EXCEEDED):void 0},onTouchEnd:function(t){if(this.onTouchMove(t)!==!1){var e,i=t.changedTouches[0],n=i.pageY,r=n-this.startY,s=Math.abs(r),a=t.time-this.startTime,o=this.getMinDistance();if(o>s)return this.fail(this.self.DISTANCE_NOT_ENOUGH);e=0>r?"up":"down",this.fire("swipe",t,[i],{touch:i,distance:s,duration:a,direction:e})}}}),Ext.define("Ext.field.Checkbox",{extend:Ext.field.Field,alternateClassName:"Ext.form.Checkbox",xtype:"checkboxfield",qsaLeftRe:/[\[]/g,qsaRightRe:/[\]]/g,isCheckbox:!0,config:{ui:"checkbox",value:"",checked:!1,tabIndex:-1,component:{xtype:"input",type:"checkbox",useMask:!0,cls:Ext.baseCSSPrefix+"input-checkbox"}},platformConfig:[{theme:["Windows","Blackberry","Tizen"],labelAlign:"left"}],initialize:function(){var t=this,e=t.getComponent();t.callParent(),e.on({scope:t,order:"before",masktap:"onMaskTap"}),e.doMaskTap=Ext.emptyFn,t.label.on({scope:t,tap:"onMaskTap"})},doInitValue:function(){var t=this,e=t.getInitialConfig();e.hasOwnProperty("value")&&(t.originalState=e.value),e.hasOwnProperty("checked")&&(t.originalState=e.checked),t.callParent(arguments)},updateInputType:function(t){var e=this.getComponent();e&&e.setType(t)},updateName:function(t){var e=this.getComponent();e&&e.setName(t)},getChecked:function(){return this._checked=this.getComponent().getChecked(),this._checked},getSubmitValue:function(){return this.getChecked()?Ext.isEmpty(this._value)?!0:this._value:null},setChecked:function(t){this.updateChecked(t),this._checked=t},updateChecked:function(t){this.getComponent().setChecked(t),this.initialized&&this.onChange()},onMaskTap:function(t,e){var i=this,n=i.getComponent().input.dom;return i.getDisabled()?!1:(n.checked=!n.checked,i.onChange(e),!1)},onChange:function(t){var e=this,i=e._checked,n=e.getChecked();i!=n&&(n?e.fireEvent("check",e,t):e.fireEvent("uncheck",e,t),e.fireEvent("change",e,n,i))},doChecked:Ext.emptyFn,doUnChecked:Ext.emptyFn,isChecked:function(){return this.getChecked()},check:function(){return this.setChecked(!0)},uncheck:function(){return this.setChecked(!1)},getSameGroupFields:function(){var t,e,i,n,r=this,s=r.up("formpanel")||r.up("fieldset"),a=r.getName(),o=r.qsaLeftRe,l=r.qsaRightRe,u=r.getBaseCls().split(" ").join("."),h=[];for(s||(Ext.Logger.warn("Ext.field.Radio components must always be descendants of an Ext.form.Panel or Ext.form.FieldSet."),s=Ext.Viewport),a=a.replace(o,"\\["),a=a.replace(l,"\\]"),t=Ext.query("[name="+a+"]",s.element.dom),n=t.length,i=0;n>i;i++)e=t[i],e=Ext.fly(e).up("."+u),e&&e.id&&h.push(Ext.getCmp(e.id));return h},getGroupValues:function(){var t=[];return this.getSameGroupFields().forEach(function(e){e.getChecked()&&t.push(e.getValue())}),t},setGroupValues:function(t){return this.getSameGroupFields().forEach(function(e){e.setChecked(-1!==t.indexOf(e.getValue()))}),this},resetGroupValues:function(){return this.getSameGroupFields().forEach(function(t){t.setChecked(t.originalState)}),this},reset:function(){return this.setChecked(this.originalState),this}}),Ext.define("Ext.picker.Slot",{extend:Ext.dataview.DataView,xtype:"pickerslot",alternateClassName:"Ext.Picker.Slot",isSlot:!0,config:{title:null,showTitle:!0,cls:Ext.baseCSSPrefix+"picker-slot",name:null,value:null,flex:1,align:"left",displayField:"text",valueField:"value",itemTpl:null,scrollable:{direction:"vertical",indicators:!1,momentumEasing:{minVelocity:2},slotSnapEasing:{duration:100}},verticallyCenterItems:!0},platformConfig:[{theme:["Windows"],title:"choose an item"}],constructor:function(){this.selectedIndex=0,this.callParent(arguments)},applyTitle:function(t){return t&&(t=Ext.create("Ext.Component",{cls:Ext.baseCSSPrefix+"picker-slot-title",docked:"top",html:t})),t},updateTitle:function(t,e){t&&(this.add(t),this.setupBar()),e&&this.remove(e)},updateShowTitle:function(t){var e=this.getTitle(),i=t?"show":"hide";e&&(e.on(i,this.setupBar,this,{single:!0,delay:50}),e[t?"show":"hide"]())},updateDisplayField:function(t){this.config.itemTpl||this.setItemTpl('<div class="'+Ext.baseCSSPrefix+'picker-item {cls} <tpl if="extra">'+Ext.baseCSSPrefix+'picker-invalid</tpl>">{'+t+"}</div>")},updateAlign:function(t,e){var i=this.element;i.addCls(Ext.baseCSSPrefix+"picker-"+t),i.removeCls(Ext.baseCSSPrefix+"picker-"+e)},applyData:function(t){var e,i,n,r=[],s=t&&t.length;if(t&&Ext.isArray(t)&&s)for(e=0;s>e;e++)i=t[e],n={},Ext.isArray(i)?(n[this.valueField]=i[0],n[this.displayField]=i[1]):Ext.isString(i)?(n[this.valueField]=i,n[this.displayField]=i):Ext.isObject(i)&&(n=i),r.push(n);return t},initialize:function(){this.callParent();var t=this.getScrollable().getScroller();this.on({scope:this,painted:"onPainted",itemtap:"doItemTap"}),this.element.on({scope:this,touchstart:"onTouchStart",touchend:"onTouchEnd"}),t.on({scope:this,scrollend:"onScrollEnd"})},onPainted:function(){this.setupBar()},getPicker:function(){return this.picker||(this.picker=this.getParent()),this.picker},setupBar:function(){if(this.rendered){var t,e,i=this.element,n=this.innerElement,r=this.getPicker(),s=r.bar,a=this.getValue(),o=this.getShowTitle(),l=this.getTitle(),u=this.getScrollable(),h=u.getScroller(),c=0;t=s.dom.getBoundingClientRect().height,o&&l&&(c=l.element.getHeight()),e=Math.ceil((i.getHeight()-c-t)/2),this.getVerticallyCenterItems()&&n.setStyle({padding:e+"px 0 "+e+"px"}),h.refresh(),h.setSlotSnapSize(t),this.setValue(a)}},doItemTap:function(t,e,i){var n=this;n.selectedIndex=e,n.selectedNode=i,n.scrollToItem(i,!0)},scrollToItem:function(t,e){var i,n=t.getY(),r=t.parent(),s=r.getY(),a=this.getScrollable(),o=a.getScroller();i=n-s,o.scrollTo(0,i,e)},onTouchStart:function(){this.element.addCls(Ext.baseCSSPrefix+"scrolling")},onTouchEnd:function(){this.element.removeCls(Ext.baseCSSPrefix+"scrolling")},onScrollEnd:function(t,e,i){var n=this,r=Math.round(i/n.picker.bar.dom.getBoundingClientRect().height),s=n.getViewItems(),a=s[r];a&&(n.selectedIndex=r,n.selectedNode=a,n.fireEvent("slotpick",n,n.getValue(),n.selectedNode))},getValue:function(t){var e,i,n=this.getStore();if(n)return this.rendered&&t?this._value===!1?null:(e=n.getAt(this.selectedIndex),i=e?e.get(this.getValueField()):null):this._value},setValue:function(t){return this.doSetValue(t)},setValueAnimated:function(t){return this.doSetValue(t,!0)},doSetValue:function(t,e){if(!this.rendered)return void(this._value=t);var i,n,r=this.getStore(),s=this.getViewItems(),a=this.getValueField();i=r.findExact(a,t),-1==i&&(i=0),n=Ext.get(s[i]),this.selectedIndex=i,n&&(this.scrollToItem(n,e?{duration:100}:!1),this.select(this.selectedIndex)),this._value=t}}),Ext.define("Ext.picker.Picker",{extend:Ext.Sheet,alias:"widget.picker",alternateClassName:"Ext.Picker",isPicker:!0,config:{baseCls:Ext.baseCSSPrefix+"picker",doneButton:!0,cancelButton:!0,useTitles:!1,slots:null,value:null,height:220,layout:{type:"hbox",align:"stretch"},centered:!1,left:0,right:0,bottom:0,defaultType:"pickerslot",toolbarPosition:"top",toolbar:{xtype:"titlebar"}},platformConfig:[{theme:["Windows"],height:"100%",toolbarPosition:"bottom",toolbar:{xtype:"toolbar",layout:{type:"hbox",pack:"center"}},doneButton:{iconCls:"check2",ui:"round",text:""},cancelButton:{iconCls:"delete",ui:"round",text:""}},{theme:["CupertinoClassic"],toolbar:{ui:"black"}},{theme:["MountainView"],toolbarPosition:"bottom",toolbar:{defaults:{flex:1}}}],initialize:function(){var t=this,e=Ext.baseCSSPrefix,i=this.innerElement;this.mask=i.createChild({cls:e+"picker-mask"}),this.bar=this.mask.createChild({cls:e+"picker-bar"}),t.on({scope:this,delegate:"pickerslot",slotpick:"onSlotPick"})},applyToolbar:function(t){return t===!0&&(t={}),Ext.applyIf(t,{docked:this.getToolbarPosition()}),Ext.factory(t,"Ext.TitleBar",this.getToolbar())},updateToolbar:function(t,e){t&&this.add(t),e&&this.remove(e)},applyDoneButton:function(t){return t&&(Ext.isBoolean(t)&&(t={}),"string"==typeof t&&(t={text:t}),Ext.applyIf(t,{ui:"action",align:"right",text:"Done"})),Ext.factory(t,"Ext.Button",this.getDoneButton())},updateDoneButton:function(t,e){var i=this.getToolbar();t?(i.add(t),t.on("tap",this.onDoneButtonTap,this)):e&&i.remove(e)},applyCancelButton:function(t){return t&&(Ext.isBoolean(t)&&(t={}),"string"==typeof t&&(t={text:t}),Ext.applyIf(t,{align:"left",text:"Cancel"})),Ext.factory(t,"Ext.Button",this.getCancelButton())},updateCancelButton:function(t,e){var i=this.getToolbar();t?(i.add(t),t.on("tap",this.onCancelButtonTap,this)):e&&i.remove(e)},updateUseTitles:function(t){var e,i,n=this.getInnerItems(),r=n.length,s=Ext.baseCSSPrefix+"use-titles";for(t?this.addCls(s):this.removeCls(s),e=0;r>e;e++)i=n[e],i.isSlot&&i.setShowTitle(t)},applySlots:function(t){if(t){var e,i=t.length;for(e=0;i>e;e++)t[e].picker=this}return t},updateSlots:function(t){var e,i=Ext.baseCSSPrefix;this.removeAll(),t&&this.add(t),e=this.getInnerItems(),e.length>0&&(e[0].addCls(i+"first"),e[e.length-1].addCls(i+"last")),this.updateUseTitles(this.getUseTitles())},onDoneButtonTap:function(){var t=this._value,e=this.getValue(!0);e!=t&&this.fireEvent("change",this,e),this.hide(),Ext.util.InputBlocker.unblockInputs()},onCancelButtonTap:function(){this.fireEvent("cancel",this),this.hide(),Ext.util.InputBlocker.unblockInputs()},onSlotPick:function(t){this.fireEvent("pick",this,this.getValue(!0),t)},show:function(){void 0===this.getParent()&&Ext.Viewport.add(this),this.callParent(arguments),this.isHidden()||this.setValue(this._value),Ext.util.InputBlocker.blockInputs()},setValue:function(t,e){var i,n,r,s,a,o=this,l=o.getInnerItems(),u=l.length;if(!t)for(t={},s=0;u>s;s++)t[l[s].config.name]=null;for(i in t){for(n=null,a=t[i],s=0;s<l.length;s++)if(r=l[s],r.config.name==i){n=r;break}n&&(e?n.setValueAnimated(a):n.setValue(a))}return o._values=o._value=t,o},setValueAnimated:function(t){this.setValue(t,!0)},getValue:function(t){var e,i,n={},r=this.getItems().items,s=r.length;if(t){for(i=0;s>i;i++)e=r[i],e&&e.isSlot&&(n[e.getName()]=e.getValue(t));this._values=n}return this._values},getValues:function(){return this.getValue()},destroy:function(){this.callParent(),Ext.destroy(this.mask,this.bar)}},function(){}),Ext.define("Ext.field.Select",{extend:Ext.field.Text,xtype:"selectfield",alternateClassName:"Ext.form.Select",config:{ui:"select",valueField:"value",displayField:"text",store:null,options:null,hiddenName:null,component:{useMask:!0},clearIcon:!1,usePicker:"auto",autoSelect:!0,defaultPhonePickerConfig:null,defaultTabletPickerConfig:null,name:"picker",pickerSlotAlign:"center"},platformConfig:[{theme:["Windows"],pickerSlotAlign:"left"},{theme:["Tizen"],usePicker:!1}],initialize:function(){var t=this,e=t.getComponent();t.callParent(),e.on({scope:t,masktap:"onMaskTap"}),e.doMaskTap=Ext.emptyFn,Ext.browser.is.AndroidStock2&&(e.input.dom.disabled=!0),Ext.theme.is.Blackberry&&this.label.on({scope:t,tap:"onFocus"})},getElementConfig:function(){if(Ext.theme.is.Blackberry){var t=Ext.baseCSSPrefix;return{reference:"element",className:"x-container",children:[{reference:"innerElement",cls:t+"component-outer",children:[{reference:"label",cls:t+"form-label",children:[{reference:"labelspan",tag:"span"}]}]}]}}return this.callParent(arguments)},updateDefaultPhonePickerConfig:function(t){var e=this.picker;e&&e.setConfig(t)},updateDefaultTabletPickerConfig:function(t){var e=this.listPanel;e&&e.setConfig(t)},applyUsePicker:function(t){return"auto"==t&&(t="Phone"==Ext.os.deviceType),Boolean(t)},syncEmptyCls:Ext.emptyFn,applyValue:function(t){var e,i,n=t;return this.getOptions(),i=this.getStore(),void 0!=t&&!t.isModel&&i&&(e=i.find(this.getValueField(),t,null,null,null,!0),-1==e&&(e=i.find(this.getDisplayField(),t,null,null,null,!0)),n=i.getAt(e)),n},updateValue:function(t){this.record=t,this.callParent([t&&t.isModel?t.get(this.getDisplayField()):""])},getValue:function(){var t=this.record;return t&&t.isModel?t.get(this.getValueField()):null},getRecord:function(){return this.record},getPhonePicker:function(){var t=this.getDefaultPhonePickerConfig();return this.picker||(this.picker=Ext.create("Ext.picker.Picker",Ext.apply({slots:[{align:this.getPickerSlotAlign(),name:this.getName(),valueField:this.getValueField(),displayField:this.getDisplayField(),value:this.getValue(),store:this.getStore()}],listeners:{change:this.onPickerChange,scope:this}},t))),this.picker},getTabletPicker:function(){var t=this.getDefaultTabletPickerConfig();return this.listPanel||(this.listPanel=Ext.create("Ext.Panel",Ext.apply({left:0,top:0,modal:!0,cls:Ext.baseCSSPrefix+"select-overlay",layout:"fit",hideOnMaskTap:!0,width:Ext.os.is.Phone?"14em":"18em",height:Ext.os.is.BlackBerry&&10===Ext.os.version.getMajor()?"12em":Ext.os.is.Phone?"12.5em":"22em",items:{xtype:"list",store:this.getStore(),itemTpl:'<span class="x-list-label">{'+this.getDisplayField()+":htmlEncode}</span>",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}},t))),this.listPanel},onMaskTap:function(){return this.onFocus(),!1},showPicker:function(){var t=this,e=t.getStore(),i=t.getValue();if(e&&0!==e.getCount()&&!t.getReadOnly())if(t.isFocused=!0,t.getUsePicker()){var n=t.getPhonePicker(),r=t.getName(),s={};s[r]=i,n.setValue(s),n.getParent()||Ext.Viewport.add(n),n.show()}else{var a,o,l=t.getTabletPicker(),u=l.down("list");l.getParent()||Ext.Viewport.add(l),l.showBy(t.getComponent(),null),(i||t.getAutoSelect())&&(e=u.getStore(),a=e.find(t.getValueField(),i,null,null,null,!0),o=e.getAt(a),o&&u.select(o,null,!0))}},onListSelect:function(t,e){var i=this;e&&i.setValue(e)},onListTap:function(){this.listPanel.hide({type:"fade",out:!0,scope:this})},onPickerChange:function(t,e){var i=this,n=e[i.getName()],r=i.getStore(),s=r.find(i.getValueField(),n,null,null,null,!0),a=r.getAt(s);i.setValue(a)},onChange:function(t,e,i){var n=this,r=n.getStore(),s=r?r.find(n.getDisplayField(),i,null,null,null,!0):-1,a=n.getValueField(),o=r?r.getAt(s):null;i=o?o.get(a):null,n.fireEvent("change",n,n.getValue(),i)},updateOptions:function(t){var e=this.getStore();return e||(this.setStore(!0),e=this._store),t?(e.setData(t),this.onStoreDataChanged(e)):e.clearData(),this},applyStore:function(t){return t===!0&&(t=Ext.create("Ext.data.Store",{fields:[this.getValueField(),this.getDisplayField()],autoDestroy:!0})),t&&(t=Ext.data.StoreManager.lookup(t),t.on({scope:this,addrecords:"onStoreDataChanged",removerecords:"onStoreDataChanged",updaterecord:"onStoreDataChanged",refresh:"onStoreDataChanged"})),t},updateStore:function(t){t&&this.onStoreDataChanged(t),this.getUsePicker()&&this.picker?this.picker.down("pickerslot").setStore(t):this.listPanel&&this.listPanel.down("dataview").setStore(t)},onStoreDataChanged:function(t){var e=this.getInitialConfig(),i=this.getValue();(i||0==i)&&this.updateValue(this.applyValue(i)),null===this.getValue()&&(e.hasOwnProperty("value")&&this.setValue(e.value),null===this.getValue()&&this.getAutoSelect()&&t.getCount()>0&&this.setValue(t.getAt(0)))},doSetDisabled:function(t){var e=this.getComponent();e&&e.setDisabled(t),Ext.Component.prototype.doSetDisabled.apply(this,arguments)},setDisabled:function(){Ext.Component.prototype.setDisabled.apply(this,arguments)},updateLabelWidth:function(){Ext.theme.is.Blackberry||this.callParent(arguments)},updateLabelAlign:function(){Ext.theme.is.Blackberry||this.callParent(arguments)},reset:function(){var t,e=this;if(e.getAutoSelect()){var i=e.getStore();t=e.originalValue?e.originalValue:i.getAt(0)}else{var n=e.getUsePicker(),r=n?e.picker:e.listPanel;r&&(r=r.child(n?"pickerslot":"dataview"),r.deselectAll()),t=null}return e.setValue(t),e},onFocus:function(t){if(this.getDisabled())return!1;var e=this.getComponent();this.fireEvent("focus",this,t),Ext.os.is.Android4&&e.input.dom.focus(),e.input.dom.blur(),this.isFocused=!0,this.showPicker()},destroy:function(){this.callParent(arguments);var t=this.getStore();t&&t.getAutoDestroy()&&Ext.destroy(t),Ext.destroy(this.listPanel,this.picker)
}}),Ext.define("Ext.picker.Date",{extend:Ext.picker.Picker,xtype:"datepicker",alternateClassName:"Ext.DatePicker",config:{yearFrom:1980,yearTo:(new Date).getFullYear(),monthText:"Month",dayText:"Day",yearText:"Year",slotOrder:["month","day","year"],doneButton:!0},platformConfig:[{theme:["Windows"],doneButton:{iconCls:"check2",ui:"round",text:""}}],initialize:function(){this.callParent(),this.on({scope:this,delegate:"> slot",slotpick:this.onSlotPick}),this.on({scope:this,show:this.onSlotPick})},setValue:function(t,e){Ext.isDate(t)&&(t={day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()}),this.callParent([t,e]),this.onSlotPick()},getValue:function(t){var e,i,n,r,s,a,o={},l=this.getItems().items,u=l.length;for(a=0;u>a;a++)s=l[a],s instanceof Ext.picker.Slot&&(o[s.getName()]=s.getValue(t));return null===o.year&&null===o.month&&null===o.day?null:(r=Ext.isNumber(o.year)?o.year:1,n=Ext.isNumber(o.month)?o.month:1,i=Ext.isNumber(o.day)?o.day:1,n&&r&&n&&i&&(e=this.getDaysInMonth(n,r)),i=e?Math.min(i,e):i,new Date(r,n-1,i))},updateYearFrom:function(){this.initialized&&this.createSlots()},updateYearTo:function(){this.initialized&&this.createSlots()},updateMonthText:function(t,e){var i,n,r=this.getInnerItems,s=r.length;if(this.initialized)for(n=0;s>n;n++)i=r[n],("string"==typeof i.title&&i.title==e||i.title.html==e)&&i.setTitle(t)},updateDayText:function(t,e){var i,n,r=this.getInnerItems,s=r.length;if(this.initialized)for(n=0;s>n;n++)i=r[n],("string"==typeof i.title&&i.title==e||i.title.html==e)&&i.setTitle(t)},updateYearText:function(t){var e,i,n=this.getInnerItems,r=n.length;if(this.initialized)for(i=0;r>i;i++)e=n[i],e.title==this.yearText&&e.setTitle(t)},constructor:function(){this.callParent(arguments),this.createSlots()},createSlots:function(){for(var t,e,i,n=this,r=n.getSlotOrder(),s=n.getYearFrom(),a=n.getYearTo(),o=[],l=[],u=[],h=s>a;s&&(o.push({text:s,value:s}),s!==a);)h?s--:s++;for(i=n.getDaysInMonth(1,(new Date).getFullYear()),e=0;i>e;e++)l.push({text:e+1,value:e+1});for(e=0,t=Ext.Date.monthNames.length;t>e;e++)u.push({text:Ext.Date.monthNames[e],value:e+1});var c=[];r.forEach(function(t){c.push(n.createSlot(t,l,u,o))}),n.setSlots(c)},createSlot:function(t,e,i,n){switch(t){case"year":return{name:"year",align:"center",data:n,title:this.getYearText(),flex:3};case"month":return{name:t,align:"right",data:i,title:this.getMonthText(),flex:4};case"day":return{name:"day",align:"center",data:e,title:this.getDayText(),flex:2}}},onSlotPick:function(){var t,e,i=this.getValue(!0),n=this.getDaySlot(),r=i.getFullYear(),s=i.getMonth(),a=[];if(i&&Ext.isDate(i)&&n){for(this.callParent(arguments),t=this.getDaysInMonth(s+1,r),e=0;t>e;e++)a.push({text:e+1,value:e+1});if(n.getStore().getCount()!=a.length){n.getStore().setData(a);var o,l,u=n.getStore(),h=n.getViewItems(),c=n.getValueField();o=u.find(c,i.getDate()),-1!=o&&(l=Ext.get(h[o]),n.selectedIndex=o,n.scrollToItem(l),n.setValue(n.getValue(!0)))}}},getDaySlot:function(){var t,e,i=this.getInnerItems(),n=i.length;if(this.daySlot)return this.daySlot;for(t=0;n>t;t++)if(e=i[t],e.isSlot&&"day"==e.getName())return this.daySlot=e,e;return null},getDaysInMonth:function(t,e){var i=[31,28,31,30,31,30,31,31,30,31,30,31];return 2==t&&this.isLeapYear(e)?29:i[t-1]},isLeapYear:function(t){return!(0!==(3&t)||!(t%100||t%400===0&&t))},onDoneButtonTap:function(){var t=this._value,e=this.getValue(!0),i=e;Ext.isDate(e)&&(i=e.toDateString()),Ext.isDate(t)&&(t=t.toDateString()),i!=t&&this.fireEvent("change",this,e),this.hide(),Ext.util.InputBlocker.unblockInputs()}}),Ext.define("Ext.field.DatePicker",{extend:Ext.field.Select,alternateClassName:"Ext.form.DatePicker",xtype:"datepickerfield",config:{ui:"select",picker:!0,clearIcon:!1,destroyPickerOnHide:!1,dateFormat:null,component:{useMask:!0}},initialize:function(){var t=this,e=t.getComponent();t.callParent(),e.on({scope:t,masktap:"onMaskTap"}),e.doMaskTap=Ext.emptyFn,Ext.browser.is.AndroidStock2&&(e.input.dom.disabled=!0)},syncEmptyCls:Ext.emptyFn,applyValue:function(t){return Ext.isDate(t)||Ext.isObject(t)?Ext.isObject(t)?new Date(t.year,t.month-1,t.day):t:null},updateValue:function(t,e){var i=this,n=i._picker;n&&n.isPicker&&n.setValue(t),i.getComponent().setValue(null!==t?Ext.Date.format(t,i.getDateFormat()||Ext.util.Format.defaultDateFormat):""),t!==e&&i.fireEvent("change",i,t,e)},updateDateFormat:function(t,e){var i=this.getValue();t!=e&&Ext.isDate(i)&&this.getComponent().setValue(Ext.Date.format(i,t||Ext.util.Format.defaultDateFormat))},getValue:function(){return this._picker&&this._picker instanceof Ext.picker.Date?this._picker.getValue():this._value},getFormattedValue:function(t){var e=this.getValue();return Ext.isDate(e)?Ext.Date.format(e,t||this.getDateFormat()||Ext.util.Format.defaultDateFormat):e},applyPicker:function(t,e){return e&&e.isPicker&&(t=e.setConfig(t)),t},getPicker:function(){var t=this._picker,e=this.getValue();return t&&!t.isPicker&&(t=Ext.factory(t,Ext.picker.Date),null!=e&&t.setValue(e)),t.on({scope:this,change:"onPickerChange",hide:"onPickerHide"}),this._picker=t,t},onMaskTap:function(){return this.getDisabled()?!1:(this.onFocus(),!1)},onPickerChange:function(t,e){var i=this,n=i.getValue();i.setValue(e),i.fireEvent("select",i,e),i.onChange(i,e,n)},onChange:Ext.emptyFn,onPickerHide:function(){var t=this,e=t.getPicker();t.getDestroyPickerOnHide()&&e&&(e.destroy(),t._picker=t.getInitialConfig().picker||!0)},reset:function(){this.setValue(this.originalValue)},onFocus:function(t){var e=this.getComponent();return this.fireEvent("focus",this,t),Ext.os.is.Android4&&e.input.dom.focus(),e.input.dom.blur(),this.getReadOnly()?!1:(this.isFocused=!0,void this.getPicker().show())},destroy:function(){var t=this._picker;t&&t.isPicker&&t.destroy(),this.callParent(arguments)}}),Ext.define("Ext.field.DatePickerNative",{extend:Ext.field.DatePicker,alternateClassName:"Ext.form.DatePickerNative",xtype:"datepickernativefield",initialize:function(){this.callParent()},onFocus:function(){var t=this;if(!navigator.plugins||!navigator.plugins.dateTimePicker)return void t.callParent();var e=function(e){t.setValue(e)},i=function(t){console.log("DateTimePicker: error occurred or cancelled: "+t)};try{var n="date"==t.getName()?navigator.plugins.dateTimePicker.selectDate:navigator.plugins.dateTimePicker.selectTime;n(e,i,{value:t.getValue()})}catch(r){i(r)}}}),Ext.define("Ext.field.Email",{extend:Ext.field.Text,alternateClassName:"Ext.form.Email",xtype:"emailfield",config:{component:{type:"email"},autoCapitalize:!1}}),Ext.define("Ext.field.FileInput",{extend:Ext.field.Input,xtype:"fileinput",config:{type:"file",accept:null,capture:null,name:null,multiple:!1},captureLookup:{video:"camcorder",image:"camera",audio:"microphone"},initialize:function(){var t=this;t.callParent(),t.input.on({scope:t,change:"onInputChange"})},getValue:function(){var t=this.input;return t&&(this._value=t.dom.value),this._value},setValue:function(t){var e=this._value;return this._value=t,String(this._value)!=String(e)&&this.initialized&&this.onChange(this,this._value,e),this},getFiles:function(){var t=this.input;return t&&(this.$files=t.dom.files),this.$files},onInputChange:function(t){this.setValue(t.target.value)},onChange:function(t,e,i){this.fireEvent("change",t,e,i)},applyName:function(t){return this.getMultiple()&&"[]"!==t.substr(-2,2)?t+="[]":this.getMultiple()||"[]"!==t.substr(-2,2)||(t=t.substr(0,t.length-2)),t},applyMultiple:function(t){return this.updateFieldAttribute("multiple",t?"":null),t},updateMultiple:function(){var t=this.getName();Ext.isEmpty(t)||this.setName(t)},applyAccept:function(t){switch(t){case"video":case"audio":case"image":t+="/*"}this.updateFieldAttribute("accept",t)},applyCapture:function(t){return this.updateFieldAttribute("capture",t),t}}),Ext.define("Ext.field.File",{extend:Ext.field.Field,xtype:"filefield",config:{component:{xtype:"fileinput",fastFocus:!1}},proxyConfig:{name:null,value:null,files:null,multiple:!1,accept:null,capture:null},isFile:!0,initialize:function(){var t=this;t.callParent(),t.getComponent().on({scope:this,change:"onChange"})},onChange:function(t,e,i){t.fireEvent("change",this,e,i)}}),Ext.define("Ext.field.Hidden",{extend:Ext.field.Text,alternateClassName:"Ext.form.Hidden",xtype:"hiddenfield",config:{component:{xtype:"input",type:"hidden"},ui:"hidden",hidden:!0,tabIndex:-1}}),Ext.define("Ext.field.Number",{extend:Ext.field.Text,xtype:"numberfield",alternateClassName:"Ext.form.Number",config:{component:{type:"number"},ui:"number"},proxyConfig:{minValue:null,maxValue:null,stepValue:null},applyPlaceHolder:function(t){return this._enableNumericPlaceHolderHack=!Ext.feature.has.NumericInputPlaceHolder&&!Ext.isEmpty(t),t},onFocus:function(){this._enableNumericPlaceHolderHack&&this.getComponent().input.dom.setAttribute("type","number"),this.callParent(arguments)},onBlur:function(){this._enableNumericPlaceHolderHack&&this.getComponent().input.dom.setAttribute("type","text"),this.callParent(arguments)},doInitValue:function(){var t=this.getInitialConfig().value;t&&(t=this.applyValue(t)),this.originalValue=t},applyValue:function(t){var e=this.getMinValue(),i=this.getMaxValue();return Ext.isNumber(e)&&Ext.isNumber(t)&&(t=Math.max(t,e)),Ext.isNumber(i)&&Ext.isNumber(t)&&(t=Math.min(t,i)),t=parseFloat(t),isNaN(t)?"":t},getValue:function(){var t=parseFloat(this.callParent(),10);return isNaN(t)?null:t},doClearIconTap:function(t){t.getComponent().setValue(""),t.getValue(),t.hideClearIcon()}}),Ext.define("Ext.field.Password",{extend:Ext.field.Text,xtype:"passwordfield",alternateClassName:"Ext.form.Password",config:{autoCapitalize:!1,revealable:!1,revealed:!1,component:{type:"password"}},platformConfig:[{theme:["Blackberry"],revealable:!0}],isPassword:!0,initialize:function(){this.callParent(arguments),this.addCls(Ext.baseCSSPrefix+"field-password")},updateRevealable:function(t,e){t!==e&&(this.$revealIcon&&(this.getComponent().element.removeChild(this.$revealIcon),this.$revealIcon=null),t===!0&&(this.$revealIcon=new Ext.Element(Ext.Element.create({cls:"x-reveal-icon"},!0)),this.$revealIcon.on({tap:"onRevealIconTap",touchstart:"onRevealIconPress",touchend:"onRevealIconRelease",scope:this}),this.getComponent().element.appendChild(this.$revealIcon)))},updateRevealed:function(t){var e=this.getComponent();t?(this.element.addCls(Ext.baseCSSPrefix+"revealed"),e.setType("text")):(this.element.removeCls(Ext.baseCSSPrefix+"revealed"),e.setType("password"))},updateValue:function(t){var e=this.getComponent(),i=void 0!==t&&null!==t&&""!==t;e&&e.setValue(t),this[i&&this.isDirty()?"showClearIcon":"hideClearIcon"](),this.syncEmptyCls(),this[i?"showRevealIcon":"hideRevealIcon"]()},doKeyUp:function(t,e){var i=t.getValue(),n=void 0!==i&&null!==i&&""!==i;this[n?"showClearIcon":"hideClearIcon"](),13===e.browserEvent.keyCode&&t.fireAction("action",[t,e],"doAction"),this[n?"showRevealIcon":"hideRevealIcon"]()},showRevealIcon:function(){var t=this,e=t.getValue(),i=void 0!==e&&null!==e&&""!==e;return t.getRevealable()&&!t.getDisabled()&&i&&t.element.addCls(Ext.baseCSSPrefix+"field-revealable"),t},hideRevealIcon:function(){this.getRevealable()&&this.element.removeCls(Ext.baseCSSPrefix+"field-revealable")},onRevealIconTap:function(t){this.fireAction("revealicontap",[this,t],"doRevealIconTap")},doRevealIconTap:function(){this.setRevealed(this.getRevealed()?!1:!0)},onRevealIconPress:function(){this.$revealIcon.addCls(Ext.baseCSSPrefix+"pressing")},onRevealIconRelease:function(){this.$revealIcon.removeCls(Ext.baseCSSPrefix+"pressing")}}),Ext.define("Ext.field.Radio",{extend:Ext.field.Checkbox,xtype:"radiofield",alternateClassName:"Ext.form.Radio",isRadio:!0,config:{ui:"radio",component:{type:"radio",cls:Ext.baseCSSPrefix+"input-radio"}},getValue:function(){return"undefined"==typeof this._value?null:this._value},setValue:function(t){return this._value=t,this},getSubmitValue:function(){var t=this._value;return("undefined"==typeof t||null==t)&&(t=!0),this.getChecked()?t:null},updateChecked:function(t){this.getComponent().setChecked(t),this.initialized&&this.refreshGroupValues()},onMaskTap:function(){var t=this,e=t.getComponent().input.dom;return t.getDisabled()?!1:(t.getChecked()||(e.checked=!0),t.refreshGroupValues(),!1)},getGroupValue:function(){for(var t,e=this.getSameGroupFields(),i=e.length,n=0;i>n;n++)if(t=e[n],t.getChecked())return t.getValue();return null},setGroupValue:function(t){for(var e,i=this.getSameGroupFields(),n=i.length,r=0;n>r;r++)if(e=i[r],e.getValue()===t)return e.setChecked(!0),e},refreshGroupValues:function(){for(var t,e=this.getSameGroupFields(),i=e.length,n=0;i>n;n++)t=e[n],t.onChange()}}),Ext.define("Ext.field.Search",{extend:Ext.field.Text,xtype:"searchfield",alternateClassName:"Ext.form.Search",config:{component:{type:"search"},ui:"search"},platformConfig:[{platform:"blackberry",component:{type:"text"}}]}),Ext.define("Ext.slider.Thumb",{extend:Ext.Component,xtype:"thumb",config:{baseCls:Ext.baseCSSPrefix+"thumb",pressedCls:Ext.baseCSSPrefix+"thumb-pressing",draggable:{direction:"horizontal"}},platformConfig:[{platform:["ie10"],draggable:{translatable:{translationMethod:"csstransform"}}}],elementWidth:0,initialize:function(){this.callParent(),this.getDraggable().onBefore({dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",scope:this}),this.getDraggable().on({touchstart:"onPress",touchend:"onRelease",scope:this}),this.element.on("resize","onElementResize",this)},getTemplate:function(){return Ext.theme.is.Blackberry?[{tag:"div",className:Ext.baseCSSPrefix+"thumb-inner",reference:"innerElement"}]:this.template},updatePressedCls:function(t,e){var i=this.element;i.hasCls(e)&&i.replaceCls(e,t)},onPress:function(){var t=this,e=t.element,i=t.getPressedCls();t.getDisabled()||e.addCls(i)},onRelease:function(t){this.fireAction("release",[this,t],"doRelease")},doRelease:function(t){t.getDisabled()||t.element.removeCls(t.getPressedCls())},onDragStart:function(){return this.isDisabled()?!1:void this.relayEvent(arguments)},onDrag:function(){return this.isDisabled()?!1:void this.relayEvent(arguments)},onDragEnd:function(){return this.isDisabled()?!1:void this.relayEvent(arguments)},onElementResize:function(t,e){this.elementWidth=e.width},getElementWidth:function(){return this.elementWidth}}),Ext.define("Ext.slider.Slider",{extend:Ext.Container,xtype:"slider",config:{baseCls:"x-slider",thumbConfig:{draggable:{translatable:{easingX:{duration:300,type:"ease-out"}}}},increment:1,value:0,minValue:0,maxValue:100,allowThumbsOverlapping:!1,animation:!0,readOnly:!1},elementWidth:0,offsetValueRatio:0,activeThumb:null,constructor:function(t){t=t||{},t.hasOwnProperty("values")&&(t.value=t.values),this.callParent([t])},initialize:function(){var t=this.element;this.callParent(),t.on({scope:this,tap:"onTap",resize:"onResize"}),this.on({scope:this,delegate:"> thumb",tap:"onTap",dragstart:"onThumbDragStart",drag:"onThumbDrag",dragend:"onThumbDragEnd"});var e=this.getThumb(0);e&&e.on("resize","onThumbResize",this)},factoryThumb:function(){return Ext.factory(this.getThumbConfig(),Ext.slider.Thumb)},getThumbs:function(){return this.innerItems},getThumb:function(t){return"number"!=typeof t&&(t=0),this.innerItems[t]},refreshOffsetValueRatio:function(){var t=this.getMaxValue()-this.getMinValue(),e=this.elementWidth-this.thumbWidth;this.offsetValueRatio=e/t},onThumbResize:function(){var t=this.getThumb(0);t&&(this.thumbWidth=t.getElementWidth()),this.refresh()},onResize:function(t,e){this.elementWidth=e.width,this.refresh()},refresh:function(){this.refreshValue()},setActiveThumb:function(t){var e=this.activeThumb;return e&&e!==t&&e.setZIndex(null),this.activeThumb=t,t.setZIndex(2),this},onThumbDragStart:function(t,e){return e.absDeltaX<=e.absDeltaY||this.getReadOnly()?!1:(e.stopPropagation(),this.getAllowThumbsOverlapping()&&this.setActiveThumb(t),this.dragStartValue=this.getValue()[this.getThumbIndex(t)],void this.fireEvent("dragstart",this,t,this.dragStartValue,e))},onThumbDrag:function(t,e,i){var n=this.getThumbIndex(t),r=this.offsetValueRatio,s=this.constrainValue(this.getMinValue()+i/r);return e.stopPropagation(),this.setIndexValue(n,s),this.fireEvent("drag",this,t,this.getValue(),e),!1},setIndexValue:function(t,e,i){var n=this.getThumb(t),r=this.getValue(),s=this.getMinValue(),a=this.offsetValueRatio,o=this.getIncrement(),l=n.getDraggable();l.setOffset((e-s)*a,null,i),r[t]=s+Math.round(l.offset.x/a/o)*o},onThumbDragEnd:function(t,e){this.refreshThumbConstraints(t);var i=this.getThumbIndex(t),n=this.getValue()[i],r=this.dragStartValue;this.fireEvent("dragend",this,t,this.getValue(),e),r!==n&&this.fireEvent("change",this,t,n,r)},getThumbIndex:function(t){return this.getThumbs().indexOf(t)},refreshThumbConstraints:function(t){var e=this.getAllowThumbsOverlapping(),i=t.getDraggable().getOffset().x,n=this.getThumbs(),r=this.getThumbIndex(t),s=n[r-1],a=n[r+1],o=this.thumbWidth;s&&s.getDraggable().addExtraConstraint({max:{x:i-(e?0:o)}}),a&&a.getDraggable().addExtraConstraint({min:{x:i+(e?0:o)}})},onTap:function(t){if(!this.isDisabled()&&!this.getReadOnly()){var e=Ext.get(t.target);if(e&&("WebKit"!=Ext.browser.engineName||!e.hasCls("x-thumb"))){var i,n,r,s,a,o,l=t.touch.point.x,u=this.element,h=u.getX(),c=l-h-this.thumbWidth/2,d=this.constrainValue(this.getMinValue()+c/this.offsetValueRatio),f=this.getValue(),g=1/0,p=f.length;if(1===p)s=0;else for(i=0;p>i;i++)r=f[i],n=Math.abs(r-d),g>n&&(g=n,s=i);a=f[s],o=this.getThumb(s),this.setIndexValue(s,d,this.getAnimation()),this.refreshThumbConstraints(o),a!==d&&this.fireEvent("change",this,o,d,a)}}},updateThumbs:function(t){this.add(t)},applyValue:function(t){var e,i,n,r=Ext.Array.from(t||0),s=[],a=this.getMinValue();for(i=0,n=r.length;n>i;i++)e=this.constrainValue(r[i]),a>e&&(Ext.Logger.warn("Invalid values of '"+Ext.encode(r)+"', values at smaller indexes must be smaller than or equal to values at greater indexes"),e=a),s.push(e),a=e;return s},updateValue:function(t){var e,i=this.getThumbs(),n=t.length,r=this.getMinValue(),s=this.offsetValueRatio;for(this.setThumbsCount(n),e=0;n>e;e++)i[e].getDraggable().setExtraConstraint(null).setOffset((t[e]-r)*s);for(e=0;n>e;e++)this.refreshThumbConstraints(i[e])},refreshValue:function(){this.refreshOffsetValueRatio(),this.setValue(this.getValue())},constrainValue:function(t){var e,i=this,n=i.getMinValue(),r=i.getMaxValue(),s=i.getIncrement();return t=parseFloat(t),isNaN(t)&&(t=n),e=(t-n)%s,t-=e,Math.abs(e)>=s/2&&(t+=e>0?s:-s),t=Math.max(n,t),t=Math.min(r,t)},setThumbsCount:function(t){var e,i,n,r=this.getThumbs(),s=r.length;if(s>t)for(e=0,i=s-t;i>e;e++)n=r[r.length-1],n.destroy();else if(t>s)for(e=0,i=t-s;i>e;e++)this.add(this.factoryThumb());return this},setValues:function(t){this.setValue(t)},getValues:function(){return this.getValue()},applyIncrement:function(t){return 0===t&&(t=1),Math.abs(t)},updateAllowThumbsOverlapping:function(t,e){"undefined"!=typeof e&&this.refreshValue()},updateMinValue:function(t,e){"undefined"!=typeof e&&this.refreshValue()},updateMaxValue:function(t,e){"undefined"!=typeof e&&this.refreshValue()},updateIncrement:function(t,e){"undefined"!=typeof e&&this.refreshValue()},doSetDisabled:function(t){this.callParent(arguments);var e,i=this.getItems().items,n=i.length;for(e=0;n>e;e++)i[e].setDisabled(t)}},function(){}),Ext.define("Ext.field.Slider",{extend:Ext.field.Field,xtype:"sliderfield",alternateClassName:"Ext.form.Slider",config:{cls:Ext.baseCSSPrefix+"slider-field",tabIndex:-1,readOnly:!1},proxyConfig:{increment:1,value:0,minValue:0,maxValue:100},constructor:function(t){t=t||{},t.hasOwnProperty("values")&&(t.value=t.values),this.callParent([t]),this.updateMultipleState()},initialize:function(){this.callParent(),this.getComponent().on({scope:this,change:"onSliderChange",dragstart:"onSliderDragStart",drag:"onSliderDrag",dragend:"onSliderDragEnd"})},applyComponent:function(t){return Ext.factory(t,Ext.slider.Slider)},updateComponent:function(t){this.callSuper(arguments),t.setMinValue(this.getMinValue()),t.setMaxValue(this.getMaxValue())},onSliderChange:function(){this.fireEvent.apply(this,[].concat("change",this,Array.prototype.slice.call(arguments)))},onSliderDragStart:function(){this.fireEvent.apply(this,[].concat("dragstart",this,Array.prototype.slice.call(arguments)))},onSliderDrag:function(){this.fireEvent.apply(this,[].concat("drag",this,Array.prototype.slice.call(arguments)))},onSliderDragEnd:function(){this.fireEvent.apply(this,[].concat("dragend",this,Array.prototype.slice.call(arguments)))},setValues:function(t){this.setValue(t),this.updateMultipleState()},getValues:function(){return this.getValue()},reset:function(){var t=this.config,e=this.config.hasOwnProperty("values")?t.values:t.value;this.setValue(e)},doSetDisabled:function(t){this.callParent(arguments),this.getComponent().setDisabled(t)},updateReadOnly:function(t){this.getComponent().setReadOnly(t)},isDirty:function(){return this.getDisabled()?!1:this.getValue()!==this.originalValue},updateMultipleState:function(){var t=this.getValue();t&&t.length>1&&this.addCls(Ext.baseCSSPrefix+"slider-multiple")}}),Ext.define("Ext.util.TapRepeater",{mixins:{observable:Ext.mixin.Observable},config:{el:null,accelerate:!0,interval:10,delay:250,preventDefault:!0,stopDefault:!1,timer:0,pressCls:null},constructor:function(t){var e=this;for(var i in t)!e.self.prototype.config||i in e.self.prototype.config||(e[i]=t[i],Ext.Logger.warn('Applied config as instance property: "'+i+'"',e));e.initConfig(t)},updateEl:function(t,e){var i={touchstart:"onTouchStart",touchend:"onTouchEnd",tap:"eventOptions",scope:this};e&&e.un(i),t.on(i)},eventOptions:function(t){this.getPreventDefault()&&t.preventDefault(),this.getStopDefault()&&t.stopEvent()},destroy:function(){this.clearListeners(),Ext.destroy(this.el)},onTouchStart:function(t){var e=this,i=e.getPressCls();clearTimeout(e.getTimer()),i&&e.getEl().addCls(i),e.tapStartTime=new Date,e.fireEvent("touchstart",e,t),e.fireEvent("tap",e,t),e.getAccelerate()&&(e.delay=400),e.setTimer(Ext.defer(e.tap,e.getDelay()||e.getInterval(),e,[t]))},tap:function(t){var e=this;e.fireEvent("tap",e,t),e.setTimer(Ext.defer(e.tap,e.getAccelerate()?e.easeOutExpo(Ext.Date.getElapsed(e.tapStartTime),400,-390,12e3):e.getInterval(),e,[t]))},easeOutExpo:function(t,e,i,n){return t==n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},onTouchEnd:function(t){var e=this;clearTimeout(e.getTimer()),e.getEl().removeCls(e.getPressCls()),e.fireEvent("touchend",e,t)}}),Ext.define("Ext.field.Spinner",{extend:Ext.field.Number,xtype:"spinnerfield",alternateClassName:"Ext.form.Spinner",config:{cls:Ext.baseCSSPrefix+"spinner",minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,stepValue:.1,accelerateOnTapHold:!0,cycle:!1,clearIcon:!1,defaultValue:0,tabIndex:-1,groupButtons:!0,component:{disabled:!0}},platformConfig:[{platform:"android",component:{disabled:!1,readOnly:!0}}],constructor:function(){var t=this;t.callParent(arguments),t.getValue()||(t.suspendEvents(),t.setValue(t.getDefaultValue()),t.resumeEvents())},syncEmptyCls:Ext.emptyFn,updateComponent:function(t){this.callParent(arguments);var e=this.getCls();t&&(this.spinDownButton=Ext.Element.create({cls:e+"-button "+e+"-button-down",html:"-"}),this.spinUpButton=Ext.Element.create({cls:e+"-button "+e+"-button-up",html:"+"}),this.downRepeater=this.createRepeater(this.spinDownButton,this.onSpinDown),this.upRepeater=this.createRepeater(this.spinUpButton,this.onSpinUp))},updateGroupButtons:function(t,e){var i=this,n=i.innerElement,r=i.getBaseCls()+"-grouped-buttons";i.getComponent(),t!=e&&(t?(this.addCls(r),n.appendChild(i.spinDownButton),n.appendChild(i.spinUpButton)):(this.removeCls(r),n.insertFirst(i.spinDownButton),n.appendChild(i.spinUpButton)))},applyValue:function(t){return t=parseFloat(t),(isNaN(t)||null===t)&&(t=this.getDefaultValue()),t=Math.round(10*t)/10,this.callParent([t])},createRepeater:function(t,e){var i=this,n=Ext.create("Ext.util.TapRepeater",{el:t,accelerate:i.getAccelerateOnTapHold()});return n.on({tap:e,touchstart:"onTouchStart",touchend:"onTouchEnd",scope:i}),n},onSpinDown:function(){this.getDisabled()||this.getReadOnly()||this.spin(!0)},onSpinUp:function(){this.getDisabled()||this.getReadOnly()||this.spin(!1)},onTouchStart:function(t){this.getDisabled()||this.getReadOnly()||t.getEl().addCls(Ext.baseCSSPrefix+"button-pressed")},onTouchEnd:function(t){t.getEl().removeCls(Ext.baseCSSPrefix+"button-pressed")},spin:function(t){var e,i=this,n=i.getValue(),r=i.getStepValue(),s=t?"down":"up",a=i.getMinValue(),o=i.getMaxValue();e=t?n-r:n+r,i.getCycle()&&(n==a&&a>e&&(e=o),n==o&&e>o&&(e=a)),i.setValue(e),e=i.getValue(),i.fireEvent("spin",i,e,s),i.fireEvent("spin"+s,i,e)},doSetDisabled:function(){Ext.Component.prototype.doSetDisabled.apply(this,arguments)},setDisabled:function(){Ext.Component.prototype.setDisabled.apply(this,arguments)},reset:function(){this.setValue(this.getDefaultValue())},destroy:function(){var t=this;Ext.destroy(t.downRepeater,t.upRepeater,t.spinDownButton,t.spinUpButton),t.callParent(arguments)}},function(){}),Ext.define("Ext.slider.Toggle",{extend:Ext.slider.Slider,config:{baseCls:"x-toggle",minValueCls:"x-toggle-off",maxValueCls:"x-toggle-on"},initialize:function(){this.callParent(),this.on({change:"onChange"})},applyMinValue:function(){return 0},applyMaxValue:function(){return 1},applyIncrement:function(){return 1},updateMinValueCls:function(t,e){var i=this.element;e&&i.hasCls(e)&&i.replaceCls(e,t)},updateMaxValueCls:function(t,e){var i=this.element;e&&i.hasCls(e)&&i.replaceCls(e,t)},setValue:function(t,e){this.callParent(arguments),this.onChange(this,this.getThumbs()[0],t,e)},setIndexValue:function(t){var e=this.getValue()[t];this.callParent(arguments);var i=this.getThumb(t),n=this.getValue()[t];e!==n&&this.fireEvent("change",this,i,n,e)},onChange:function(t,e,i){var n=i>0,r=t.getMaxValueCls(),s=t.getMinValueCls(),a=this.element;a.addCls(n?r:s),a.removeCls(n?s:r)},toggle:function(){var t=this.getValue();return this.setValue(1==t?0:1),this},onTap:function(){if(!this.isDisabled()&&!this.getReadOnly()){var t=this.getValue(),e=1==t?0:1,i=this.getThumb(0);this.setIndexValue(0,e,this.getAnimation()),this.refreshThumbConstraints(i)}}}),Ext.define("Ext.field.Toggle",{extend:Ext.field.Slider,xtype:"togglefield",alternateClassName:"Ext.form.Toggle",config:{cls:"x-toggle-field",labelAlign:"left",activeLabel:null,inactiveLabel:null},platformConfig:[{theme:["Windows"],labelAlign:"left"},{theme:["Blackberry","MountainView"],activeLabel:"On",inactiveLabel:"Off"}],proxyConfig:{minValueCls:"x-toggle-off",maxValueCls:"x-toggle-on"},applyComponent:function(t){return Ext.factory(t,Ext.slider.Toggle)},updateActiveLabel:function(t,e){t!=e&&this.getComponent().element.dom.setAttribute("data-activelabel",t)},updateInactiveLabel:function(t,e){t!=e&&this.getComponent().element.dom.setAttribute("data-inactivelabel",t)},setValue:function(t){t===!0&&(t=1);var e=this.getValue();return e!=t&&(this.getComponent().setValue(t),this.fireEvent("change",this,t,e)),this},getValue:function(){return 1==this.getComponent().getValue()?1:0},onSliderChange:function(t,e,i,n){this.fireEvent.call(this,"change",this,i,n)},toggle:function(){var t=this.getValue();return this.setValue(1==t?0:1),this},onChange:function(){this.setLabel(1==this.getValue()?this.toggleOnLabel:this.toggleOffLabel)}}),Ext.define("Ext.field.Url",{extend:Ext.field.Text,xtype:"urlfield",alternateClassName:"Ext.form.Url",config:{autoCapitalize:!1,component:{type:"url"}}}),Ext.define("Ext.form.FieldSet",{extend:Ext.Container,alias:"widget.fieldset",config:{baseCls:Ext.baseCSSPrefix+"form-fieldset",title:null,instructions:null},applyTitle:function(t){return"string"==typeof t&&(t={title:t}),Ext.applyIf(t,{docked:"top",baseCls:this.getBaseCls()+"-title"}),Ext.factory(t,Ext.Title,this._title)},updateTitle:function(t,e){t&&this.add(t),e&&this.remove(e)},getTitle:function(){var t=this._title;return t&&t instanceof Ext.Title?t.getTitle():t},applyInstructions:function(t){return"string"==typeof t&&(t={title:t}),Ext.applyIf(t,{docked:"bottom",baseCls:this.getBaseCls()+"-instructions"}),Ext.factory(t,Ext.Title,this._instructions)},updateInstructions:function(t,e){t&&this.add(t),e&&this.remove(e)},getInstructions:function(){var t=this._instructions;return t&&t instanceof Ext.Title?t.getTitle():t},doSetDisabled:function(t){return this.getFieldsAsArray().forEach(function(e){e.setDisabled(t)}),this},getFieldsAsArray:function(){var t=[],e=function(i){i.isField&&t.push(i),i.isContainer&&i.getItems().each(e)};return this.getItems().each(e),t}}),Ext.define("Ext.form.Panel",{alternateClassName:"Ext.form.FormPanel",extend:Ext.Panel,xtype:"formpanel",config:{baseCls:Ext.baseCSSPrefix+"form",standardSubmit:!1,url:null,enctype:null,baseParams:null,submitOnAction:!1,record:null,method:"post",scrollable:{translatable:{translationMethod:"scrollposition"}},trackResetOnLoad:!1,api:null,paramOrder:null,paramsAsHash:null,timeout:30,multipartDetection:!0,enableSubmissionForm:!0},getElementConfig:function(){var t=this.callParent();return t.tag="form",t.children.push({tag:"input",type:"submit",style:"visibility: hidden; width: 0; height: 0; position: absolute; right: 0; bottom: 0;"}),t},initialize:function(){var t=this;t.callParent(),t.element.on({submit:"onSubmit",scope:t})},applyEnctype:function(t){var e=this.element.dom||null;e&&(t?e.setAttribute("enctype",t):e.setAttribute("enctype"))},updateRecord:function(t){var e,i,n;if(t&&(e=t.fields)){i=this.getValues();for(n in i)i.hasOwnProperty(n)&&e.containsKey(n)&&t.set(n,i[n])}return this},setRecord:function(t){var e=this;return t&&t.data&&e.setValues(t.data),e._record=t,this},onSubmit:function(t){var e=this;t&&!e.getStandardSubmit()?t.stopEvent():this.submit(null,t)},updateSubmitOnAction:function(t){t?this.on({action:"onFieldAction",scope:this}):this.un({action:"onFieldAction",scope:this})},onFieldAction:function(t){this.getSubmitOnAction()&&(t.blur(),this.submit())},submit:function(t,e){t=t||{};var i=this,n=i.getValues(i.getStandardSubmit()||!t.submitDisabled),r=i.element.dom||{};return this.getEnableSubmissionForm()&&(r=this.createSubmissionForm(r,n)),t=Ext.apply({url:i.getUrl()||r.action,submit:!1,form:r,method:i.getMethod()||r.method||"post",autoAbort:!1,params:null,waitMsg:null,headers:null,success:null,failure:null},t||{}),i.fireAction("beforesubmit",[i,n,t,e],"doBeforeSubmit")},createSubmissionForm:function(t,e){var i,n,r,s,a,o=this.getFields();if(1===t.nodeType){t=t.cloneNode(!1);for(i in e)n=document.createElement("input"),n.setAttribute("type","text"),n.setAttribute("name",i),n.setAttribute("value",e[i]),t.appendChild(n)}for(i in o)o.hasOwnProperty(i)&&(r=o[i],r.isFile?(t.$fileswap||(t.$fileswap=[]),a=r.getComponent().input,s=a.dom,n=s.cloneNode(!0),s.parentNode.insertBefore(n,s.nextSibling),t.appendChild(s),t.$fileswap.push({original:s,placeholder:n})):r.isPassword&&"password"!==r.getComponent().getType&&r.setRevealed(!1));return t},doBeforeSubmit:function(t,e,i){var n=i.form||{},r=!1;if(this.getMultipartDetection()===!0&&(this.getFieldsAsArray().forEach(function(t){return t.isFile===!0?(r=!0,!1):void 0}),r&&n.setAttribute("enctype","multipart/form-data")),i.enctype&&n.setAttribute("enctype",i.enctype),t.getStandardSubmit()){i.url&&Ext.isEmpty(n.action)&&(n.action=i.url);var s,a,o=this.query("spinnerfield"),l=o.length;for(s=0;l>s;s++)a=o[s],a.getDisabled()||a.getComponent().setDisabled(!1);n.method=(i.method||n.method).toLowerCase(),n.submit()}else{var u,h=t.getApi(),c=i.url||t.getUrl(),d=i.scope||t,f=i.waitMsg,g=function(e,n){Ext.isFunction(i.failure)&&i.failure.call(d,t,e,n),t.fireEvent("exception",t,e)},p=function(e,n){Ext.isFunction(i.success)&&i.success.call(i.scope||t,t,e,n),t.fireEvent("submit",t,e)};if(i.waitMsg&&("string"==typeof f&&(f={xtype:"loadmask",message:f}),t.setMasked(f)),!h){var m=Ext.merge({},{url:c,timeout:1e3*this.getTimeout(),form:n,scope:t},i);if(delete m.success,delete m.failure,m.params=Ext.merge(t.getBaseParams()||{},i.params),m.header=Ext.apply({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},i.headers||{}),m.callback=function(e,i,r){var s=r.responseText,a=r.responseXML,o=Ext.Ajax.parseStatus(r.status,r);
if(n.$fileswap){var l,u;Ext.each(n.$fileswap,function(t){l=t.original,u=t.placeholder,u.parentNode.insertBefore(l,u.nextSibling),u.parentNode.removeChild(u)}),n.$fileswap=null,delete n.$fileswap}if(t.setMasked(!1),r.success===!1&&(i=!1),i){if(o&&s&&0==s.length)i=!0;else if(Ext.isEmpty(r.responseBytes)){if(Ext.isString(s)&&"text"===r.request.options.responseType)r.success=!0;else if(Ext.isString(s))try{r=Ext.decode(s)}catch(h){r.success=!1,r.error=h,r.message=h.message}else Ext.isSimpleObject(s)&&(r=s,Ext.applyIf(r,{success:!0}));Ext.isEmpty(a)||(r.success=!0),i=!!r.success}else i=o.success;i?p(r,s):g(r,s)}else g(r,s)},Ext.feature.has.XHR2&&m.xhr2){delete m.form;var x=new FormData(n);m.params&&(Ext.iterate(m.params,function(t,e){Ext.isArray(e)?Ext.each(e,function(e){x.append(t,e)}):x.append(t,e)}),delete m.params),m.data=x}return Ext.Ajax.request(m)}if(u=h.submit,"string"==typeof u&&(u=Ext.direct.Manager.parseMethod(u),u&&(h.submit=u)),u)return u(this.element,function(e,i,n){t.setMasked(!1),n&&e.success?p(i,e):g(i,e)},this)}},load:function(t){t=t||{};var e,i,n,r=this,s=r.getApi(),a=r.getUrl()||t.url,o=t.waitMsg,l=function(e,i){r.setValues(i.data),Ext.isFunction(t.success)&&t.success.call(t.scope||r,r,e,i),r.fireEvent("load",r,e)},u=function(e,i){Ext.isFunction(t.failure)&&t.failure.call(scope,r,e,i),r.fireEvent("exception",r,e)};if(t.waitMsg&&("string"==typeof o&&(o={xtype:"loadmask",message:o}),r.setMasked(o)),s){if(e=s.load,"string"==typeof e&&(e=Ext.direct.Manager.parseMethod(e),e&&(s.load=e)),e)return i=e.directCfg.method,n=i.getArgs(r.getParams(t.params),r.getParamOrder(),r.getParamsAsHash()),n.push(function(t,e,i){r.setMasked(!1),i?l(e,t):u(e,t)},r),e.apply(window,n)}else if(a)return Ext.Ajax.request({url:a,timeout:1e3*(t.timeout||this.getTimeout()),method:t.method||"GET",autoAbort:t.autoAbort,headers:Ext.apply({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},t.headers||{}),callback:function(t,e,i){var n=i.responseText,s=Ext.Ajax.parseStatus(i.status,i);r.setMasked(!1),e?(s&&0==n.length?e=!0:(i=Ext.decode(n),e=!!i.success),e?l(i,n):u(i,n)):u(i,n)}})},getParams:function(t){return Ext.apply({},t,this.getBaseParams())},setValues:function(t){var e,i,n,r,s,a,o=this.getFields(),l=this;t=t||{};for(e in t)if(t.hasOwnProperty(e)&&(i=o[e],n=t[e],i)){if(Ext.isArray(i))for(r=i.length,s=0;r>s;s++){if(a=i[s],a.isRadio){a.setGroupValue(n);break}a.isCheckbox?a.setChecked(Ext.isArray(n)?-1!=n.indexOf(a._value):n==a._value):Ext.isArray(n)&&a.setValue(n[s])}else i.isRadio||i.isCheckbox?i.setChecked(n):i.setValue(n);l.getTrackResetOnLoad()&&i.resetOriginalValue()}return this},getValues:function(t,e){var i,n,r,s,a,o,l,u=this.getFields(),h={},c=Ext.isArray;r=function(i,r){(e||r&&"null"!==r)&&!i.isFile&&(n=i.isCheckbox?i.getSubmitValue():i.getValue(),t&&i.getDisabled()||(i.isRadio?i.isChecked()&&(h[r]=n):(s=h[r],Ext.isEmpty(s)?h[r]=n:(c(s)||(s=h[r]=[s]),c(n)?s=h[r]=s.concat(n):s.push(n)))))};for(a in u)if(u.hasOwnProperty(a))if(i=u[a],c(i))for(o=i.length,l=0;o>l;l++)r(i[l],a);else r(i,a);return h},reset:function(){return this.getFieldsAsArray().forEach(function(t){t.reset()}),this},doSetDisabled:function(t){return this.getFieldsAsArray().forEach(function(e){e.setDisabled(t)}),this},getFieldsAsArray:function(){var t=[],e=function(i){i.isField&&t.push(i),i.isContainer&&i.getItems().each(e)};return this.getItems().each(e),t},getFields:function(t){var e,i={},n=function(r){r.isField&&(e=r.getName(),(t&&e==t||"undefined"==typeof t)&&(i.hasOwnProperty(e)?(Ext.isArray(i[e])||(i[e]=[i[e]]),i[e].push(r)):i[e]=r)),r.isContainer&&r.items.each(n)};return this.getItems().each(n),t?i[t]||[]:i},getFieldsArray:function(){var t=[],e=function(i){i.isField&&t.push(i),i.isContainer&&i.items.each(e)};return this.items.each(e),t},getFieldsFromItem:Ext.emptyFn,showMask:function(t){return Ext.Logger.warn("showMask is now deprecated. Please use Ext.form.Panel#setMasked instead"),t=Ext.isObject(t)?t.message:t,this.setMasked(t?{xtype:"loadmask",message:t}:!0),this},hideMask:function(){return this.setMasked(!1),this},getFocusedField:function(){var t,e,i=this.getFieldsArray(),n=i.length;for(e=0;n>e;e++)if(t=i[e],t.isFocused)return t;return null},getNextField:function(){var t,e=this.getFieldsArray(),i=this.getFocusedField();return i&&(t=e.indexOf(i),t!==e.length-1)?(t++,e[t]):!1},focusNextField:function(){var t=this.getNextField();return t?(t.focus(),t):!1},getPreviousField:function(){var t,e=this.getFieldsArray(),i=this.getFocusedField();return i&&(t=e.indexOf(i),0!==t)?(t--,e[t]):!1},focusPreviousField:function(){var t=this.getPreviousField();return t?(t.focus(),t):!1}},function(){}),Ext.define("Ext.fx.Easing",{constructor:function(t){return Ext.factory(t,Ext.fx.easing.Linear,null,"easing")}}),Ext.define("Ext.fx.runner.Css",{extend:Ext.Evented,prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){var t=Ext.feature.has.Css3dTransforms;return this.transformMethods=t?["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"]:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],this.vendorPrefix=Ext.browser.getStyleDashPrefix(),this.ruleStylesCache={},this},getStyleSheet:function(){var t,e,i=this.styleSheet;return i||(t=document.createElement("style"),t.type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(t),e=document.styleSheets,this.styleSheet=i=e[e.length-1]),i},applyRules:function(t){var e,i,n,r,s,a,o,l=this.getStyleSheet(),u=this.ruleStylesCache,h=l.cssRules;for(e in t){i=t[e],n=u[e],void 0===n&&(s=h.length,l.insertRule(e+"{}",s),n=u[e]=h.item(s).style),r=n.$cache,r||(r=n.$cache={});for(a in i)o=this.formatValue(i[a],a),a=this.formatName(a),r[a]!==o&&(r[a]=o,null===o?n.removeProperty(a):n.setProperty(a,o,"important"))}return this},applyStyles:function(t){var e,i,n,r,s,a;for(e in t)if(t.hasOwnProperty(e)){if(i=document.getElementById(e),!i)return this;n=i.style,r=t[e];for(s in r)r.hasOwnProperty(s)&&(a=this.formatValue(r[s],s),s=this.formatName(s),null===a?n.removeProperty(s):n.setProperty(s,a,"important"))}return this},formatName:function(t){var e=this.formattedNameCache,i=e[t];return i||(i=!Ext.os.is.Tizen&&Ext.feature.has.CssTransformNoPrefix||!this.prefixedProperties[t]?t:this.vendorPrefix+t,e[t]=i),i},formatValue:function(t,e){var i,n,r,s,a,o,l,u=typeof t,h=this.DEFAULT_UNIT_LENGTH;if(null===t)return"";if("string"==u){if(this.lengthProperties[e]){if(l=t.match(this.lengthUnitRegex)[1],!(l.length>0))return t+h;l!==h&&Ext.Logger.error("Length unit: '"+l+"' in value: '"+t+"' of property: '"+e+"' is not valid for animation. Only 'px' is allowed")}return t}if("number"==u){if(0==t)return"0";if(this.lengthProperties[e])return t+h;if(this.angleProperties[e])return t+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[e])return t+this.DEFAULT_UNIT_DURATION}else{if("transform"===e){for(i=this.transformMethods,a=[],r=0,s=i.length;s>r;r++)n=i[r],a.push(n+"("+this.formatValue(t[n],n)+")");return a.join(" ")}if(Ext.isArray(t)){for(o=[],r=0,s=t.length;s>r;r++)o.push(this.formatValue(t[r],e));return o.length>0?o.join(", "):"none"}}return t}}),Ext.define("Ext.fx.runner.CssTransition",{extend:Ext.fx.runner.Css,listenersAttached:!1,constructor:function(){return this.runningAnimationsData={},this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0,this.getEventDispatcher().addListener("element","*","transitionend","onTransitionEnd",this)},onTransitionEnd:function(t){var e=t.target,i=e.id;i&&this.runningAnimationsData.hasOwnProperty(i)&&this.refreshRunningAnimationsData(Ext.get(e),[t.browserEvent.propertyName])},onAnimationEnd:function(t,e,i,n,r){var s,a,o,l,u,h=t.getId(),c=this.runningAnimationsData[h],d={},f={};if(i.un("stop","onAnimationStop",this),c&&(s=c.nameMap),d[h]=f,e.onBeforeEnd&&e.onBeforeEnd.call(e.scope||this,t,n),i.fireEvent("animationbeforeend",i,t,n),this.fireEvent("animationbeforeend",this,i,t,n),r||!n&&!e.preserveEndState)for(a=e.toPropertyNames,o=0,l=a.length;l>o;o++)u=a[o],s&&!s.hasOwnProperty(u)&&(f[u]=null);e.after&&Ext.merge(f,e.after),this.applyStyles(d),e.onEnd&&e.onEnd.call(e.scope||this,t,n),i.fireEvent("animationend",i,t,n),this.fireEvent("animationend",this,i,t,n),Ext.AnimationQueue.stop(Ext.emptyFn,i)},onAllAnimationsEnd:function(t){var e=t.getId(),i={};delete this.runningAnimationsData[e],i[e]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null},this.applyStyles(i),this.fireEvent("animationallend",this,t)},hasRunningAnimations:function(t){var e=t.getId(),i=this.runningAnimationsData;return i.hasOwnProperty(e)&&i[e].sessions.length>0},refreshRunningAnimationsData:function(t,e,i,n){var r=t.getId(),s=this.runningAnimationsData,a=s[r];if(a){var o,l,u,h,c,d,f,g,p=a.nameMap,m=a.nameList,x=a.sessions,E=!1;if(i=Boolean(i),n=Boolean(n),!x)return this;if(o=x.length,0===o)return this;if(n){for(a.nameMap={},m.length=0,c=0;o>c;c++)d=x[c],this.onAnimationEnd(t,d.data,d.animation,i,n);x.length=0}else for(c=0;o>c;c++){for(d=x[c],f=d.map,g=d.list,l=0,u=e.length;u>l;l++)h=e[l],f[h]&&(delete f[h],Ext.Array.remove(g,h),d.length--,0==--p[h]&&(delete p[h],Ext.Array.remove(m,h)));0==d.length&&(x.splice(c,1),c--,o--,E=!0,this.onAnimationEnd(t,d.data,d.animation,i))}n||i||0!=x.length||!E||this.onAllAnimationsEnd(t)}},getRunningData:function(t){var e=this.runningAnimationsData;return e.hasOwnProperty(t)||(e[t]={nameMap:{},nameList:[],sessions:[]}),e[t]},getTestElement:function(){var t,e,i,n=this.testElement;return n||(t=document.createElement("iframe"),i=t.style,i.setProperty("visibility","hidden","important"),i.setProperty("width","0px","important"),i.setProperty("height","0px","important"),i.setProperty("position","absolute","important"),i.setProperty("border","0px","important"),i.setProperty("zIndex","-1000","important"),document.body.appendChild(t),e=t.contentDocument,e.open(),e.writeln("</body>"),e.close(),this.testElement=n=e.createElement("div"),n.style.setProperty("position","absolute","important"),e.body.appendChild(n),this.testElementComputedStyle=window.getComputedStyle(n)),n},getCssStyleValue:function(t,e){var i=this.getTestElement(),n=this.testElementComputedStyle,r=i.style;return r.setProperty(t,e),Ext.browser.is.Firefox&&i.offsetHeight,e=n.getPropertyValue(t),r.removeProperty(t),e},run:function(t){var e,i,n,r,s,a,o,l,u,h,c,d,f,g,p,m,x,E,y,v,b,S,C,w,T,I,A,P,M=this,D=this.lengthProperties,k={},R={},O={};for(this.listenersAttached||this.attachListeners(),t=Ext.Array.from(t),d=0,g=t.length;g>d;d++){p=t[d],p=Ext.factory(p,Ext.fx.Animation),e=p.getElement(),Ext.AnimationQueue.start(Ext.emptyFn,p),E=window.getComputedStyle(e.dom),i=e.getId(),O=Ext.merge({},p.getData()),p.onBeforeStart&&p.onBeforeStart.call(p.scope||this,e),p.fireEvent("animationstart",p),this.fireEvent("animationstart",this,p),O[i]=O,s=O.before,n=O.from,r=O.to,O.fromPropertyNames=a=[],O.toPropertyNames=o=[];for(v in r)r.hasOwnProperty(v)&&(r[v]=b=this.formatValue(r[v],v),y=this.formatName(v),w=D.hasOwnProperty(v),w||(b=this.getCssStyleValue(y,b)),n.hasOwnProperty(v)?(n[v]=C=this.formatValue(n[v],v),w||(C=this.getCssStyleValue(y,C)),b!==C&&(a.push(y),o.push(y))):(S=E.getPropertyValue(y),b!==S&&o.push(y)));if(m=o.length,0!==m){for(h=this.getRunningData(i),A=h.sessions,A.length>0&&this.refreshRunningAnimationsData(e,Ext.Array.merge(a,o),!0,O.replacePrevious),T=h.nameMap,I=h.nameList,x={},f=0;m>f;f++)v=o[f],x[v]=!0,T.hasOwnProperty(v)?T[v]++:(T[v]=1,I.push(v));P={element:e,map:x,list:o.slice(),length:m,data:O,animation:p},A.push(P),p.on("stop","onAnimationStop",this),c=Ext.apply({},s),Ext.apply(c,n),I.length>0&&(a=Ext.Array.difference(I,a),o=Ext.Array.merge(a,o),c["transition-property"]=a),k[i]=c,R[i]=Ext.apply({},r),R[i]["transition-property"]=o,R[i]["transition-duration"]=O.duration,R[i]["transition-timing-function"]=O.easing,R[i]["transition-delay"]=O.delay,p.startTime=Date.now()}else this.onAnimationEnd(e,O,p)}u=this.$className,this.applyStyles(k),l=function(t){t.data===u&&t.source===window&&(window.removeEventListener("message",l,!1),M.applyStyles(R))},Ext.browser.is.IE?window.requestAnimationFrame(function(){window.addEventListener("message",l,!1),window.postMessage(u,"*")}):(window.addEventListener("message",l,!1),window.postMessage(u,"*"))},onAnimationStop:function(t){var e,i,n,r,s,a,o=this.runningAnimationsData;for(e in o)if(o.hasOwnProperty(e))for(i=o[e],n=i.sessions,r=0,s=n.length;s>r;r++)a=n[r],a.animation===t&&this.refreshRunningAnimationsData(a.element,a.list.slice(),!1)}}),Ext.define("Ext.fx.Runner",{constructor:function(){return new Ext.fx.runner.CssTransition}}),Ext.define("Ext.fx.animation.Cube",{extend:Ext.fx.animation.Abstract,alias:"animation.cube",config:{before:{},after:{},direction:"right",out:!1},getData:function(){var t=this.getTo(),e=this.getFrom(),i=this.getBefore(),n=this.getAfter(),r=this.getOut(),s=this.getDirection(),a=this.getElement(),o=a.getWidth(),l=(a.getHeight(),r?"100% 100%":"0% 0%"),u=1,h=1,c={rotateY:0,translateZ:0},d={rotateY:0,translateZ:0};return("left"==s||"right"==s)&&(r?(h=.5,d.translateZ=o,d.rotateY=-90):(u=.5,c.translateZ=o,c.rotateY=90)),i["transform-origin"]=l,n["transform-origin"]=null,t.set("transform",d),e.set("transform",c),e.set("opacity",u),t.set("opacity",h),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.Wipe",{extend:Ext.fx.Animation,alternateClassName:"Ext.fx.animation.WipeIn",config:{easing:"ease-out",direction:"right",out:!1},refresh:function(){var t,e,i=this,n=i.getElement(),r=n.dom.getBoundingClientRect(),s=r.width,a=r.height,o=i.getFrom(),l=i.getTo(),u=i.getOut(),h=i.getDirection(),c=0,d=0,f=0,g=0;switch(h){case"up":u?(t="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",d=3*a+"px",g=a+"px"):(t="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",d=2*-a+"px",g=0);break;case"down":u?(t="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",d=2*-a+"px",g=0):(t="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",d=3*a+"px",g=a+"px");break;case"right":u?(t="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",c=2*-s+"px",f=0):(t="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",f=2*-s+"px");break;case"left":u?(t="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",f=2*-s+"px"):(t="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",c=2*-s+"px",f=0)}u||(e=d,d=g,g=e,e=c,c=f,f=e),o.set("mask-image",t),o.set("mask-size",3*s+"px "+3*a+"px"),o.set("mask-position-x",c),o.set("mask-position-y",d),l.set("mask-position-x",f),l.set("mask-position-y",g)},getData:function(){return this.refresh(),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.WipeOut",{extend:Ext.fx.animation.Wipe,config:{out:!0}}),Ext.define("Ext.fx.easing.EaseIn",{extend:Ext.fx.easing.Linear,alias:"easing.ease-in",config:{exponent:4,duration:1500},getValue:function(){var t=Ext.Date.now()-this.getStartTime(),e=this.getDuration(),i=this.getStartValue(),n=this.getEndValue(),r=this.distance,s=t/e,a=Math.pow(s,this.getExponent()),o=i+a*r;return t>=e?(this.isEnded=!0,n):o}}),Ext.define("Ext.fx.layout.card.Cube",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.cube",config:{reverse:null,inAnimation:{type:"cube"},outAnimation:{type:"cube",out:!0}}}),Ext.define("Ext.fx.layout.card.ScrollCover",{extend:Ext.fx.layout.card.Scroll,alias:"fx.layout.card.scrollcover",onActiveItemChange:function(t,e,i,n,r){var s,a,o,l,u,h;this.lastController=r,this.inItem=e,e&&i&&(s=this.getLayout().container.innerElement,a=s.getSize(),o=this.calculateXY(a),l={easing:this.getEasing(),duration:this.getDuration()},e.renderElement.dom.style.setProperty("visibility","hidden","important"),u=e.setTranslatable(!0).getTranslatable(),h=i.setTranslatable(!0).getTranslatable(),h.translate({x:0,y:0}),u.translate({x:o.left,y:o.top}),u.getWrapper().dom.style.setProperty("z-index","100","important"),e.show(),u.on({animationstart:"onInAnimationStart",animationend:"onInAnimationEnd",scope:this}),u.translateAnimated({x:0,y:0},l),r.pause())},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty("visibility")},onInAnimationEnd:function(){this.inItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.lastController.resume()}}),Ext.define("Ext.fx.layout.card.ScrollReveal",{extend:Ext.fx.layout.card.Scroll,alias:"fx.layout.card.scrollreveal",onActiveItemChange:function(t,e,i,n,r){var s,a,o,l,u,h;this.lastController=r,this.outItem=i,this.inItem=e,e&&i&&(s=this.getLayout().container.innerElement,a=s.getSize(),o=this.calculateXY(a),l={easing:this.getEasing(),duration:this.getDuration()},u=i.setTranslatable(!0).getTranslatable(),h=e.setTranslatable(!0).getTranslatable(),u.getWrapper().dom.style.setProperty("z-index","100","important"),u.translate({x:0,y:0}),h.translate({x:0,y:0}),e.show(),u.on({animationend:"onOutAnimationEnd",scope:this}),u.translateAnimated({x:o.x,y:o.y},l),r.pause())},onOutAnimationEnd:function(){this.outItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.lastController.resume()}}),Ext.define("Ext.fx.runner.CssAnimation",{extend:Ext.fx.runner.Css,constructor:function(){return this.runningAnimationsMap={},this.elementEndStates={},this.animationElementMap={},this.keyframesRulesCache={},this.uniqueId=0,this.callParent(arguments)},attachListeners:function(){var t=this.getEventDispatcher();this.listenersAttached=!0,t.addListener("element","*","animationstart","onAnimationStart",this),t.addListener("element","*","animationend","onAnimationEnd",this)},onAnimationStart:function(t){var e=t.browserEvent.animationName,i=this.animationElementMap[e],n=this.runningAnimationsMap[i][e],r=this.elementEndStates,s=r[i],a={};console.log("START============= "+e),s&&(delete r[i],a[i]=s,this.applyStyles(a)),n.before&&(a[i]=n.before,this.applyStyles(a))},onAnimationEnd:function(t){var e=t.target,i=t.browserEvent.animationName,n=this.animationElementMap,r=n[i],s=this.runningAnimationsMap,a=s[r],o=a[i];console.log("END============= "+i),o.onBeforeEnd&&o.onBeforeEnd.call(o.scope||this,e),o.onEnd&&o.onEnd.call(o.scope||this,e),delete n[i],delete a[i],this.removeKeyframesRule(i)},generateAnimationId:function(){return"animation-"+ ++this.uniqueId},run:function(t){var e,i,n,r,s,a,o,l,u,h,c,d,f,g,p,m={},x=this.elementEndStates,E=this.animationElementMap,y=this.runningAnimationsMap;for(this.listenersAttached||this.attachListeners(),t=Ext.Array.from(t),s=0,a=t.length;a>s;s++){o=t[s],o=Ext.factory(o,Ext.fx.Animation),n=o.getElement().getId(),r=o.getName()||this.generateAnimationId(),E[r]=n,o=o.getData(),i=o.states,this.addKeyframesRule(r,i),e=y[n],e||(e=y[n]={}),e[r]=o,h=[],c=[],d=[],f=[],g=[],p=[];for(l in e)e.hasOwnProperty(l)&&(u=e[l],h.push(l),c.push(u.duration),d.push(u.easing),f.push(u.delay),g.push(u.direction),p.push(u.iteration));m[n]={"animation-name":h,"animation-duration":c,"animation-timing-function":d,"animation-delay":f,"animation-direction":g,"animation-iteration-count":p},o.preserveEndState&&(x[n]=i["100%"])}this.applyStyles(m)},addKeyframesRule:function(t,e){var i,n,r,s,a,o,l,u,h;s=this.getStyleSheet(),a=s.cssRules,l=a.length,s.insertRule("@"+this.vendorPrefix+"keyframes "+t+"{}",l),r=a[l];for(i in e){n=e[i],a=r.cssRules,l=a.length,o=[];for(u in n)h=this.formatValue(n[u],u),u=this.formatName(u),o.push(u+":"+h);r.insertRule(i+"{"+o.join(";")+"}",l)}return this},removeKeyframesRule:function(t){var e,i,n,r=this.getStyleSheet(),s=r.cssRules;for(e=0,i=s.length;i>e;e++)if(n=s[e],n.name===t){r.removeRule(e);break}return this}}),Ext.define("Ext.log.Base",{config:{},constructor:function(t){return this.initConfig(t),this}}),function(){var t=Ext.define("Ext.log.Logger",{extend:Ext.log.Base,statics:{defaultPriority:"info",priorities:{verbose:0,info:1,deprecate:2,warn:3,error:4}},config:{enabled:!0,minPriority:"deprecate",writers:{}},log:function(e,i,n){if(!this.getEnabled())return this;var r,s,a,o=t,l=o.priorities,u=l[i],h=this.log.caller,c="",d=this.getWriters();if(i||(i="info"),l[this.getMinPriority()]>u)return this;if(n||(n=1),e=Ext.isArray(e)?e.join(" "):String(e),"number"==typeof n){s=n;do{if(s--,h=h.caller,!h)break;if(a||(a=h.caller),0>=s&&h.displayName)break}while(h!==a);c=Ext.getDisplayName(h)}else h=h.caller,c=Ext.getDisplayName(n)+"#"+h.$name;r={time:Ext.Date.now(),priority:u,priorityName:i,message:e,caller:h,callerDisplayName:c};for(s in d)d.hasOwnProperty(s)&&d[s].write(Ext.merge({},r));return this}},function(){Ext.Object.each(this.priorities,function(t){this.override(t,function(e,i){i||(i=1),"number"==typeof i&&(i+=1),this.log(e,t,i)})},this)})}(),Ext.define("Ext.log.filter.Filter",{extend:Ext.log.Base,accept:function(){return!0}}),Ext.define("Ext.log.filter.Priority",{extend:Ext.log.filter.Filter,config:{minPriority:1},accept:function(t){return t.priority>=this.getMinPriority()}}),Ext.define("Ext.log.formatter.Formatter",{extend:Ext.log.Base,config:{messageFormat:"{message}"},format:function(t){return this.substitute(this.getMessageFormat(),t)},substitute:function(t,e){var i,n;for(i in e)e.hasOwnProperty(i)&&(n=e[i],t=t.replace(new RegExp("\\{"+i+"\\}","g"),n));return t}}),Ext.define("Ext.log.formatter.Default",{extend:Ext.log.formatter.Formatter,config:{messageFormat:"[{priorityName}][{callerDisplayName}] {message}"},format:function(t){var t=Ext.merge({},t,{priorityName:t.priorityName.toUpperCase()});return this.callParent([t])}}),Ext.define("Ext.log.formatter.Identity",{extend:Ext.log.formatter.Default,config:{messageFormat:"[{osIdentity}][{browserIdentity}][{timestamp}][{priorityName}][{callerDisplayName}] {message}"},format:function(t){return t.timestamp=Ext.Date.toString(),t.browserIdentity=Ext.browser.name+" "+Ext.browser.version,t.osIdentity=Ext.os.name+" "+Ext.os.version,this.callParent(arguments)}}),Ext.define("Ext.log.writer.Writer",{extend:Ext.log.Base,config:{formatter:null,filters:{}},constructor:function(){return this.activeFilters=[],this.callParent(arguments)},updateFilters:function(t){var e,i,n=this.activeFilters;n.length=0;for(e in t)t.hasOwnProperty(e)&&(i=t[e],n.push(i))},write:function(t){var e,i,n,r=this.activeFilters,s=this.getFormatter();for(e=0,i=r.length;i>e;e++)if(n=r[e],!r[e].accept(t))return this;return s&&(t.message=s.format(t)),this.doWrite(t),this},doWrite:Ext.emptyFn}),Ext.define("Ext.log.writer.Console",{extend:Ext.log.writer.Writer,config:{throwOnErrors:!0,throwOnWarnings:!1},doWrite:function(t){var e,i=t.message,n=t.priorityName;if("error"===n&&this.getThrowOnErrors())throw new Error(i);if("undefined"!=typeof console){if(e=n,"deprecate"===e&&(e="warn"),"warn"===e&&this.getThrowOnWarnings())throw new Error(i);e in console||(e="log"),console[e](i)}}}),Ext.define("Ext.log.writer.DocumentTitle",{extend:Ext.log.writer.Writer,doWrite:function(t){var e=t.message;document.title=e}}),Ext.define("Ext.log.writer.Remote",{extend:Ext.log.writer.Writer,config:{batchSendDelay:100,onFailureRetryDelay:500,url:""},isSending:!1,sendingTimer:null,constructor:function(){return this.queue=[],this.send=Ext.Function.bind(this.send,this),this.callParent(arguments)},doWrite:function(t){var e=this.queue;e.push(t.message),this.isSending||null!==this.sendingTimer||(this.sendingTimer=setTimeout(this.send,this.getBatchSendDelay()))},send:function(){var t=this.queue,e=t.slice();t.length=0,this.sendingTimer=null,e.length>0&&this.doSend(e)},doSend:function(t){var e=this;e.isSending=!0,Ext.Ajax.request({url:e.getUrl(),method:"POST",params:{messages:t.join("\n")},success:function(){e.isSending=!1,e.send()},failure:function(){setTimeout(function(){e.doSend(t)},e.getOnFailureRetryDelay())},scope:e})}}),Ext.define("Ext.navigation.Bar",{extend:Ext.TitleBar,isToolbar:!0,config:{baseCls:Ext.baseCSSPrefix+"toolbar",cls:Ext.baseCSSPrefix+"navigation-bar",ui:"dark",title:null,defaultType:"button",layout:{type:"hbox"},defaultBackButtonText:"Back",animation:{duration:300},useTitleForBackButtonText:null,view:null,android2Transforms:!1,backButton:{align:"left",ui:"back",hidden:!0}},platformConfig:[{theme:["Blackberry"],animation:!1}],constructor:function(t){t=t||{},t.items||(t.items=[]),this.backButtonStack=[],this.activeAnimations=[],this.callParent([t])},applyBackButton:function(t){return Ext.factory(t,Ext.Button,this.getBackButton())},updateBackButton:function(t,e){e&&this.remove(e),t&&(this.add(t),t.on({scope:this,tap:this.onBackButtonTap}))},onBackButtonTap:function(){this.fireEvent("back",this)},updateView:function(t){var e,i,n,r,s,a,o=this,l=o.getBackButton();if(o.getItems(),t){for(e=t.getInnerItems(),i=0;i<e.length;i++)r=e[i],s=r.getTitle?r.getTitle():r.config.title,o.backButtonStack.push(s||"&nbsp;");a=o.getTitleText(),void 0===a&&(a=""),o.setTitle(a),n=o.getBackButtonText(),n&&(l.setText(n),l.show())}},onViewAdd:function(t,e){var i,n,r=this,s=r.backButtonStack;r.endAnimation(),n=e.getTitle?e.getTitle():e.config.title,s.push(n||"&nbsp;"),i=s.length>1,r.doChangeView(t,i,!1)},onViewRemove:function(t){var e,i=this,n=i.backButtonStack;i.endAnimation(),n.pop(),e=n.length>1,i.doChangeView(t,e,!0)},doChangeView:function(t,e,i){var n,r,s,a,o,l=this,u=l.leftBox,h=u.element,c=l.titleComponent,d=c.element,f=l.getBackButton(),g=l.getTitleText(),p=l.getBackButtonText(),m=l.getAnimation()&&t.getLayout().getAnimation(),x=m&&m.isAnimation&&t.isPainted();x?(r=l.createProxy(u.element),h.setStyle("opacity","0"),f.setText(p),f[e?"show":"hide"](),s=l.createProxy(c.element.getParent()),d.setStyle("opacity","0"),l.setTitle(g),n=l.measureView(r,s,i),a=n.left,o=n.title,l.isAnimating=!0,l.animate(h,a.element),l.animate(d,o.element,function(){d.setLeft(n.titleLeft),l.isAnimating=!1,l.refreshTitlePosition()}),Ext.browser.is.AndroidStock2&&!this.getAndroid2Transforms()?(r.ghost.destroy(),s.ghost.destroy()):(l.animate(r.ghost,a.ghost),l.animate(s.ghost,o.ghost,function(){r.ghost.destroy(),s.ghost.destroy()}))):(e?(f.setText(p),f.show()):f.hide(),l.setTitle(g))},measureView:function(t,e,i){var n,r,s,a,o,l,u=this,h=u.element,c=u.leftBox.element,d=u.titleComponent.element,f=Math.min(h.getWidth()/3,200),g=c.getWidth(),p=h.getX(),m=h.getWidth(),x=d.getX(),E=d.getLeft(),y=d.getWidth(),v=t.x,b=t.width,S=t.left,C=Ext.browser.is.AndroidStock2&&!this.getAndroid2Transforms();return l=p-v-b,i?(n=l,r=Math.min(x-b,f)):(r=l,n=Math.min(x-p,f)),s=C?{element:{from:{left:n,opacity:1},to:{left:0,opacity:1}}}:{element:{from:{transform:{translateX:n},opacity:0},to:{transform:{translateX:0},opacity:1}},ghost:{to:{transform:{translateX:r},opacity:0}}},l=p-x+g,S+y>x&&(o=p-x-y),i?(d.setLeft(0),r=p+m-x-y,n=void 0!==o?o:l):(n=p+m-x-y,r=void 0!==o?o:l,n=Math.max(E,n)),a=C?{element:{from:{left:n,opacity:1},to:{left:E,opacity:1}}}:{element:{from:{transform:{translateX:n},opacity:0},to:{transform:{translateX:E},opacity:1}},ghost:{to:{transform:{translateX:r},opacity:0}}},{left:s,title:a,titleLeft:E}},animate:function(t,e,i){var n,r=this;t.setLeft(0),e=Ext.apply(e,{element:t,easing:"ease-in-out",duration:r.getAnimation().duration||250,preserveEndState:!0}),n=new Ext.fx.Animation(e),n.on("animationend",function(){i&&i.call(r)},r),Ext.Animator.run(n),r.activeAnimations.push(n)},endAnimation:function(){var t,e,i,n=this.activeAnimations;if(n){for(i=n.length,e=0;i>e;e++)t=n[e],t.isAnimating?t.stopAnimation():t.destroy();this.activeAnimations=[]}},refreshTitlePosition:function(){this.isAnimating||this.callParent()},getBackButtonText:function(){var t=this.backButtonStack[this.backButtonStack.length-2],e=this.getUseTitleForBackButtonText();return e||t&&(t=this.getDefaultBackButtonText()),t},getTitleText:function(){return this.backButtonStack[this.backButtonStack.length-1]},beforePop:function(t){t--;for(var e=0;t>e;e++)this.backButtonStack.pop()},doSetHidden:function(t){this.element.setStyle(t?{position:"absolute",top:"-1000px",left:"-1000px",width:this.element.getWidth()+"px"}:{position:"relative",top:"auto",left:"auto",width:"auto"})},createProxy:function(t){var e,i,n,r,s;return e=t.dom.cloneNode(!0),e.id=t.id+"-proxy",t.getParent().dom.appendChild(e),e=Ext.get(e),i=t.getX(),n=t.getY(),r=t.getLeft(),s=t.getWidth(),e.setStyle("position","absolute"),e.setX(i),e.setY(n),e.setHeight(t.getHeight()),e.setWidth(s),{x:i,y:n,left:r,width:s,ghost:e}}}),Ext.define("Ext.navigation.View",{extend:Ext.Container,alternateClassName:"Ext.NavigationView",xtype:"navigationview",config:{baseCls:Ext.baseCSSPrefix+"navigationview",navigationBar:{docked:"top"},defaultBackButtonText:"Back",useTitleForBackButtonText:!1,layout:{type:"card",animation:{duration:300,easing:"ease-out",type:"slide",direction:"left"}}},platformConfig:[{theme:["Blackberry"],navigationBar:{splitNavigation:!0}}],initialize:function(){var t=this,e=t.getNavigationBar();e&&(e.on({back:t.onBackButtonTap,scope:t}),t.relayEvents(e,"rightbuttontap"),t.relayEvents(t,{add:"push",remove:"pop"}));var i=t.getLayout();i&&!i.isCard&&Ext.Logger.error("The base layout for a NavigationView must always be a Card Layout")},applyLayout:function(t){return t=t||{}},onBackButtonTap:function(){this.pop(),this.fireEvent("back",this)},push:function(t){return this.add(t)},pop:function(t){return this.beforePop(t)?this.doPop():void 0},beforePop:function(t){var e=this,i=e.getInnerItems();if(Ext.isString(t)||Ext.isObject(t)){var n,r=i.length-1;for(n=r;n>=0;n--)if(Ext.isString(t)&&Ext.ComponentQuery.is(i[n],t)||Ext.isObject(t)&&t==i[n]){t=r-n;break}if(!Ext.isNumber(t))return!1}var s,a=i.length;if((!Ext.isNumber(t)||1>t)&&(t=1),t=Math.min(t,a-1)){for(e.getNavigationBar().beforePop(t),s=i.splice(-t,t-1),n=0;n<s.length;n++)this.remove(s[n]);return!0}return!1},doPop:function(){var t=this,e=this.getInnerItems();if(t.remove(e[e.length-1]),e.length<3&&this.$backButton&&this.$backButton.hide(),this.$titleContainer){this.$titleContainer.setTitle||Ext.Logger.error("You have selected to display a title in a component that does not                     support titles in NavigationView. Please remove the `title` configuration from your                     NavigationView item, or change it to a component that has a `setTitle` method.");var i=e[e.length-2];this.$titleContainer.setTitle(i.getTitle?i.getTitle():i.config.title)}return this.getActiveItem()},getPreviousItem:function(){var t=this.getInnerItems();return t[t.length-2]
},updateUseTitleForBackButtonText:function(t){var e=this.getNavigationBar();e&&e.setUseTitleForBackButtonText(t)},updateDefaultBackButtonText:function(t){var e=this.getNavigationBar();e&&e.setDefaultBackButtonText(t)},onBackButtonContainerAdd:function(t,e){e.on({scope:this,show:this.refreshBackButtonContainer,hide:this.refreshBackButtonContainer}),this.refreshBackButtonContainer()},onBackButtonContainerRemove:function(t,e){e.un({scope:this,show:this.refreshBackButtonContainer,hide:this.refreshBackButtonContainer}),this.refreshBackButtonContainer()},refreshBackButtonContainer:function(){if(this.$backButtonContainer){for(var t,e=0,i=this.$backButtonContainer,n=i.items;e<n.length;e++)if(t=n.get(e),!t.isHidden())return void this.$backButtonContainer.show();this.$backButtonContainer.hide()}},applyNavigationBar:function(t){var e=this;if(t||(t={hidden:!0,docked:"top"}),t.title&&(delete t.title,Ext.Logger.warn("Ext.navigation.View: The 'navigationBar' configuration does not accept a 'title' property. You set the title of the navigationBar by giving this navigation view's children a 'title' property.")),t.view=this,t.useTitleForBackButtonText=this.getUseTitleForBackButtonText(),t.splitNavigation){this.$titleContainer=this.add({docked:"top",xtype:"titlebar",ui:"light",title:this.$currentTitle||""});var i=t.splitNavigation===!0?{}:t.splitNavigation;this.$backButtonContainer=this.add({xtype:"toolbar",docked:"bottom",hidden:!0}),this.$backButtonContainer.on({scope:e,add:e.onBackButtonContainerAdd,remove:e.onBackButtonContainerRemove}),this.$backButton=this.$backButtonContainer.add({xtype:"button",text:"Back",hidden:!0,ui:"back"}),t.items&&this.$backButtonContainer.add(t.items),i.items&&this.$titleContainer.add(i.items),this.$backButton.on({scope:this,tap:this.onBackButtonTap}),t={hidden:!0,docked:"top"}}return Ext.factory(t,Ext.navigation.Bar,this.getNavigationBar())},updateNavigationBar:function(t,e){e&&this.remove(e,!0),t&&this.add(t)},applyActiveItem:function(t,e){var i=this,n=i.getInnerItems();return i.getItems(),i.initialized||(t=n.length-1),this.callParent([t,e])},doResetActiveItem:function(t){var e=this,i=e.getInnerItems(),n=e.getLayout().getAnimation();t>0&&(n&&n.isAnimation&&n.setReverse(!0),e.setActiveItem(t-1),e.getNavigationBar().onViewRemove(e,i[t],t))},doRemove:function(){var t=this.getLayout().getAnimation();t&&t.isAnimation&&t.setReverse(!1),this.callParent(arguments)},onItemAdd:function(t,e){t&&t.getDocked()&&t.config.title===!0&&(this.$titleContainer=t),this.doItemLayoutAdd(t,e);var i=this.getInitialConfig().navigationBar;!this.isItemsInitializing&&t.isInnerItem()&&(this.setActiveItem(t),i&&this.getNavigationBar().onViewAdd(this,t,e),this.$backButtonContainer&&this.$backButton.show()),t&&t.isInnerItem()&&this.updateTitleContainerTitle(t.getTitle?t.getTitle():t.config.title),this.initialized&&this.fireEvent("add",this,t,e)},updateTitleContainerTitle:function(t){this.$titleContainer?(this.$titleContainer.setTitle||Ext.Logger.error("You have selected to display a title in a component that does not                     support titles in NavigationView. Please remove the `title` configuration from your                     NavigationView item, or change it to a component that has a `setTitle` method."),this.$titleContainer.setTitle(t)):this.$currentTitle=t},reset:function(){return this.pop(this.getInnerItems().length)}}),Ext.define("Ext.plugin.ListPaging",{extend:Ext.Component,alias:"plugin.listpaging",config:{autoPaging:!1,loadMoreText:"Load More...",noMoreRecordsText:"No More Records",loadTpl:['<div class="{cssPrefix}loading-spinner" style="font-size: 180%; margin: 10px auto;">','<span class="{cssPrefix}loading-top"></span>','<span class="{cssPrefix}loading-right"></span>','<span class="{cssPrefix}loading-bottom"></span>','<span class="{cssPrefix}loading-left"></span>',"</div>",'<div class="{cssPrefix}list-paging-msg">{message}</div>'].join(""),loadMoreCmp:{xtype:"component",baseCls:Ext.baseCSSPrefix+"list-paging",scrollDock:"bottom",hidden:!0},loadMoreCmpAdded:!1,loadingCls:Ext.baseCSSPrefix+"loading",list:null,scroller:null,loading:!1},init:function(t){{var e=t.getScrollable().getScroller();t.getStore()}this.setList(t),this.setScroller(e),this.bindStore(t.getStore()),this.addLoadMoreCmp(),t.updateStore=Ext.Function.createInterceptor(t.updateStore,this.bindStore,this),this.getAutoPaging()&&e.on({scrollend:this.onScrollEnd,scope:this})},bindStore:function(t,e){e&&e.un({beforeload:this.onStoreBeforeLoad,load:this.onStoreLoad,filter:this.onFilter,scope:this}),t&&t.on({beforeload:this.onStoreBeforeLoad,load:this.onStoreLoad,filter:this.onFilter,scope:this})},disableDataViewMask:function(){var t=this.getList();this._listMask=t.getLoadingText(),t.setLoadingText(null)},enableDataViewMask:function(){if(this._listMask){var t=this.getList();t.setLoadingText(this._listMask),delete this._listMask}},applyLoadTpl:function(t){return Ext.isObject(t)&&t.isTemplate?t:new Ext.XTemplate(t)},applyLoadMoreCmp:function(t){return t=Ext.merge(t,{html:this.getLoadTpl().apply({cssPrefix:Ext.baseCSSPrefix,message:this.getLoadMoreText()}),scrollDock:"bottom",listeners:{tap:{fn:this.loadNextPage,scope:this,element:"element"}}}),Ext.factory(t,Ext.Component,this.getLoadMoreCmp())},onScrollEnd:function(t,e,i){var n=this.getList();!this.getLoading()&&i>=t.maxPosition.y&&(this.currentScrollToTopOnRefresh=n.getScrollToTopOnRefresh(),n.setScrollToTopOnRefresh(!1),this.loadNextPage())},updateLoading:function(t){var e=this.getLoadMoreCmp(),i=this.getLoadingCls();t?e.addCls(i):e.removeCls(i)},onStoreBeforeLoad:function(t){0===t.getCount()&&this.getLoadMoreCmp().hide()},onStoreLoad:function(t){var e=this.getLoadMoreCmp(),i=this.getLoadTpl(),n=this.storeFullyLoaded()?this.getNoMoreRecordsText():this.getLoadMoreText();t.getCount()&&e.show(),this.setLoading(!1),e.setHtml(i.apply({cssPrefix:Ext.baseCSSPrefix,message:n})),void 0!==this.currentScrollToTopOnRefresh&&(this.getList().setScrollToTopOnRefresh(this.currentScrollToTopOnRefresh),delete this.currentScrollToTopOnRefresh),this.enableDataViewMask()},onFilter:function(t){0===t.getCount()?this.getLoadMoreCmp().hide():this.getLoadMoreCmp().show()},addLoadMoreCmp:function(){var t=this.getList(),e=this.getLoadMoreCmp();return this.getLoadMoreCmpAdded()||(t.add(e),t.fireEvent("loadmorecmpadded",this,t),this.setLoadMoreCmpAdded(!0)),e},storeFullyLoaded:function(){var t=this.getList().getStore(),e=t.getTotalCount();return null!==e?t.getTotalCount()<=t.currentPage*t.getPageSize():!1},loadNextPage:function(){var t=this;t.storeFullyLoaded()||(t.disableDataViewMask(),t.setLoading(!0),t.getList().getStore().nextPage({addRecords:!0}))}}),Ext.define("Ext.plugin.PullRefresh",{extend:Ext.Component,alias:"plugin.pullrefresh",config:{width:"100%",list:null,pullText:"Pull down to refresh...",releaseText:"Release to refresh...",loadingText:"Loading...",loadedText:"Loaded.",lastUpdatedText:"Last Updated:&nbsp;",scrollerAutoRefresh:!1,autoSnapBack:!0,snappingAnimationDuration:300,lastUpdatedDateFormat:"m/d/Y h:iA",overpullSnapBackDuration:300,pullTpl:['<div class="x-list-pullrefresh-arrow"></div>','<div class="x-loading-spinner">','<span class="x-loading-top"></span>','<span class="x-loading-right"></span>','<span class="x-loading-bottom"></span>','<span class="x-loading-left"></span>',"</div>",'<div class="x-list-pullrefresh-wrap">','<h3 class="x-list-pullrefresh-message">{message}</h3>','<div class="x-list-pullrefresh-updated">{updated}</div>',"</div>"].join(""),translatable:!0},$state:"pull",getState:function(){return this.$state},setState:function(t){this.$state=t,this.updateView()},$isSnappingBack:!1,getIsSnappingBack:function(){return this.$isSnappingBack},setIsSnappingBack:function(t){this.$isSnappingBack=t},init:function(t){var e=this;e.setList(t),e.initScrollable()},getElementConfig:function(){return{reference:"element",classList:["x-unsized"],children:[{reference:"innerElement",className:Ext.baseCSSPrefix+"list-pullrefresh"}]}},initScrollable:function(){var t,e=this,i=e.getList(),n=i.getScrollable();n&&(t=n.getScroller(),t.setAutoRefresh(this.getScrollerAutoRefresh()),e.lastUpdated=new Date,i.insert(0,e),t.on({scroll:e.onScrollChange,scope:e}),this.updateView())},applyPullTpl:function(t){return t instanceof Ext.XTemplate?t:new Ext.XTemplate(t)},updateList:function(t,e){var i=this;t&&t!=e?t.on({order:"after",scrollablechange:i.initScrollable,scope:i}):e&&e.un({order:"after",scrollablechange:i.initScrollable,scope:i})},getPullHeight:function(){return this.innerElement.getHeight()},fetchLatest:function(){var t,e=this.getList().getStore(),i=e.getProxy();t=Ext.create("Ext.data.Operation",{page:1,start:0,model:e.getModel(),limit:e.getPageSize(),action:"read",sorters:e.getSorters(),filters:e.getRemoteFilter()?e.getFilters():[]}),i.read(t,this.onLatestFetched,this)},onLatestFetched:function(t){var e,i,n,r=this.getList().getStore(),s=r.getData(),a=t.getRecords(),o=a.length,l=[];for(n=0;o>n;n++)e=a[n],i=s.getByKey(e.getId()),i?i.set(e.getData()):l.push(e),i=void 0;r.insert(0,l),this.setState("loaded"),this.fireEvent("latestfetched",this,l),this.getAutoSnapBack()&&this.snapBack()},snapBack:function(t){if("loaded"===this.getState()||t===!0){var e=this.getList(),i=e.getScrollable().getScroller();i.refresh(),i.minPosition.y=0,i.on({scrollend:this.onSnapBackEnd,single:!0,scope:this}),this.setIsSnappingBack(!0),i.scrollTo(null,0,{duration:this.getSnappingAnimationDuration()})}},onSnapBackEnd:function(){this.setState("pull"),this.setIsSnappingBack(!1)},onScrollChange:function(t,e,i){if(0>=i){var n=this.getPullHeight(),r=this.getIsSnappingBack();"loaded"!==this.getState()||r||this.snapBack(),"loading"!==this.getState()&&"loaded"!==this.getState()&&(-i>=n+10?(this.setState("release"),t.getContainer().onBefore({dragend:"onScrollerDragEnd",single:!0,scope:this})):"release"===this.getState()&&n+10>-i&&(this.setState("pull"),t.getContainer().unBefore({dragend:"onScrollerDragEnd",single:!0,scope:this}))),this.getTranslatable().translate(0,-i)}},onScrollerDragEnd:function(){if("loading"!==this.getState()){var t=this.getList(),e=t.getScrollable().getScroller(),i=e.getTranslatable();this.setState("loading"),i.setEasingY({duration:this.getOverpullSnapBackDuration()}),e.minPosition.y=-this.getPullHeight(),e.on({scrollend:"fetchLatest",single:!0,scope:this})}},updateView:function(){var t=this.getState(),e=this.getLastUpdatedText()+Ext.util.Format.date(this.lastUpdated,this.getLastUpdatedDateFormat()),i={state:t,updated:e},n=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),r="get"+n+"Text";this[r]&&Ext.isFunction(this[r])&&(i.message=this[r].call(this)),this.innerElement.removeCls(["loaded","loading","release","pull"],Ext.baseCSSPrefix+"list-pullrefresh"),this.innerElement.addCls(this.getState(),Ext.baseCSSPrefix+"list-pullrefresh"),this.getPullTpl().overwrite(this.innerElement,i)}},function(){}),Ext.define("Ext.plugin.SortableList",{extend:Ext.Component,alias:"plugin.sortablelist",mixins:[Ext.mixin.Bindable],config:{list:null,handleSelector:"."+Ext.baseCSSPrefix+"list-sortablehandle"},init:function(t){this.setList(t)},updateList:function(t){t&&(t.initialized?this.attachListeners():t.on({initialize:"attachListeners",scope:this,single:!0}))},attachListeners:function(){var t=this.getList(),e=t.getScrollable().getScroller().getContainer();this.scrollerElement=e,e.onBefore({dragstart:"onScrollerDragStart",scope:this})},onScrollerDragStart:function(t,e){return Ext.DomQuery.is(e,this.getHandleSelector())?(this.animating||this.onDragStart(t,e),!1):void 0},onDragStart:function(t){var e=Ext.getCmp(t.getTarget("."+Ext.baseCSSPrefix+"list-item").id),i=this.getList(),n=i.getStore();this.scrollerElement.on({drag:"onDrag",dragend:"onDragEnd",scope:this}),this.positionMap=i.getItemMap(),this.listStore=n,this.previousIndexDistance=0,this.dragRow=e,this.dragRecord=e.getRecord(),this.dragRowIndex=this.currentDragRowIndex=e.$dataIndex,this.dragRowHeight=this.positionMap.getItemHeight(this.dragRowIndex),i.getInfinite()?this.startTranslate=this.positionMap.map[this.dragRowIndex]:(e.translate(0,0),this.startTranslate=0),e.addCls(Ext.baseCSSPrefix+"list-item-dragging")},onDrag:function(t){var e,i,n,r,s,a,o,l,u,h,c,d=this.getList(),f=d.listItems,g=d.getStore().data,p=this.dragRow,m=g.getKey(p.getRecord()),x=d.getListItemInfo(),E=this.positionMap,y=0;if(this.dragRowPosition=this.startTranslate+t.deltaY,p.translate(0,this.dragRowPosition),s=E.findIndex(this.dragRowPosition+this.dragRowHeight/2),r=d.getItemAt(s),r&&(y=s-this.currentDragRowIndex,0!==y)){for(c=0>y,e=0,n=Math.abs(y);n>e;e++)c?(o=this.currentDragRowIndex-e,i=d.getItemAt(o-1)):(o=this.currentDragRowIndex+e,i=d.getItemAt(o+1)),l=E.map[o],i.translate(0,l),u=i.getRecord(),h=g.getKey(u),Ext.Array.remove(g.items,u),Ext.Array.remove(g.all,u),g.items.splice(o,0,u),g.all.splice(o,0,u),g.indices[m]=g.indices[h],g.indices[h]=o,d.updateListItem(i,o,x),i.$position=l;a=f.indexOf(p),Ext.Array.remove(f,p),f.splice(a+y,0,p),p.$dataIndex=s,p.$position=E.map[s],this.currentDragRowIndex=s}},onDragEnd:function(){var t=this,e=this.dragRow,i=this.getList(),n=i.getListItemInfo(),r=e.$position;this.scrollerElement.un({drag:"onDrag",dragend:"onDragEnd",scope:this}),this.animating=!0,e.getTranslatable().on("animationend",function(){e.removeCls(Ext.baseCSSPrefix+"list-item-dragging"),i.updateListItem(e,e.$dataIndex,n),e.$position=r,i.fireEvent("dragsort",i,e,this.currentDragRowIndex,this.dragRowIndex),this.animating=!1},t,{single:!0}),e.translate(0,r,{duration:100})}}),Ext.define("Ext.tab.Tab",{extend:Ext.Button,xtype:"tab",alternateClassName:"Ext.Tab",isTab:!0,config:{baseCls:Ext.baseCSSPrefix+"tab",pressedCls:Ext.baseCSSPrefix+"tab-pressed",activeCls:Ext.baseCSSPrefix+"tab-active",active:!1,title:"&nbsp;"},updateIconCls:function(t,e){this.callParent([t,e]),e&&this.removeCls("x-tab-icon"),t&&this.addCls("x-tab-icon")},updateTitle:function(t){this.setText(t)},updateActive:function(t,e){var i=this.getActiveCls();t&&!e?(this.element.addCls(i),this.fireEvent("activate",this)):e&&(this.element.removeCls(i),this.fireEvent("deactivate",this))}},function(){this.override({activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)}})}),Ext.define("Ext.tab.Bar",{extend:Ext.Toolbar,alternateClassName:"Ext.TabBar",xtype:"tabbar",config:{baseCls:Ext.baseCSSPrefix+"tabbar",defaultType:"tab",layout:{type:"hbox",align:"middle"}},eventedConfig:{activeTab:null},platformConfig:[{theme:["Blackberry","CupertinoClassic","MountainView"],defaults:{flex:1}}],initialize:function(){var t=this;t.callParent(),t.on({tap:"onTabTap",delegate:"> tab",scope:t})},onTabTap:function(t){this.setActiveTab(t)},applyActiveTab:function(t,e){if(t||0===t){var i=this.parseActiveTab(t);return i?i:void(e&&Ext.Logger.warn("Trying to set a non-existent activeTab"))}},doSetDocked:function(t){var e,i=this.getLayout(),n=this.getInitialConfig();n.layout&&n.layout.pack||(e="bottom"==t?"center":"left",i.isLayout?i.setPack(e):i.pack=i&&i.pack?i.pack:e),this.callParent(arguments)},doSetActiveTab:function(t,e){t&&t.setActive(!0),e&&e.parent&&e.setActive(!1)},parseActiveTab:function(t){return"number"==typeof t?this.getItems().items[t]:("string"==typeof t&&(t=Ext.getCmp(t)),t)}}),Ext.define("Ext.tab.Panel",{extend:Ext.Container,xtype:"tabpanel",alternateClassName:"Ext.TabPanel",config:{ui:"dark",tabBar:!0,tabBarPosition:"top",layout:{type:"card",animation:{type:"slide",direction:"left"}},cls:Ext.baseCSSPrefix+"tabpanel"},initialize:function(){this.callParent(),this.on({order:"before",activetabchange:"doTabChange",delegate:"> tabbar",scope:this}),this.on({disabledchange:"onItemDisabledChange",delegate:"> component",scope:this})},platformConfig:[{theme:["Blackberry"],tabBarPosition:"bottom"}],applyScrollable:function(){return!1},updateUi:function(t){this.callParent(arguments),this.initialized&&this.getTabBar().setUi(t)},doSetActiveItem:function(t,e){if(t){var i=this.getInnerItems(),n=i.indexOf(e),r=i.indexOf(t),s=n>r,a=this.getLayout().getAnimation(),o=this.getTabBar(),l=o.parseActiveTab(n),u=o.parseActiveTab(r);a&&a.setReverse&&a.setReverse(s),this.callParent(arguments),-1!=r&&(this.forcedChange=!0,o.setActiveTab(r),this.forcedChange=!1,l&&l.setActive(!1),u&&u.setActive(!0))}},doTabChange:function(t,e){var i,n=this.getActiveItem();return this.setActiveItem(t.indexOf(e)),i=this.getActiveItem(),this.forcedChange||n!==i},applyTabBar:function(t){return t===!0&&(t={}),t&&Ext.applyIf(t,{ui:this.getUi(),docked:this.getTabBarPosition()}),Ext.factory(t,Ext.tab.Bar,this.getTabBar())},updateTabBar:function(t){t&&(this.add(t),this.setTabBarPosition(t.getDocked()))},updateTabBarPosition:function(t){var e=this.getTabBar();e&&e.setDocked(t)},onItemAdd:function(t){var e=this;if(!t.isInnerItem())return e.callParent(arguments);var i,n=e.getTabBar(),r=t.getInitialConfig(),s=r.tab||{},a=t.getTitle?t.getTitle():r.title,o=t.getIconCls?t.getIconCls():r.iconCls,l=t.getHidden?t.getHidden():r.hidden,u=t.getDisabled?t.getDisabled():r.disabled,h=t.getBadgeText?t.getBadgeText():r.badgeText,c=e.getInnerItems(),d=c.indexOf(t),f=n.getItems(),g=n.getActiveTab(),p=f.length>=c.length&&f.getAt(d);a&&!s.title&&(s.title=a),o&&!s.iconCls&&(s.iconCls=o),l&&!s.hidden&&(s.hidden=l),u&&!s.disabled&&(s.disabled=u),h&&!s.badgeText&&(s.badgeText=h),p||s.title||s.iconCls||s.title||s.iconCls||Ext.Logger.error("Adding a card to a tab container without specifying any tab configuration"),i=Ext.factory(s,Ext.tab.Tab,p),p||n.insert(d,i),t.tab=i,e.callParent(arguments),g||0===g||n.setActiveTab(n.getActiveItem())},onItemDisabledChange:function(t,e){t&&t.tab&&t.tab.setDisabled(e)},onItemRemove:function(t){this.getTabBar().remove(t.tab,this.getAutoDestroy()),this.callParent(arguments)}},function(){}),Ext.define("Ext.table.Cell",{extend:Ext.Container,xtype:"tablecell",config:{baseCls:"x-table-cell"},getElementConfig:function(){var t=this.callParent();return t.children.length=0,t}}),Ext.define("Ext.table.Row",{extend:Ext.table.Cell,xtype:"tablerow",config:{baseCls:"x-table-row",defaultType:"tablecell"}}),Ext.define("Ext.table.Table",{extend:Ext.Container,xtype:"table",config:{baseCls:"x-table",defaultType:"tablerow"},cachedConfig:{fixedLayout:!1},fixedLayoutCls:"x-table-fixed",updateFixedLayout:function(t){this.innerElement[t?"addCls":"removeCls"](this.fixedLayoutCls)}}),Ext.define("Ext.util.Droppable",{mixins:{observable:Ext.mixin.Observable},config:{baseCls:Ext.baseCSSPrefix+"droppable"},activeCls:Ext.baseCSSPrefix+"drop-active",invalidCls:Ext.baseCSSPrefix+"drop-invalid",hoverCls:Ext.baseCSSPrefix+"drop-hover",validDropMode:"intersect",disabled:!1,group:"base",tolerance:null,monitoring:!1,constructor:function(t,e){var i=this;e=e||{},Ext.apply(i,e),i.el=Ext.get(t),i.callParent(),i.mixins.observable.constructor.call(i),i.disabled||i.enable(),i.el.addCls(i.baseCls)},onDragStart:function(t,e){t.group===this.group?(this.monitoring=!0,this.el.addCls(this.activeCls),this.region=this.el.getPageBox(!0),t.on({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this}),this.isDragOver(t)&&this.setCanDrop(!0,t,e),this.fireEvent("dropactivate",this,t,e)):(t.on({dragend:function(){this.el.removeCls(this.invalidCls)},scope:this,single:!0}),this.el.addCls(this.invalidCls))},isDragOver:function(t){return this.region[this.validDropMode](t.region)},onDrag:function(t,e){this.setCanDrop(this.isDragOver(t),t,e)},setCanDrop:function(t,e,i){t&&!this.canDrop?(this.canDrop=!0,this.el.addCls(this.hoverCls),this.fireEvent("dropenter",this,e,i)):!t&&this.canDrop&&(this.canDrop=!1,this.el.removeCls(this.hoverCls),this.fireEvent("dropleave",this,e,i))},onBeforeDragEnd:function(t){t.cancelRevert=this.canDrop},onDragEnd:function(t,e){this.monitoring=!1,this.el.removeCls(this.activeCls),t.un({drag:this.onDrag,beforedragend:this.onBeforeDragEnd,dragend:this.onDragEnd,scope:this}),this.canDrop&&(this.canDrop=!1,this.el.removeCls(this.hoverCls),this.fireEvent("drop",this,t,e)),this.fireEvent("dropdeactivate",this,t,e)},enable:function(){this.mgr||(this.mgr=Ext.util.Observable.observe(Ext.util.Draggable)),this.mgr.on({dragstart:this.onDragStart,scope:this}),this.disabled=!1},disable:function(){this.mgr.un({dragstart:this.onDragStart,scope:this}),this.disabled=!0},isDisabled:function(){return this.disabled},isMonitoring:function(){return this.monitoring}}),Ext.define("Ext.util.TranslatableList",{extend:Ext.util.translatable.Abstract,config:{items:[]},applyItems:function(t){return Ext.Array.from(t)},doTranslate:function(t,e){var i,n,r,s,a=this.getItems(),o=0;for(i=0,n=a.length;n>i;i++)r=a[i],r&&!r._list_hidden&&(s=e+o,o+=r.$height,r.translate(0,s))}}),Ext.define("Ext.viewport.Default",{extend:Ext.Container,xtype:"viewport",PORTRAIT:"portrait",LANDSCAPE:"landscape",config:{autoMaximize:!1,autoBlurInput:!0,preventPanning:!0,preventZooming:!1,autoRender:!0,layout:"card",width:"100%",height:"100%",useBodyElement:!0,menus:{}},isReady:!1,isViewport:!0,isMaximizing:!1,id:"ext-viewport",isInputRegex:/^(input|textarea|select|a)$/i,isInteractiveWebComponentRegEx:/^(audio|video)$/i,focusedElement:null,fullscreenItemCls:Ext.baseCSSPrefix+"fullscreen",constructor:function(t){var e=Ext.Function.bind;return this.doPreventPanning=e(this.doPreventPanning,this),this.doPreventZooming=e(this.doPreventZooming,this),this.doBlurInput=e(this.doBlurInput,this),this.maximizeOnEvents=["ready","orientationchange"],window.devicePixelRatio=window.devicePixelRatio||1,this.callSuper([t]),this.orientation=this.determineOrientation(),this.windowWidth=this.getWindowWidth(),this.windowHeight=this.getWindowHeight(),this.windowOuterHeight=this.getWindowOuterHeight(),this.stretchHeights||(this.stretchHeights={}),(!Ext.os.is.Android||Ext.browser.is.ChromeMobile)&&(this.supportsOrientation()?this.addWindowListener("orientationchange",e(this.onOrientationChange,this)):this.addWindowListener("resize",e(this.onResize,this))),document.addEventListener("focus",e(this.onElementFocus,this),!0),document.addEventListener("blur",e(this.onElementBlur,this),!0),Ext.onDocumentReady(this.onDomReady,this),this.on("ready",this.onReady,this,{single:!0}),this.getEventDispatcher().addListener("component","*","fullscreen","onItemFullscreenChange",this),this},onDomReady:function(){this.isReady=!0,this.updateSize(),this.fireEvent("ready",this)},onReady:function(){this.getAutoRender()&&this.render(),"ChromeiOS"==Ext.browser.name&&this.setHeight("-webkit-calc(100% - "+(window.outerHeight-window.innerHeight)/2+"px)")},onElementFocus:function(t){this.focusedElement=t.target},onElementBlur:function(){this.focusedElement=null},render:function(){if(!this.rendered){var t=Ext.getBody(),e=Ext.baseCSSPrefix,i=[],n=Ext.os,r=n.name.toLowerCase(),s=Ext.browser.name.toLowerCase(),a=n.version.getMajor(),o=this.getOrientation();this.renderTo(t),i.push(e+n.deviceType.toLowerCase()),n.is.iPad&&i.push(e+"ipad"),i.push(e+r),i.push(e+s),a&&i.push(e+r+"-"+a),n.is.BlackBerry&&(i.push(e+"bb"),Ext.browser.userAgent.match(/Kbd/gi)&&i.push(e+"bb-keyboard")),Ext.browser.is.WebKit&&i.push(e+"webkit"),Ext.browser.is.Standalone&&i.push(e+"standalone"),Ext.browser.is.AndroidStock&&i.push(e+"android-stock"),Ext.browser.is.GoogleGlass&&i.push(e+"google-glass"),i.push(e+o),t.addCls(i)}},applyAutoBlurInput:function(t){var e=Ext.feature.has.Touch?"touchstart":"mousedown";return t?this.addWindowListener(e,this.doBlurInput,!1):this.removeWindowListener(e,this.doBlurInput,!1),t},applyAutoMaximize:function(t){return Ext.browser.is.WebView&&(t=!1),t?(this.on("ready","doAutoMaximizeOnReady",this,{single:!0}),this.on("orientationchange","doAutoMaximizeOnOrientationChange",this)):(this.un("ready","doAutoMaximizeOnReady",this),this.un("orientationchange","doAutoMaximizeOnOrientationChange",this)),t},applyPreventPanning:function(t){return t?this.addWindowListener("touchmove",this.doPreventPanning,!1):this.removeWindowListener("touchmove",this.doPreventPanning,!1),t},applyPreventZooming:function(t){var e=Ext.feature.has.Touch?"touchstart":"mousedown";return t?this.addWindowListener(e,this.doPreventZooming,!1):this.removeWindowListener(e,this.doPreventZooming,!1),t},doAutoMaximizeOnReady:function(){var t=arguments[arguments.length-1];t.pause(),this.isMaximizing=!0,this.on("maximize",function(){this.isMaximizing=!1,this.updateSize(),t.resume(),this.fireEvent("ready",this)},this,{single:!0}),this.maximize()},doAutoMaximizeOnOrientationChange:function(){var t=arguments[arguments.length-1],e=t.firingArguments;t.pause(),this.isMaximizing=!0,this.on("maximize",function(){this.isMaximizing=!1,this.updateSize(),e[2]=this.windowWidth,e[3]=this.windowHeight,t.resume()},this,{single:!0}),this.maximize()},doBlurInput:function(t){var e=t.target,i=this.focusedElement;i&&"BODY"!=i.nodeName.toUpperCase()&&!this.isInputRegex.test(e.tagName)&&(delete this.focusedElement,i.blur())},doPreventPanning:function(t){var e,i=t.target;this.isInteractiveWebComponentRegEx.test(i.tagName)&&t.touches&&t.touches.length>0&&(e=t.touches[0],e&&e.target&&this.isInputRegex.test(e.target.tagName))||i&&1===i.nodeType&&!this.isInputRegex.test(i.tagName)&&t.preventDefault()},doPreventZooming:function(t){if(!("button"in t&&0!==t.button)){var e,i=t.target;this.isInteractiveWebComponentRegEx.test(i.tagName)&&t.touches&&t.touches.length>0&&(e=t.touches[0],e&&e.target&&this.isInputRegex.test(e.target.tagName))||i&&1===i.nodeType&&!this.isInputRegex.test(i.tagName)&&t.preventDefault()}},addWindowListener:function(t,e,i){window.addEventListener(t,e,Boolean(i))},removeWindowListener:function(t,e,i){window.removeEventListener(t,e,Boolean(i))},doAddListener:function(t,e,i){return"ready"===t&&this.isReady&&!this.isMaximizing?(e.call(i),this):this.callSuper(arguments)},supportsOrientation:function(){return Ext.feature.has.Orientation},onResize:function(){var t=this.windowWidth,e=this.windowHeight,i=this.getWindowWidth(),n=this.getWindowHeight(),r=this.getOrientation(),s=this.determineOrientation();t!==i&&e!==n&&r!==s&&this.fireOrientationChangeEvent(s,r)},onOrientationChange:function(){var t=this.getOrientation(),e=this.determineOrientation();e!==t&&this.fireOrientationChangeEvent(e,t)},fireOrientationChangeEvent:function(t,e){var i=Ext.baseCSSPrefix;Ext.getBody().replaceCls(i+e,i+t),this.orientation=t,this.updateSize(),this.fireEvent("orientationchange",this,t,this.windowWidth,this.windowHeight)},updateSize:function(t,e){return this.windowWidth=void 0!==t?t:this.getWindowWidth(),this.windowHeight=void 0!==e?e:this.getWindowHeight(),this},waitUntil:function(t,e,i,n,r){n||(n=50),r||(r=2e3);var s=this,a=0;setTimeout(function o(){a+=n,t.call(s)===!0?e&&e.call(s):a>=r?i&&i.call(s):setTimeout(o,n)},n)},maximize:function(){this.fireMaximizeEvent()},fireMaximizeEvent:function(){this.updateSize(),this.fireEvent("maximize",this)},doSetHeight:function(t){Ext.getBody().setHeight(t),this.callParent(arguments)},doSetWidth:function(t){Ext.getBody().setWidth(t),this.callParent(arguments)},scrollToTop:function(){window.scrollTo(0,-1)},getWindowWidth:function(){return window.innerWidth},getWindowHeight:function(){return window.innerHeight},getWindowOuterHeight:function(){return window.outerHeight},getWindowOrientation:function(){return window.orientation},getOrientation:function(){return this.orientation},getSize:function(){return{width:this.windowWidth,height:this.windowHeight}},determineOrientation:function(){var t=this.PORTRAIT,e=this.LANDSCAPE;return!Ext.os.is.Android&&this.supportsOrientation()?this.getWindowOrientation()%180===0?t:e:this.getWindowHeight()>=this.getWindowWidth()?t:e},onItemFullscreenChange:function(t){t.addCls(this.fullscreenItemCls),this.add(t)},setMenu:function(t,e){var i=this;if(e=e||{},Ext.os.is.iOS&&!this.hasiOSOrientationFix&&(this.hasiOSOrientationFix=!0,this.on("orientationchange",function(){window.scrollTo(0,0)},this)),!t)return void Ext.Logger.error("You must specify a side to dock the menu.");if(!e.side)return void Ext.Logger.error("You must specify a side to dock the menu.");if(-1==["left","right","top","bottom"].indexOf(e.side))return void Ext.Logger.error("You must specify a valid side (left, right, top or botom) to dock the menu.");var n=i.getMenus();if(n||(n={}),!i.addedSwipeListener&&(i.addedSwipeListener=!0,i.element.on({tap:i.onTap,swipestart:i.onSwipeStart,edgeswipestart:i.onEdgeSwipeStart,edgeswipe:i.onEdgeSwipe,edgeswipeend:i.onEdgeSwipeEnd,scope:i}),window.blackberry)){var r=function(){var t=i.getMenus(),e=t.top;e&&(e.isHidden()?i.showMenu("top"):i.hideMenu("top"))};blackberry.app&&blackberry.app.event&&blackberry.app.event.onSwipeDown?blackberry.app.event.onSwipeDown(r):blackberry.event&&blackberry.event.addEventListener&&blackberry.event.addEventListener("swipedown",r)}n[e.side]=t,t.$reveal=Boolean(e.reveal),t.$cover=e.cover!==!1&&!t.$reveal,t.$side=e.side,i.fixMenuSize(t,e.side),"left"==e.side?(t.setLeft(0),t.setRight(null),t.setTop(0),t.setBottom(0)):"right"==e.side?(t.setLeft(null),t.setRight(0),t.setTop(0),t.setBottom(0)):"top"==e.side?(t.setLeft(0),t.setRight(0),t.setTop(0),t.setBottom(null)):"bottom"==e.side&&(t.setLeft(0),t.setRight(0),t.setTop(null),t.setBottom(0)),i.setMenus(n)},removeMenu:function(t){var e=this.getMenus()||{},i=e[t];i&&this.hideMenu(t),delete e[t],this.setMenus(e)},fixMenuSize:function(t,e){"top"==e||"bottom"==e?t.setWidth("100%"):("left"==e||"right"==e)&&t.setHeight("100%")},showMenu:function(t){var e,i,n,r,s=this.getMenus(),a=s[t];if(a&&!a.isAnimating){this.hideOtherMenus(t),e={translateX:0,translateY:0},i={translateX:0,translateY:0},n={translateX:0,translateY:0},r={translateX:0,translateY:0},a.$reveal?Ext.getBody().insertFirst(a.element):Ext.Viewport.add(a),a.show(),a.addCls("x-"+t);var o="left"==t||"right"==t?a.element.getWidth():a.element.getHeight();"left"==t?(e.translateX=-o,r.translateX=o):"right"==t?(e.translateX=o,r.translateX=-o):"top"==t?(e.translateY=-o,r.translateY=o):"bottom"==t&&(e.translateY=o,r.translateY=-o),a.$reveal?"scrollposition"!=Ext.browser.getPreferredTranslationMethod()&&a.translate(0,0):a.translate(e.translateX,e.translateY),a.$cover?(a.getTranslatable().on("animationend",function(){a.isAnimating=!1},this,{single:!0}),a.translate(i.translateX,i.translateY,{preserveEndState:!0,duration:200})):(this.translate(n.translateX,n.translateY),this.getTranslatable().on("animationend",function(){a.isAnimating=!1},this,{single:!0}),this.translate(r.translateX,r.translateY,{preserveEndState:!0,duration:200})),a.isAnimating=!0}},hideMenu:function(t,e){var i,n,r,s=this.getMenus(),a=s[t];e=e===!1?!1:!0,!a||a.isHidden()||a.isAnimating||(i={translateX:0,translateY:0},n={translateX:0,translateY:0},r="left"==t||"right"==t?a.element.getWidth():a.element.getHeight(),"left"==t?i.translateX=-r:"right"==t?i.translateX=r:"top"==t?i.translateY=-r:"bottom"==t&&(i.translateY=r),a.$cover?e?(a.getTranslatable().on("animationend",function(){a.isAnimating=!1,a.hide()},this,{single:!0}),a.translate(i.translateX,i.translateY,{preserveEndState:!0,duration:200})):(a.translate(i.translateX,i.translateY),a.hide()):e?(this.getTranslatable().on("animationend",function(){a.isAnimating=!1,a.hide()},this,{single:!0}),this.translate(n.translateX,n.translateY,{preserveEndState:!0,duration:200})):(this.translate(n.translateX,n.translateY),a.hide()))},hideAllMenus:function(t){var e=this.getMenus();for(var i in e)this.hideMenu(i,t)},hideOtherMenus:function(t,e){var i=this.getMenus();for(var n in i)t!=n&&this.hideMenu(n,e)},toggleMenu:function(t){var e,i=this.getMenus();i[t]&&(e=i[t],e.isHidden()?this.showMenu(t):this.hideMenu(t))},sideForDirection:function(t){return"left"==t?"right":"right"==t?"left":"up"==t?"bottom":"down"==t?"top":void 0},sideForSwipeDirection:function(t){return"up"==t?"top":"down"==t?"bottom":t},onTap:function(){},onSwipeStart:function(t){var e=this.sideForSwipeDirection(t.direction);this.hideMenu(e)},onEdgeSwipeStart:function(t){var e,i,n=this.sideForDirection(t.direction),r=this.getMenus(),s=r[n];if(s&&s.isHidden()){for(e in r)if(i=r[e],i.isHidden()!==!1)return;this.$swiping=!0,this.hideAllMenus(!1),s.$reveal?Ext.getBody().insertFirst(s.element):Ext.Viewport.add(s),s.show();
var a,o,l="left"==n||"right"==n?s.element.getWidth():s.element.getHeight();a={translateX:0,translateY:0},o={translateX:0,translateY:0},"left"==n?a.translateX=-l:"right"==n?a.translateX=l:"top"==n?a.translateY=-l:"bottom"==n&&(a.translateY=l);var u="webkitTransform"in document.createElement("div").style?"webkitTransform":"transform",h=s.element.dom.style[u];h&&(s.element.dom.style[u]=""),s.$reveal?"scrollposition"!=Ext.browser.getPreferredTranslationMethod()&&s.translate(0,0):s.translate(a.translateX,a.translateY),s.$cover||(h&&(this.innerElement.dom.style[u]=""),this.translate(o.translateX,o.translateY))}},onEdgeSwipe:function(t){var e=this.sideForDirection(t.direction),i=this.getMenus()[e];if(i&&this.$swiping){var n,r,s="left"==e||"right"==e?i.element.getWidth():i.element.getHeight(),a=Math.min(t.distance-s,0),o=Math.min(t.distance,s);n={translateX:0,translateY:0},r={translateX:0,translateY:0},"left"==e?(n.translateX=a,r.translateX=o):"right"==e?(n.translateX=-a,r.translateX=-o):"top"==e?(n.translateY=a,r.translateY=o):"bottom"==e&&(n.translateY=-a,r.translateY=-o),i.$cover?i.translate(n.translateX,n.translateY):this.translate(r.translateX,r.translateY)}},onEdgeSwipeEnd:function(t){var e=this.sideForDirection(t.direction),i=this.getMenus()[e],n=!1;if(i){var r="left"==e||"right"==e?i.element.getWidth():i.element.getHeight(),s=t.flick?t.flick.velocity:0;"right"==e?s.x>0&&(n=!0):"left"==e?s.x<0&&(n=!0):"top"==e?s.y<0&&(n=!0):"bottom"==e&&s.y>0&&(n=!0);var a,o,l=n?r:0,u=n?0:-r;a={translateX:0,translateY:0},o={translateX:0,translateY:0},"left"==e?(a.translateX=-l,o.translateX=-u):"right"==e?(a.translateX=l,o.translateX=u):"top"==e?(a.translateY=-l,o.translateY=-u):"bottom"==e&&(a.translateY=l,o.translateY=u),i.$cover?(i.getTranslatable().on("animationend",function(){n&&i.hide()},this,{single:!0}),i.translate(a.translateX,a.translateY,{preserveEndState:!0,duration:200})):(this.getTranslatable().on("animationend",function(){n&&i.hide()},this,{single:!0}),this.translate(o.translateX,o.translateY,{preserveEndState:!0,duration:200})),this.$swiping=!1}}}),Ext.define("Ext.viewport.Android",{extend:Ext.viewport.Default,config:{translatable:{translationMethod:"csstransform"}},constructor:function(){this.on("orientationchange","hideKeyboardIfNeeded",this,{prepend:!0}),this.callSuper(arguments);var t=this;Ext.onReady(function(){Ext.getBody().on("resize",t.onResize,t)})},getWindowWidth:function(){return this.element.getWidth()},getWindowHeight:function(){return this.element.getHeight()},getDummyInput:function(){var t=this.dummyInput,e=this.focusedElement,i=Ext.fly(e).getPageBox();return t||(this.dummyInput=t=document.createElement("input"),t.style.position="absolute",t.style.opacity="0",t.style.pointerEvents="none",document.body.appendChild(t)),t.style.left=i.left+"px",t.style.top=i.top+"px",t.style.display="",t},doBlurInput:function(t){var e,i=t.target,n=this.focusedElement;n&&!this.isInputRegex.test(i.tagName)&&(e=this.getDummyInput(),delete this.focusedElement,e.focus(),setTimeout(function(){e.style.display="none"},100))},hideKeyboardIfNeeded:function(){var t=arguments[arguments.length-1],e=this.focusedElement;e&&(delete this.focusedElement,t.pause(),Ext.os.version.lt("4")?e.style.display="none":e.blur(),setTimeout(function(){e.style.display="",t.resume()},1e3))},doFireOrientationChangeEvent:function(){var t=arguments[arguments.length-1];return this.orientationChanging=!0,t.pause(),this.waitUntil(function(){return this.getWindowOuterHeight()!==this.windowOuterHeight},function(){this.windowOuterHeight=this.getWindowOuterHeight(),this.updateSize(),t.firingArguments[2]=this.windowWidth,t.firingArguments[3]=this.windowHeight,t.resume(),this.orientationChanging=!1},function(){Ext.Logger.error("Timeout waiting for viewport's outerHeight to change before firing orientationchange",this)}),this},determineOrientation:function(){return this.getWindowHeight()>=this.getWindowWidth()?this.PORTRAIT:this.LANDSCAPE},getActualWindowOuterHeight:function(){return Math.round(this.getWindowOuterHeight()/window.devicePixelRatio)},maximize:function(){var t,e=this.stretchHeights,i=this.orientation;t=e[i],t||(e[i]=t=this.getActualWindowOuterHeight()),this.addressBarHeight||(this.addressBarHeight=t-this.getWindowHeight()),this.setHeight(t);var n=Ext.Function.bind(this.isHeightMaximized,this,[t]);this.scrollToTop(),this.waitUntil(n,this.fireMaximizeEvent,this.fireMaximizeEvent)},isHeightMaximized:function(t){return this.scrollToTop(),this.getWindowHeight()===t},supportsOrientation:function(){return!1},onResize:function(){this.waitUntil(function(){var t=this.windowWidth,e=this.windowHeight,i=this.getWindowWidth(),n=this.getWindowHeight(),r=this.getOrientation(),s=this.determineOrientation();return t!==i&&e!==n&&r!==s},function(){var t=this.getOrientation(),e=this.determineOrientation();this.fireOrientationChangeEvent(e,t)},Ext.emptyFn,250)},doPreventZooming:function(t){if(!("button"in t&&0!==t.button)){var e=t.target;!e||1!==e.nodeType||this.isInputRegex.test(e.tagName)||this.focusedElement||t.preventDefault()}}},function(){if(Ext.os.is.Android){var t=Ext.os.version,e=Ext.browser.userAgent,i=/(htc|desire|incredible|ADR6300)/i.test(e)&&t.lt("2.3");i&&this.override({constructor:function(t){return t||(t={}),t.autoMaximize=!1,this.watchDogTick=Ext.Function.bind(this.watchDogTick,this),setInterval(this.watchDogTick,1e3),this.callParent([t])},watchDogTick:function(){this.watchDogLastTick=Ext.Date.now()},doPreventPanning:function(){var t=Ext.Date.now(),e=this.watchDogLastTick,i=t-e;if(!(i>=2e3))return this.callParent(arguments)},doPreventZooming:function(){var t=Ext.Date.now(),e=this.watchDogLastTick,i=t-e;if(!(i>=2e3))return this.callParent(arguments)}}),t.match("2")?this.override({onReady:function(){this.addWindowListener("resize",Ext.Function.bind(this.onWindowResize,this)),this.callParent(arguments)},scrollToTop:function(){document.body.scrollTop=100},onWindowResize:function(){var t=this.windowWidth,e=this.windowHeight,i=this.getWindowWidth(),n=this.getWindowHeight();this.getAutoMaximize()&&!this.isMaximizing&&!this.orientationChanging&&0===window.scrollY&&t===i&&e>n&&(n>=e-this.addressBarHeight||!this.focusedElement)&&this.scrollToTop()}}):t.gtEq("3.1")?this.override({isHeightMaximized:function(t){return this.scrollToTop(),this.getWindowHeight()===t-1}}):t.match("3")&&this.override({isHeightMaximized:function(){return this.scrollToTop(),!0}}),t.gtEq("4")&&this.override({doBlurInput:Ext.emptyFn})}}),Ext.define("Ext.viewport.Ios",{extend:Ext.viewport.Default,isFullscreen:function(){return this.isHomeScreen()},isHomeScreen:function(){return window.navigator.standalone===!0},constructor:function(){this.callParent(arguments),this.getAutoMaximize()&&!this.isFullscreen()&&this.addWindowListener("touchstart",Ext.Function.bind(this.onTouchStart,this))},maximize:function(){if(this.isFullscreen())return this.callParent();var t=this.stretchHeights,e=this.orientation,i=this.getWindowHeight(),n=t[e];window.scrollY>0?(this.scrollToTop(),n||(t[e]=n=this.getWindowHeight()),this.setHeight(n),this.fireMaximizeEvent()):(n||(n=this.getScreenHeight()),this.setHeight(n),this.waitUntil(function(){return this.scrollToTop(),i!==this.getWindowHeight()},function(){t[e]||(n=t[e]=this.getWindowHeight(),this.setHeight(n)),this.fireMaximizeEvent()},function(){Ext.Logger.error("Timeout waiting for window.innerHeight to change",this),n=t[e]=this.getWindowHeight(),this.setHeight(n),this.fireMaximizeEvent()},50,1e3))},getScreenHeight:function(){return window.screen[this.orientation===this.PORTRAIT?"height":"width"]},onElementFocus:function(){this.getAutoMaximize()&&!this.isFullscreen()&&clearTimeout(this.scrollToTopTimer),this.callParent(arguments)},onElementBlur:function(){this.getAutoMaximize()&&!this.isFullscreen()&&(this.scrollToTopTimer=setTimeout(this.scrollToTop,500)),this.callParent(arguments)},onTouchStart:function(){null===this.focusedElement&&this.scrollToTop()},scrollToTop:function(){window.scrollTo(0,0)}},function(){Ext.os.is.iOS&&(Ext.os.version.lt("3.2")&&this.override({constructor:function(){var t=this.stretchHeights={};return t[this.PORTRAIT]=416,t[this.LANDSCAPE]=268,this.callOverridden(arguments)}}),Ext.os.version.lt("5")&&this.override({fieldMaskClsTest:"-field-mask",doPreventZooming:function(t){var e=t.target;e&&1===e.nodeType&&!this.isInputRegex.test(e.tagName)&&-1==e.className.indexOf(this.fieldMaskClsTest)&&t.preventDefault()}}),Ext.os.is.iPad&&this.override({isFullscreen:function(){return!0}}),Ext.os.version.gtEq("7")&&(("Tablet"===Ext.os.deviceType||!Ext.browser.is.Safari||window.navigator.standalone)&&this.override({constructor:function(){var t={},e={},i=this.determineOrientation(),n=window.screen.height,r=window.screen.width,s=i===this.PORTRAIT?n-window.innerHeight:r-window.innerHeight;t[this.PORTRAIT]=n-s,t[this.LANDSCAPE]=r-s,e[this.PORTRAIT]=r,e[this.LANDSCAPE]=n,this.stretchHeights=t,this.stretchWidths=e,this.callOverridden(arguments),this.on("ready",this.setViewportSizeToAbsolute,this),this.on("orientationchange",this.setViewportSizeToAbsolute,this)},getWindowHeight:function(){return this.stretchHeights[this.orientation]},getWindowWidth:function(){return this.stretchWidths[this.orientation]},setViewportSizeToAbsolute:function(){this.setWidth(this.getWindowWidth()),this.setHeight(this.getWindowHeight())}}),"Tablet"===Ext.os.deviceType&&this.override({constructor:function(){this.callOverridden(arguments),window.addEventListener("scroll",function(){0!==window.scrollX&&window.scrollTo(0,window.scrollY)},!1)},setViewportSizeToAbsolute:function(){window.scrollTo(0,0),this.callOverridden(arguments)},onElementBlur:function(){this.callOverridden(arguments),0!==window.scrollY&&window.scrollTo(0,0)}})))}),Ext.define("Ext.viewport.WindowsPhone",{requires:[],alternateClassName:"Ext.viewport.WP",extend:Ext.viewport.Default,config:{translatable:{translationMethod:"csstransform"}},initialize:function(){var t=function(t){var e=t.srcElement.nodeName.toUpperCase(),i=["INPUT","TEXTAREA"];return-1==i.indexOf(e)?!1:void 0};document.body.addEventListener("onselectstart",t),this.callParent(arguments)},supportsOrientation:function(){return!1},onResize:function(){this.waitUntil(function(){var t=this.windowWidth,e=this.windowHeight,i=this.getWindowWidth(),n=this.getWindowHeight(),r=this.getOrientation(),s=this.determineOrientation();return t!==i&&e!==n&&r!==s},function(){var t=this.getOrientation(),e=this.determineOrientation();this.fireOrientationChangeEvent(e,t)},Ext.emptyFn,250)}}),Ext.define("Ext.viewport.Viewport",{constructor:function(t){var e,i,n=Ext.os.name;switch(n){case"Android":e="ChromeMobile"==Ext.browser.name?"Default":"Android";break;case"iOS":e="Ios";break;case"Windows":e="IE"==Ext.browser.name?"WindowsPhone":"Default";break;case"WindowsPhone":e="WindowsPhone";break;default:e="Default"}return i=Ext.create("Ext.viewport."+e,t)}});