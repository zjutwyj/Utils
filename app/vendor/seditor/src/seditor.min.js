var styleutil={isIE:function(){var e=!1,t=!1,l=!1;return $.browser.msie&&("6.0"==$.browser.version?e=!0:"7.0"==$.browser.version?t=!0:"8.0"==$.browser.version&&(l=!0)),msieLow=e||t||l},addEvent:function(e,t,l){if(e.attachEvent)e.attachEvent(t,l);else if(e.addEventListener){var a=t.toString().replace(/on(.*)/i,"$1");e.addEventListener(a,l,!1)}else e[t]=l},getEvent:function(e){return e||(e=window.event,e.target=e.srcElement,e.layerX=e.offsetX,e.layerY=e.offsetY,e.stopProgressive=function(e){e.cancelBubble=!0},e.buttonValue=function(e){return 1==e.button?0:4==e.button?1:2}),e.pageX=e.pageX||e.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,e.pageY=e.pageY||e.clientY+document.documentElement.scrollTop+document.body.scrollTop,e},keyEvent:function(e,t,l){styleutil.addEvent(e,t,function(e){l.call(null,styleutil.getEvent(e).keyCode)})},request:function(e){for(var t=location.href,l=t.substring(t.indexOf("?")+1,t.length).split("&"),a={},s=0,i=l.length;i>s;s++){var n=l[s];a[n.substring(0,n.indexOf("="))]=n.substring(n.indexOf("=")+1,n.length)}var o=a[e];return"undefined"==typeof o?"":o},findClosing:function(e,t,l){var a=e.indexOf(t,l);if(-1==a)throw new Error("Missing closing '"+t+"'");return a},cssRuleList:function(e){return styleutil.splitCss(e,"{","}")},splitCss:function(e,t,l){for(var a,s=0,i=0,n=[];s<e.length;)if(e.charAt(s)==t){a=e.slice(i,s);var o=styleutil.findClosing(e,l,s+1);n.push(a.replace(/^[\n\s]*/g,"")+e.slice(s,o+1)),s=i=o+1}else s++;return n},split:function(e,t,l){for(var a=0,s=[],i=e.length;i>a;)if(e.charAt(a)==t){var n=styleutil.findClosing(e,l,a+1);s.push(e.slice(a+1,n)),a=n+1}else a++;return s},toCssJSON:function(e){var t=[];for(var l in e){var a=[];for(var s in e[l])a.push(s+":"+e[l][s]);t.push(l+"{"+a.join(";")+"}")}return t.join("")},getCssJSON:function(e){var t=[];return styleutil.forEach(e,function(e){var l=[];for(var a in e.style)l.push(a+":"+e.style[a]);t.push(e.selector+"{"+l.join(";")+"}")}),t.join(" ")},jsonToCSS:function(e){var t={},l=[];return l=e.split(";"),styleutil.forEach(l,function(e){if(""!=$.trim(e)){for(var l=e.split(":"),a=l[1],s=2,i=l.length;i>s;s++)a+=":"+l[s];t[$.trim(l[0])]=$.trim(a)}}),t},cssToObject:function(e){var t=[];return styleutil.forEach(e,function(e){var l={},a=styleutil.split(e,"{","}")[0],s=e.substring(0,e.indexOf("{"));l.selector=$.trim(s),l.style=styleutil.jsonToCSS(a.replace(/{(.*)}/g,"$1")),t.push(l)}),t},forEach:function(e,t){for(var l=0,a=e.length;a>l;l++)t(e[l])},reduce:function(e,t){styleutil.forEach(e,function(){t.apply(null,arguments)})},getRuleValue:function(e,t,l){var a="";return styleutil.forEach(e,function(e){e.selector==l&&(a=e.style[t])}),a},setRuleValue:function(e,t,l,a){var s=!1;styleutil.reduce(e,function(e){e.selector==t&&(e.style[l]=a,s=!0)}),s||styleutil.appendRule(e,t,l,a)},appendRule:function(e,t,l,a){var s={};s.selector=t,s.style={},s.style[l]=a,e.push(s)},hasSelect:function(e,t){var l;styleutil.forEach(e,function(e){return e.selector==t&&(l=e),l})},dialog:function(e,t){art.dialog.open(e,t)},range:function(e,t,l,a,s){var i={maxval:parseInt(l,10),interval:1,defaultValue:parseInt(t,10)};"function"==typeof a&&(i.moveCallback=a),"function"==typeof s&&(i.finishedCallback=s),$(e).slidy(i)},resizeable:function(e){$.each(e,function(){var e,t,l,a;$(this).mousedown(function(s){e=$(this).width(),t=$(this).height(),l=parseInt(s.pageX,10),a=parseInt(s.pageY,10)})})},scale:function(e,t,l,a){e.onmousedown=function(s){var i=document;s||(s=window.event),s.pageX||(s.pageX=s.clientX),s.pageY||(s.pageY=s.clientY);var n=s.pageX,o=s.pageY;e.setCapture?e.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),i.onmousemove=function(e){e||(e=window.event),e.pageX||(e.pageX=e.clientX),e.pageY||(e.pageY=e.clientY);var s=e.pageX-n,i=e.pageY-o;"function"!=typeof a&&(a=!1),a&&a(t+s,l+i)},i.onmouseup=function(){e.releaseCapture?e.releaseCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),i.onmousemove=null,i.onmouseup=null}}},drag:function(e,t){e.onmousedown=function(l){var a=document;l||(l=window.event);var s=l.layerX?l.layerX:l.offsetX,i=l.layerY?l.layerY:l.offsetY;e.setCapture?e.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),a.onmousemove=function(l){l||(l=window.event),l.pageX||(l.pageX=l.clientX),l.pageY||(l.pageY=l.clientY);var a=l.pageX-s,n=l.pageY-i;t?(t.style.left=a+"px",t.style.top=n+"px"):(e.style.left=a+"px",e.style.top=n+"px")},a.onmouseup=function(){e.releaseCapture?e.releaseCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP),a.onmousemove=null,a.onmouseup=null}}},scaleable:function(e,t){styleutil.scale(e,$(e).width(),$(e).height(),t)},getTagName:function(e){return e.tagName.toLowerCase()},clearAllNode:function(e){for(;e.firstChild;){var t=e.removeChild(e.firstChild);t=null}},getElementSize:function(e,t){var l=$(e).css(t);return("auto"==l||"medium"==l||""==l||"normal"==l)&&(l=0),parseInt(l,10)}},styletool={styleContainer:{modify:!1,curModuleId:"",curControl:"",curSelector:"",curPanel:"normal",curDrag:null,curIndex:0,moduleStyle:{},cssRuleList:[],cssObjectList:[],pictures:[],append:"",javascript:"",css:"",moduleContainer:{},defaultStyle:{},styleId:"",containerH:280,rootNavList:[],result:"",treeHover:!1,resizeHandle:[],StyleResFileList:[]},start:function(e,t,l){this.styleContainer.cssStr=l,this.updatePanel(e,t),this.showPanel()},updatePanel:function(e,t){this.removePanel(),this.createPanel(),styletool.styleContainer.curModuleId=e,styletool.styleContainer.curControl=top.$(t),styletool.styleContainer.curSelector=t,e in styletool.styleContainer.moduleContainer||this.initModuleStyle(),this.doModuleStyle(),this.init()},initModuleStyle:function(){styletool.styleContainer.result=this.getResultByModuleId(styletool.styleContainer.curModuleId),styletool.filterResult(styletool.styleContainer.result),styletool.styleContainer.moduleStyle.hasOwnProperty("styleId")?styletool.setModuleStyle():styletool.setDefaultStyle(),styletool.appendToModuleContainer()},getResultByModuleId:function(e){var t;return styletool.styleContainer[e]?t=styletool.styleContainer[e]:(t=jQuery.parseJSON(styletool.styleContainer.cssStr),styletool.styleContainer[e]=t),t},appendToModuleContainer:function(){var e={styleId:styletool.styleContainer.styleId,pictures:styletool.styleContainer.pictures,append:styletool.styleContainer.append,javascript:styletool.styleContainer.javascript,css:styletool.styleContainer.css,modify:!1,cssRuleList:styletool.styleContainer.cssRuleList,cssObjectList:styletool.styleContainer.cssObjectList};styletool.styleContainer.moduleContainer[styletool.styleContainer.curModuleId]=e,styletool.styleContainer.result=""},changePanel:function(e){"undefined"!=typeof e&&(styletool.styleContainer.curPanel=e),styletool.removePanel(),styletool.createPanel(),styletool.doModuleStyle(),styletool.init(),styletool.showPanel()},showPanel:function(){$("#styletool").show(),$("#styletool-canvas").show()},removePanel:function(){$("#styletool").empty(),$(".jPicker").remove()},createPanel:function(){switch(styletool.styleContainer.curPanel){case"normal":styletool.createNormalPanel();break;case"size":styletool.createSizePanel();break;case"background":styletool.createBackgroundPanel();break;case"text":styletool.createTextPanel();break;case"box":styletool.createBoxPanel();break;case"hand":styletool.createHandPanel();break;default:styletool.createSizePanel()}},doModuleStyle:function(){var e=$("#styletool .global-area  .handlestyle");styletool.initModuleCss(e)},init:function(){$.each($("#styletool .style-rating-size"),function(){styletool.setSizeHandle($(this))}),$.each($("#styletool .style-rating-opacity"),function(){styletool.setOpacityHandle($(this))}),$.each($("#styletool .style-range-add"),function(){$(this).click(function(){var e=styletool.getHandleStyle($(this)),t=parseInt(e.val(),10);e.val(++t),e.change()})}),$.each($("#styletool .style-range-dec"),function(){$(this).click(function(){var e=styletool.getHandleStyle($(this)),t=parseInt(e.val());e.val(0==t?t:--t),e.change()})}),$.each($(".sample-input"),function(){$(this).change(function(){"z-index"==$(this).attr("name")?styletool.setIndexHandle($(this)):styletool.setInputHandle($(this))})}),$.each($("#styletool .style-bg-color-span,#styletool .style-border-color,#styletool .color"),function(){var e="transparent",t=styletool.getHandleStyle($(this)),l=styleutil.getRuleValue(styletool.styleContainer.cssObjectList,$(this).attr("name"),styletool.styleContainer.curSelector)||"transparent",a={alphaSupport:!0};if("transparent"==l)var a={alphaSupport:!0,active:new $.jPicker.Color({hex:null,a:0})};else var a={alphaSupport:!0,active:new $.jPicker.Color({hex:l})};$(this).jPicker({window:{expandable:!0},color:a},function(l){e=null==l.val("all")?"transparent":"#"+l.val("all").hex,styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),e),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e)},function(l){defaultvalue="transparent",e=null==l.val("all")?"transparent":"#"+l.val("all").hex,styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e)})}),$.each($("#styletool .select"),function(){var e=$(this);e.change(function(){styletool.setSelectHandle(e)})}),$.each($("#styletool .checkbox"),function(){var e=$(this);e.click(function(){styletool.setCheckboxHandle(e)})}),$.each($("#styletool .bg-img-btn"),function(){var e=$(this);e.click(function(){var e=$(this),t=function(t){styletool.setBackgroundHandle(e,"url("+t+")"),e.parents(".handleitem:first").find(".background-image-sample").css("background-image","url("+t+")")};art.dialog.open("/common/upload/fiy_upload.html?pageType=styletool&pic_num=1",{id:"updateStyleCss",title:"选择图片",init:function(){var e=this.iframe.contentWindow;e.updateStyleCss=t}})})}),$.each($("#styletool .bg-image-remove-btn"),function(){var e=$(this);e.click(function(){styletool.setBackgroundHandle($(this),"none"),$(this).parents(".handleitem:first").find(".background-image-sample").css("background-image","url(themes/default/img/style-bg-image.gif)")})}),$.each($("#styletool .style-bg-pos"),function(){$("span",$(this)).bind("click",function(){var e=$(this).attr("class");$.each($(this).siblings(),function(){var e=$(this).attr("class");$(this).attr("class",e.replace(/\s+[\w|-]*/g,""))}),$(this).addClass(e+"-selected"),styletool.updateCssObjectList(styletool.styleContainer.curSelector,"background-position",$(this).attr("value")),styletool.setSiteCss(styletool.styleContainer.curControl,"background-position",$(this).attr("value"))})})},changeModule:function(e){var t=$(e).parents(".moveChild:first").attr("data-piece"),l=styletool.getHandleSelector(t,$(e));return"undefined"==typeof t&&(t=$(e).attr("data-piece")),styletool.styleContainer.curModuleId=t,styletool.styleContainer.curSelector=l,{moduleId:t,selector:l}},getHandleSelector:function(e,t){var l="";return"undefined"==typeof e||""==e?(e=$(t).attr("data-piece"),l="#"+e):l="#"+e+" "+styletool.getSelector($(t)),l},closeCanvas:function(){$("#styletool-canvas").hide()},filterResult:function(e){styletool.styleContainer.StyleResFileList=e,styleutil.forEach(styletool.styleContainer.StyleResFileList,function(e){"02"==e.type?styletool.styleContainer.defaultStyle=e:styletool.styleContainer.moduleStyle=e})},setDefaultStyle:function(){styletool.filterCss(styletool.styleContainer.defaultStyle),styletool.styleContainer.styleId=""},splitStyle:function(e){styletool.styleContainer.pictures=$.parseJSON(e.pictures)||[],styletool.styleContainer.css=e.css,styletool.styleContainer.js=e.js,styletool.styleContainer.append=e.append,styletool.styleContainer.styleId=e.styleId},filterCss:function(e){styletool.splitStyle(e),styletool.styleContainer.cssRuleList=styleutil.cssRuleList(styletool.styleContainer.css),styletool.styleContainer.cssObjectList=styleutil.cssToObject(styletool.styleContainer.cssRuleList)},setModuleStyle:function(){styletool.filterCss(styletool.styleContainer.moduleStyle)},initModuleCss:function(e){var t=["text","textarea","select","checkbox","background-image","background-repeat","background-color","background-position","border-top","border-left","border-right","border-bottom"];$.each(e,function(){for(var e="text",l=$(this).attr("name"),a=styleutil.getRuleValue(styletool.styleContainer.cssObjectList,l,styletool.styleContainer.curSelector),s=0,i=t.length;i>s;s++)if(-1!=$(this).attr("class").indexOf(t[s])){e=t[s];break}switch(e){case"text":$(this).val("opacity"==l?a||100*parseFloat(top.$(styletool.styleContainer.curSelector).css(l)):"border-radius"==l?a||parseInt(top.$(styletool.styleContainer.curSelector).css(l))||0:parseInt(a,10)||styleutil.getElementSize(styletool.styleContainer.curControl,l));break;case"textarea":break;case"select":("undefined"==typeof a||""==a)&&(a=top.$(styletool.styleContainer.curSelector).css(l)),"undefined"!=typeof a&&$("[value="+a+"]",$(this)).attr("selected","selected");break;case"checkbox":a==$(this).val()&&$(this).attr("checked","checked");break;case"background-color":break;case"background-image":var n=styleutil.getRuleValue(styletool.styleContainer.cssObjectList,$(this).attr("name"),styletool.styleContainer.curSelector)||"url(themes/default/img/style-bg-image.gif)";$(this).parents(".global-bg-upload:first").find(".background-image-sample").css("background-image",n);break;case"background-repeat":break;case"background-position":"undefined"!=typeof a&&$("span",$(this)).filter(function(){return $(this).attr("value")==a}).addClass(a.replace(" ","-")+"-selected");break;default:$(this).val(parseInt(styleutil.getRuleValue(styletool.styleContainer.cssObjectList,$(this).attr("name"),styletool.styleContainer.curSelector),10))}})},createNormalPanel:function(){var e='<div id="global-bg-conf" class="global-area clearfix"><div class="global-bg-upload relative clearfix"><div class="handleitem clearfix left"><div id="global-bg-image" class="background-image-sample left" ></div><div class="left"><p id="global-bg-image-btn" class=""><a class="bg-img-btn handlestyle background-image"  name="background-image" href="javascript:void(0);">更改背景</a></p><p style="padding-left: 76px; padding-top: 11px;"><span class=""><a href="javascript:void(0);"  id="global-bg-remove" class="bg-image-remove-btn"><img width="14" height="14" align="absmiddle" src="themes/default/img/style-bg-remove.gif">移除背景</a></span></p></div></div><p class="global-bg-p left"><span class="handleitem"> <span>背景色</span> <span class="style-bg-color-span handlestyle background-color"  name="background-color"></span> </span></p></div><div id="global-bg-pos-area" class="global-bg-pos-area"><div id="global-bg-pos" class="style-bg-pos clearfix"><div class="handleitem handlestyle background-position" name="background-position"><span class="top-left" value="top left">&nbsp;</span> <span class="top-center" value="top center">&nbsp;</span> <span class="top-right" value="top right">&nbsp;</span> <span class="center-left" value="center left">&nbsp;</span> <span class="center-center" value="center center">&nbsp;</span> <span class="center-right" value="center right">&nbsp;</span> <span class="bottom-left" value="bottom left">&nbsp;</span> <span class="bottom-center" value="bottom center">&nbsp;</span> <span class="bottom-right" value="bottom right">&nbsp;</span></div></div></div><div id="global-bg-repeat-area" class="global-bg-repeat-area left"><div id="global-bg-repeat" class="style-bg-repeat clearfix"><p class="handleitem"><input name="background-attachment" type="checkbox"  class="handlestyle checkbox" default="scroll" value="fixed" id="background-attachment"><label  for="background-attachment">背景固定</label></p><p>背景重复</p><div class="handleitem"><select name="background-repeat"  class="handlestyle style-background-repeat select"><option value="repeat">平铺</option><option value="repeat-x">横向平铺</option><option value="repeat-y">纵向平铺</option><option value="no-repeat">不平铺</option></select></div></div></div>NaN';$("#styletool").append($(e));var t='<div id="global-size-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">宽度</div><div class="global-c style-range left"><div id="width" class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="1280" type="text" value="0" id="global-range-input-width" name="width"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div><div class="handleitem"><div class="style-label left">高度</div><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="500" type="text"  value="0" id="global-range-input-height" name="height"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div>';$("#styletool").append($(t));var e='<div id="global-text-conf" class="global-area clearfix"><div class="handleitem left"><div class="style-label left">文字</div><div class="global-c style-range left"><div id="font-size" class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="50" type="text" value="0"  name="font-size"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div><div class="handleitem left"><div class="style-label left">行高</div><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="50" type="text" value="0"  name="line-height"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div><div id="global-talign-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">文字对齐</div><div class="left clearfix"><select name="text-align" class="handlestyle select text-align"><option value="left">左对齐</option><option value="center">居中对齐</option><option value="right">右对齐</option></select></div></div><div class="style-label left">文字颜色</div><div class="handleitem left space"><div name="color" class="font-color handlestyle color"></div></div><div class="handleitem left"><input name="font-weight" type="checkbox"  class="handlestyle checkbox" default="normal" value="bold" id="font-weight"><label  for="font-weight">粗体</label></div><div class="handleitem left"><input name="font-style" type="checkbox"  class="handlestyle checkbox" default="normal" value="italic" id="font-style"><label  for="font-style">斜体</label></div></div>';$("#styletool").append($(e))},createSizePanel:function(){var e='<div id="global-size-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">宽度</div><div class="global-c style-range left"><div id="width" class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="1280" type="text" value="0" id="global-range-input-width" name="width"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div><div class="handleitem"><div class="style-label left">高度</div><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="500" type="text"  value="0" id="global-range-input-height" name="height"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div>';$("#styletool").append($(e));var t='<div id="global-pos-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">定位模式</div><div class="left clearfix"><select name="position" class="handlestyle select position"><option value="static">静态</option><option value="relative">相对定位</option><option value="absolute">绝对定位</option></select></div></div><div class="handleitem"><div class="style-label left">X轴</div><div class="style-range-area left clearfix"><input class="left handlestyle sample-input text"  type="text"  value="0"  name="left"><div class="style-range-handle right"><p><img width="15" height="8" src="vendor/range/themes/range-up.gif" class="style-range-add"></p><p><img width="15" height="8" src="vendor/range/themes/range-down.gif" class="style-range-dec"></p></div></div></div><div class="handleitem"><div class="style-label left">Y轴</div><div class="style-range-area left clearfix"><input class="left handlestyle sample-input text"  type="text"  value="0"  name="top"><div class="style-range-handle right"><p><img width="15" height="8" src="vendor/range/themes/range-up.gif" class="style-range-add"></p><p><img width="15" height="8" src="vendor/range/themes/range-down.gif" class="style-range-dec"></p></div></div></div></div><div id="global-float-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">浮动模式</div><div class="left clearfix"><select name="float" class="handlestyle select float"><option value="none">无</option><option value="left">左浮动</option><option value="right">右浮动</option></select></div></div></div><div id="global-overflow-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">内容溢出</div><div class="left clearfix"><select name="overflow" class="handlestyle select overflow"><option value="hidden">溢出隐藏</option><option value="visible">溢出显示</option><option value="scroll">滚动条</option></select></div></div></div><div id="global-index-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">层叠顺序</div><div class="style-range-area left clearfix"><input class="left handlestyle sample-input text"  type="text"  value="0"  name="z-index"><div class="style-range-handle right"><p><img width="15" height="8" src="vendor/range/themes/range-up.gif" class="style-range-add"></p><p><img width="15" height="8" src="vendor/range/themes/range-down.gif" class="style-range-dec"></p></div></div></div></div><div id="global-valign-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">垂直对齐方式</div><div class="left clearfix"><select name="vertical-align" class="handlestyle select vertical-align"><option value="baseline">默认</option><option value="top">顶端对齐</option><option value="text-top">文字顶端对齐</option><option value="middle">居中对齐</option><option value="text-bottom">文字底部对齐</option><option value="bottom">底部对齐</option><option value="sub">文本下标对齐</option><option value="super">文本上标对齐</option></select></div></div></div>';$("#styletool").append($(t))},createBackgroundPanel:function(){var e='<div id="global-size-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">透明</div><div class="global-c style-range left"><div class="style-rating-opacity"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" type="text" maxval="100" value="100" id="global-range-input-height" name="opacity"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div><div class="handleitem"><div class="style-label left">圆角</div><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" type="text" maxval="50" value="0" id="global-range-input-height" name="border-radius"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div>';$("#styletool").append($(e));var t='<div id="global-bg-conf" class="global-area clearfix"><div class="global-bg-upload relative clearfix"><div class="handleitem clearfix left"><div id="global-bg-image" class="background-image-sample left" ></div><div class="left"><p id="global-bg-image-btn" class=""><a class="bg-img-btn handlestyle background-image"  name="background-image" href="javascript:void(0);">更改背景</a></p><p style="padding-left: 76px; padding-top: 11px;"><span class=""><a href="javascript:void(0);"  id="global-bg-remove" class="bg-image-remove-btn"><img width="14" height="14" align="absmiddle" src="themes/default/img/style-bg-remove.gif">移除背景</a></span></p></div></div><p class="global-bg-p left"><span class="handleitem"> <span>背景色</span> <span class="style-bg-color-span handlestyle background-color"  name="background-color"></span> </span></p></div><div id="global-bg-pos-area" class="global-bg-pos-area"><div id="global-bg-pos" class="style-bg-pos clearfix"><div class="handleitem handlestyle background-position" name="background-position"><span class="top-left" value="top left">&nbsp;</span> <span class="top-center" value="top center">&nbsp;</span> <span class="top-right" value="top right">&nbsp;</span> <span class="center-left" value="center left">&nbsp;</span> <span class="center-center" value="center center">&nbsp;</span> <span class="center-right" value="center right">&nbsp;</span> <span class="bottom-left" value="bottom left">&nbsp;</span> <span class="bottom-center" value="bottom center">&nbsp;</span> <span class="bottom-right" value="bottom right">&nbsp;</span></div></div></div><div id="global-bg-repeat-area" class="global-bg-repeat-area left"><div id="global-bg-repeat" class="style-bg-repeat clearfix"><p class="handleitem"><input name="background-attachment" type="checkbox"  class="handlestyle checkbox" default="scroll" value="fixed" id="background-attachment"><label  for="background-attachment">背景固定</label></p><p>背景重复</p><div class="handleitem"><select name="background-repeat"  class="handlestyle style-background-repeat select"><option value="repeat">平铺</option><option value="repeat-x">横向平铺</option><option value="repeat-y">纵向平铺</option><option value="no-repeat">不平铺</option></select></div></div></div>NaN';$("#styletool").append($(t))},createTextPanel:function(){var e='<div id="global-text-conf" class="global-area clearfix"><div class="handleitem left"><div class="style-label left">文字</div><div class="global-c style-range left"><div id="font-size" class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="50" type="text" value="0"  name="font-size"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div><div class="handleitem left"><div class="style-label left">行高</div><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="50" type="text" value="0"  name="line-height"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div><div id="global-talign-conf" class="global-area clearfix"><div class="handleitem"><div class="style-label left">文字对齐</div><div class="left clearfix"><select name="text-align" class="handlestyle select text-align"><option value="left">左对齐</option><option value="center">居中对齐</option><option value="right">右对齐</option></select></div></div><div class="style-label left">文字颜色</div><div class="handleitem left space"><div name="color" class="font-color handlestyle color"></div></div><div class="handleitem left"><input name="font-weight" type="checkbox"  class="handlestyle checkbox" default="normal" value="bold" id="font-weight"><label  for="font-weight">粗体</label></div><div class="handleitem left"><input name="font-style" type="checkbox"  class="handlestyle checkbox" default="normal" value="italic" id="font-style"><label  for="font-style">斜体</label></div></div><div id="global-space-conf" class="global-area clearfix"><div class="handleitem left"><div class="style-label left">文字间距</div><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="10" type="text" value="0"  name="letter-spacing"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div><div id="global-indent-conf" class="global-area clearfix"><div class="handleitem left"><div class="style-label left">首行缩进</div><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="20" type="text" value="0"  name="text-indent"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div>';$("#styletool").append($(e))},createBoxPanel:function(){var e='<div id="global-border-conf" class="global-area clearfix"><div class="style-border clearfix">'+styletool.createBorderHtml("border-top")+styletool.createBorderHtml("border-right")+styletool.createBorderHtml("border-bottom")+styletool.createBorderHtml("border-left")+"</div></div>";e+='<div id="global-padding-conf" class="global-area clearfix"><div class="style-padding clearfix">'+styletool.createPaddingHtml("padding-top","上")+styletool.createPaddingHtml("padding-right","右")+styletool.createPaddingHtml("padding-bottom","下")+styletool.createPaddingHtml("padding-left","左")+"</div></div>",e+='<div id="global-margin-conf" class="global-area clearfix"><div class="style-padding clearfix">'+styletool.createMarginHtml("margin-top","上")+styletool.createMarginHtml("margin-right","右")+styletool.createMarginHtml("margin-bottom","下")+styletool.createMarginHtml("margin-left","左")+"</div></div>",$("#styletool").append($(e))},createMarginHtml:function(e,t){return'<div class="style-margin-item left"><div class="style-border-sample space left"><img width="23" height="23" src="themes/default/img/style-'+e+'.gif"></div><div class="left" style="padding-left:20px;">边距'+t+'</div><div class="handleitem space left" style="padding-left: 45px;"><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="50" type="text"  value="0" name="'+e+'"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div>'
},createPaddingHtml:function(e,t){return'<div class="style-padding-item left"><div class="style-border-sample space left"><img width="23" height="23" src="themes/default/img/style-'+e+'.gif"></div><div class="left" style="padding-left:20px;">填充'+t+'</div><div class="handleitem space left" style="padding-left: 45px;"><div class="global-c style-range left"><div class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="50" type="text"  value="0" name="'+e+'"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div>'},createBorderHtml:function(e){return'<div class="style-border-item clearfix"><div class="style-border-sample space left"><img width="23" height="23" src="themes/default/img/style-'+e+'.gif"></div><div class="handleitem space style-border-select left"><select name="'+e+'-style" class="handlestyle select style-border-style"><option value="none">无</option><option value="solid">实线</option><option value="dashed">点</option><option value="dotted">虚线</option><option value="double">双倍</option><option value="groove">凹线</option><option value="ridge">边线</option></select></div><div class="handleitem space-m relative left"><div name="'+e+'-color" class="style-border-color handlestyle"></div></div><div class="handleitem space"><div class="global-c style-range left"><div id="width" class="style-rating-size"></div></div><div class="style-range-area left clearfix"><input class="left handlestyle text" maxval="50" width="100" type="text" value="0" name="'+e+'-width"><div class="style-range-handle right"><p><img width="15" height="8" class="style-range-add" src="vendor/range/themes/range-up.gif"></p><p><img width="15" height="8" class="style-range-dec" src="vendor/range/themes/range-down.gif"></p></div></div></div></div>'},createHandPanel:function(){},getRule:function(){var e=0,t=styletool.styleContainer.cssRuleList.length;for(e;t>e;e++);},updateCss:function(e,t){$(e).css(t);for(var l in t)styletool.updateCssObjectList(styletool.getHandleSelector(styletool.styleContainer.curModuleId,e),l,t[l])},setSiteCss:function(e,t,l){$(e).css(t,l),top.WebUtils&&"function"==typeof top.WebUtils.dashedFrame&&top.WebUtils.dashedFrame(e)},updateCssObjectList:function(e,t,l){"undefined"==typeof styletool.styleContainer.moduleContainer[styletool.styleContainer.curModuleId]&&styletool.initModuleStyle(styletool.styleContainer.curModuleId),styleutil.setRuleValue(styletool.styleContainer.moduleContainer[styletool.styleContainer.curModuleId].cssObjectList,e,t,l)},getHandleStyle:function(e){return $(e).parents(".handleitem:first").find(".handlestyle")},initHandlestyle:function(e,t,l){var a=styletool.getHandleStyle(e);styleutil.range(e,a.val(),a.attr("maxval"),t,l)},bindTextEvent:function(e,t,l,a,s){$.each(e,function(){var e=$(this);e.change(function(){styletool.initHandlestyle(t,l,a),"function"==typeof s&&s()}),styleutil.keyEvent(e.get(0),"onkeydown",function(t){38==t?(e.val(parseInt(e.val())+1),e.change()):40==t&&(e.val(parseInt(e.val())-1),e.change())})})},setSizeHandle:function(e){var t=styletool.getHandleStyle(e);styletool.initHandlestyle(e,function(e){t.val(e),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e+"px")},function(e){styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),e+"px"),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e+"px")}),styletool.bindTextEvent(t,e,function(e){t.val(e),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e+"px")},function(e){styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),e+"px"),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e+"px")},function(){styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),t.val()+"px"),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),t.val()+"px")})},setInputHandle:function(e){styletool.updateCssObjectList(styletool.styleContainer.curSelector,e.attr("name"),parseInt(e.val(),10)+"px"),styletool.setSiteCss(styletool.styleContainer.curControl,e.attr("name"),parseInt(e.val(),10)+"px")},setIndexHandle:function(e){styletool.updateCssObjectList(styletool.styleContainer.curSelector,e.attr("name"),parseInt(e.val(),10)),styletool.setSiteCss(styletool.styleContainer.curControl,e.attr("name"),parseInt(e.val(),10))},setOpacityHandle:function(e){var t=styletool.getHandleStyle(e);styletool.initHandlestyle(e,function(e){t.val(e),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e/100)},function(e){styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),e/100),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e/100)}),styletool.bindTextEvent(t,e,function(e){t.val(e),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e/100)},function(e){styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),e/100),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),e/100)},function(){styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),parseInt(t.val(),10)/100),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),parseInt(t.val(),10)/100)})},setSelectHandle:function(e){var t=styletool.getHandleStyle(e);styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),$("option:selected",t).val()),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),$("option:selected",t).val())},setCheckboxHandle:function(e){var t=styletool.getHandleStyle(e),l=$(t).attr("checked");styletool.updateCssObjectList(styletool.styleContainer.curSelector,t.attr("name"),l?t.val():t.attr("default")),styletool.setSiteCss(styletool.styleContainer.curControl,t.attr("name"),l?t.val():t.attr("default"))},setBackgroundHandle:function(e,t){var l=styletool.getHandleStyle(e);styletool.updateCssObjectList(styletool.styleContainer.curSelector,l.attr("name"),t),styletool.setSiteCss(styletool.styleContainer.curControl,l.attr("name"),t)},getStyle:function(){var e=styletool.styleContainer.moduleContainer[styletool.styleContainer.curModuleId];return e.css=styleutil.getCssJSON(e.cssObjectList),{id:e.styleId,moduleId:e.curModuleId,css:e.css,append:e.append,javascript:e.javascript,pictures:e.pictures.join("")}},saveStyle:function(){var e=styletool.styleContainer.moduleContainer[styletool.styleContainer.curModuleId];e.css=styleutil.getCssJSON(e.cssObjectList),alert(e.css),$.ajax({type:"post",url:"/rest/modulestyle/save",data:{id:e.styleId,moduleId:e.curModuleId,css:e.css,append:e.append,javascript:e.javascript,pictures:e.pictures.join("")},success:function(){art.dialog.tips("保存成功",1)}})},highlight:function(e,t){var l="block";"undefined"!=typeof t&&"show"==t?(styletool.styleContainer.treeHover=!0,l="block"):styletool.styleContainer.treeHover?dislay="block":l="none";var a=$(e),s=a.width(),i=a.height(),n=parseInt(a.offset().left,10),o=parseInt(a.offset().top,10),r=styleutil.getElementSize(a,"margin-left"),d=styleutil.getElementSize(a,"margin-top"),c=styleutil.getElementSize(a,"margin-right"),g=styleutil.getElementSize(a,"margin-bottom"),p=styleutil.getElementSize(a,"padding-top"),y=styleutil.getElementSize(a,"padding-right"),u=styleutil.getElementSize(a,"padding-bottom"),v=styleutil.getElementSize(a,"padding-left"),h=styleutil.getElementSize(a,"border-top-width"),f=styleutil.getElementSize(a,"border-right-width"),m=styleutil.getElementSize(a,"border-bottom-width"),b=styleutil.getElementSize(a,"border-left-width"),n=n-b-r,o=o-h-d,x=styleutil.getElementSize(a,"z-index");styletool.styleContainer.highlight=$("#style-outer"),styletool.styleContainer.highlight.size()>0||(styletool.styleContainer.highlight=$("<div id='style-outer'><div id='style-highlight' style='z-index:9001;border-style:solid;background:#214FA3;position:absolute;'><div class='style-inner' style='background:#2288cc;width:100%;height:100%;font-size:10px;'>z-index: "+x+"&nbsp;</div></div></div>"),$("body").append(styletool.styleContainer.highlight)),styletool.styleContainer.highlight.find("#style-highlight").css({width:s+"px",height:i+"px","margin-top":d+"px","margin-right":c+"px","margin-bottom":g+"px","margin-left":r+"px","padding-top":p+"px","padding-right":y+"px","padding-bottom":u+"px","padding-left":v+"px","border-top-width":h+"px","border-right-width":f+"px","border-bottom-width":m+"px","border-left-width":b+"px"}),$(styletool.styleContainer.highlight).css({opacity:.4,position:"absolute","z-index":9e3,"background-color":"yellow",top:o+"px",left:n+"px",display:l,width:s+r+b+v+y+f+c+"px",height:i+d+h+p+u+m+g+"px"})},hidelight:function(e){"undefined"!=typeof e&&"tree"==e&&(styletool.styleContainer.treeHover=!1),$(styletool.styleContainer.highlight).hide()},drowDomTree:function(){var e=$("#"+styletool.styleContainer.curModuleId);$("#dom-tree").empty().append(styletool.createDomTree(e))},createDomTree:function(e){for(var t=$('<ul class="ul-navList"></ul>'),l=1,a=styletool.createElement(styletool.bulidItem(e,styleutil.getTagName(e[0]),l)),s=$('<ul class="grade'+ ++l+'-ul" style=""></ul>'),i=e.children(),n=0,o=i.size();o>n;n++){var r=i.get(n);$(s).append(styletool.bulidSub(r,styletool.createElement(styletool.bulidItem(r,styleutil.getTagName(e[0]),l)),l))}return $(a).append(s),$(t).append(a),t},bulidSub:function(e,t,l){$(e);if(l=++l,$(e).children().size()>0){l>5&&(l=5);for(var a=$('<ul class="grade'+l+'-ul" style=""></ul>'),s=0,i=$(e).children().size();i>s;s++){var n=$(e).children().get(s),o=styletool.bulidItem(n,styleutil.getTagName(n),l);$(a).append($(n).children().size()>0?styletool.bulidSub(n,styletool.createElement(o),l+1):styletool.createElement(o))}$(t).append(a)}return t},hasChildNode:function(e){return $(e).children().size()>0?!0:!1},createElement:function(e){var t="button blue"+e.grade,l="";l=e.hasChild?'<span class="open" onclick="styletool.extendTree(this)">&nbsp;</span>':'<span class="open" onclick="styletool.extendTree(this)">&nbsp;</span>';var a='<li class="grade'+e.grade+'"><div class="item-li">'+l+"<a onmouseover=\"styletool.highlight('"+e.selector+"','show')\" onmouseout=\"styletool.hidelight('tree')\" onclick=\"styletool.treeClick(this,'"+e.curModuleId+"','"+e.selector+'\')" href="javascript:;" class="a-btn-static '+t+'">&lt;'+e.name+' id="'+e.id+'"  class="'+e.className+'"&gt;'+e.title.substring(0,10)+"</a></div></li>";return $(a)},treeClick:function(e,t,l){$("#dom-tree").find(".select").removeClass("select"),$(e).addClass("select"),styletool.start(t,l)},extendTree:function(e){var t=$(e).hasClass("open");t?($(e).removeClass("open"),$(e).addClass("close"),$(e).parent().siblings("ul").hide()):($(e).removeClass("close"),$(e).addClass("open"),$(e).parent().siblings("ul").show())},bulidItem:function(e,t,l){var a={},s=$(e),i=s.attr("title");return a.hasChild=styletool.hasChildNode(e),a.curModuleId=styletool.styleContainer.curModuleId,a.selector="#"+styletool.styleContainer.curModuleId==styletool.getSelector(e)?"#"+styletool.styleContainer.curModuleId:"#"+styletool.styleContainer.curModuleId+" "+styletool.getSelector(e),a.name=t,a.grade=l,""!=$.trim(i)&&(i="【"+i+"】"),a.title=i||"",a.className=s.attr("class"),a.id=s.attr("id"),a},getSelector:function(e){var t="",l=$(e).attr("id"),a=$(e).attr("class");return""!=l&&"undefined"!=typeof l?t="#"+l:""!=a&&"undefined"!=typeof a?t="."+a.split(" ")[0]:(t=styleutil.getTagName(e),t=arguments.callee(e.parentNode)+" "+t),t},appendResizableHandle:function(e){$(styletool.styleContainer.resizeHandle).remove();var t='<div class="style-resizable-handle style-resizable-n"><p class="handle N"></p></div><div class="style-resizable-handle style-resizable-s"><p class="handle S" ></p></div><div class="style-resizable-handle style-resizable-e"><p class="handle E"></p></div><div class="style-resizable-handle style-resizable-w"><p class="handle W"></p></div><div class="style-resizable-handle style-resizable-se"><p class="handle SE"></p></div><div class="style-resizable-handle style-resizable-sw"><p class="handle SW" ></p></div><div class="style-resizable-handle style-resizable-nw"><p class="handle NW" ></p></div><div class="style-resizable-handle style-resizable-ne"><p class="handle NE" ></p></div>';styletool.styleContainer.resizeHandle=$(t),styleutil.resizeable(styletool.styleContainer.resizeHandle),$(e).append(styletool.styleContainer.resizeHandle)},bindEditable:function(e){$(e).bind("click",function(){return styletool.editable($(this)),!1}),$(e).bind("dblclick",function(){var e=styletool.changeModule($(this));return styletool.start(e.moduleId,e.selector),!1})},editable:function(e){var t=$(e);styletool.styleContainer.curDrag=null,styletool.styleContainer.curIndex=styleutil.getElementSize(t,"z-index");var l=styletool.changeModule(t).selector;styletool.updatePanel(styletool.styleContainer.curModuleId,styletool.styleContainer.curSelector),styletool.appendResizableHandle(t);var a=t.css("position");return styletool.styleContainer.curDrag="relative"==a?t.drag("start",function(e,l){l.attr=$(e.target).prop("className"),l.width=t.width(),l.height=t.height(),l.left=t.offset().left,l.top=t.offset().top}).drag("end",function(e,t){return styletool.updateCssObjectList(l,"width",t.width+t.deltaX+"px"),styletool.updateCssObjectList(l,"height",t.height+t.deltaY+"px"),!1}).drag(function(e,l){var a={};l.attr.indexOf("SE")>-1?(a.height=Math.max(32,l.height+l.deltaY),a.width=Math.max(32,l.width+l.deltaX)):l.attr.indexOf("E")>-1?a.width=Math.max(32,l.width+l.deltaX):l.attr.indexOf("S")>-1?a.height=Math.max(32,l.height+l.deltaY):l.attr.indexOf("W")>-1?(a.width=Math.max(32,l.width-l.deltaX),a.left=l.originalX+l.width-a.width):l.attr.indexOf("N")>-1&&(a.height=Math.max(32,l.height-l.deltaY),a.top=l.originalY+l.height-a.height),t.css(a)},{handle:".handle"}):t.drag("start",function(e,l){l.attr=$(e.target).prop("className"),l.className="editable",l.width=t.width(),l.height=t.height(),l.left=t.offset().left,l.top=t.offset().top}).drag("end",function(e,a){return styletool.updateCssObjectList(l,"width",a.width+a.deltaX+"px"),styletool.updateCssObjectList(l,"height",a.height+a.deltaY+"px"),styletool.updateCssObjectList(l,"left",t.offset().left+"px"),styletool.updateCssObjectList(l,"top",t.offset().top+"px"),!1}).drag(function(e,l){var a={};l.attr.indexOf("SE")>-1?(a.height=Math.max(32,l.height+l.deltaY),a.width=Math.max(32,l.width+l.deltaX)):l.attr.indexOf("NW")>-1?(a.height=l.height-l.deltaY,a.width=l.width-l.deltaX,a.left=l.left+l.deltaX,a.top=l.top+l.deltaY):l.attr.indexOf("SW")>-1?(a.height=l.height+l.deltaY,a.width=l.width-l.deltaX,a.left=l.left+l.deltaX):l.attr.indexOf("NE")>-1?(a.height=l.height-l.deltaY,a.width=l.width+l.deltaX,a.top=l.top+l.deltaY):l.attr.indexOf("E")>-1?a.width=Math.max(32,l.width+l.deltaX):l.attr.indexOf("S")>-1?a.height=Math.max(32,l.height+l.deltaY):l.attr.indexOf("W")>-1?(a.width=Math.max(32,l.width-l.deltaX),a.left=l.originalX+l.width-a.width):l.attr.indexOf("N")>-1?(a.height=Math.max(32,l.height-l.deltaY),a.top=l.originalY+l.height-a.height):l.className.indexOf("editable")>-1&&(a.top=l.offsetY,a.left=l.offsetX),t.css(a)}),!1}};