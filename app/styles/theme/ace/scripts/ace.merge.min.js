"ace"in window||(window.ace={}),jQuery(function(){window.ace.click_event=$.fn.tap?"tap":"click"}),function(e,t){var n="multiple"in document.createElement("INPUT"),i="FileList"in window,a="FileReader"in window,s=function(t,n){var i=this;this.settings=e.extend({},e.fn.ace_file_input.defaults,n),this.$element=e(t),this.element=t,this.disabled=!1,this.can_reset=!0,this.$element.on("change.ace_inner_call",function(e,t){return t!==!0?l.call(i):void 0}),this.$element.wrap('<div class="ace-file-input" />'),this.apply_settings()};s.error={FILE_LOAD_FAILED:1,IMAGE_LOAD_FAILED:2,THUMBNAIL_FAILED:3},s.prototype.apply_settings=function(){var e=this,t=!!this.settings.icon_remove;this.multi=this.$element.attr("multiple")&&n,this.well_style="well"==this.settings.style,this.well_style?this.$element.parent().addClass("ace-file-multiple"):this.$element.parent().removeClass("ace-file-multiple"),this.$element.parent().find(":not(input[type=file])").remove(),this.$element.after('<label class="file-label" data-title="'+this.settings.btn_choose+'"><span class="file-name" data-title="'+this.settings.no_file+'">'+(this.settings.no_icon?'<i class="'+this.settings.no_icon+'"></i>':"")+"</span></label>"+(t?'<a class="remove" href="#"><i class="'+this.settings.icon_remove+'"></i></a>':"")),this.$label=this.$element.next(),this.$label.on("click",function(){this.disabled||e.element.disabled||e.$element.attr("readonly")||e.$element.click()}),t&&this.$label.next("a").on(ace.click_event,function(){if(!e.can_reset)return!1;var t=!0;return e.settings.before_remove&&(t=e.settings.before_remove.call(e.element)),t?e.reset_input():!1}),this.settings.droppable&&i&&o.call(this)},s.prototype.show_file_list=function(t){var n="undefined"==typeof t?this.$element.data("ace_input_files"):t;if(n&&0!=n.length){this.well_style&&(this.$label.find(".file-name").remove(),this.settings.btn_change||this.$label.addClass("hide-placeholder")),this.$label.attr("data-title",this.settings.btn_change).addClass("selected");for(var i=0;i<n.length;i++){var s="string"==typeof n[i]?n[i]:e.trim(n[i].name),o=s.lastIndexOf("\\")+1;0==o&&(o=s.lastIndexOf("/")+1),s=s.substr(o);var l="icon-file";if(/\.(jpe?g|png|gif|svg|bmp|tiff?)$/i.test(s)?l="icon-picture":/\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i.test(s)?l="icon-film":/\.(mp3|ogg|wav|wma|amr|aac)$/i.test(s)&&(l="icon-music"),this.well_style){this.$label.append('<span class="file-name" data-title="'+s+'"><i class="'+l+'"></i></span>');var c=e.trim(n[i].type),d=a&&this.settings.thumbnail&&(c.length>0&&c.match("image")||0==c.length&&"icon-picture"==l);if(d){var u=this;e.when(r.call(this,n[i])).fail(function(e){u.settings.preview_error&&u.settings.preview_error.call(u,s,e.code)})}}else this.$label.find(".file-name").attr({"data-title":s}).find('[class*="icon-"]').attr("class",l)}return!0}},s.prototype.reset_input=function(){return this.$label.attr({"data-title":this.settings.btn_choose,"class":"file-label"}).find(".file-name:first").attr({"data-title":this.settings.no_file,"class":"file-name"}).find('[class*="icon-"]').attr("class",this.settings.no_icon).prev("img").remove(),this.settings.no_icon||this.$label.find('[class*="icon-"]').remove(),this.$label.find(".file-name").not(":first").remove(),this.$element.data("ace_input_files")&&(this.$element.removeData("ace_input_files"),this.$element.removeData("ace_input_method")),this.reset_input_field(),!1},s.prototype.reset_input_field=function(){this.$element.wrap("<form>").closest("form").get(0).reset(),this.$element.unwrap()},s.prototype.enable_reset=function(e){this.can_reset=e},s.prototype.disable=function(){this.disabled=!0,this.$element.attr("disabled","disabled").addClass("disabled")},s.prototype.enable=function(){this.disabled=!1,this.$element.removeAttr("disabled").removeClass("disabled")},s.prototype.files=function(){return e(this).data("ace_input_files")||null},s.prototype.method=function(){return e(this).data("ace_input_method")||""},s.prototype.update_settings=function(t){this.settings=e.extend({},this.settings,t),this.apply_settings()};var o=function(){var t=this,n=this.element.parentNode;e(n).on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}).on("dragover",function(e){e.preventDefault(),e.stopPropagation()}).on("drop",function(e){e.preventDefault(),e.stopPropagation();var n=e.originalEvent.dataTransfer,a=n.files;if(!t.multi&&a.length>1){var s=[];s.push(a[0]),a=s}var o=!0;return t.settings.before_change&&(o=t.settings.before_change.call(t.element,a,!0)),o&&0!=o.length?((o instanceof Array||i&&o instanceof FileList)&&(a=o),t.$element.data("ace_input_files",a),t.$element.data("ace_input_method","drop"),t.show_file_list(a),t.$element.triggerHandler("change",[!0]),!0):!1})},l=function(){var t=!0;if(this.settings.before_change&&(t=this.settings.before_change.call(this.element,this.element.files||[this.element.value],!1)),!t||0==t.length)return this.$element.data("ace_input_files")||this.reset_input_field(),!1;var n=i?t instanceof Array||t instanceof FileList?t:this.element.files:null;if(this.$element.data("ace_input_method","select"),n&&n.length>0)this.$element.data("ace_input_files",n);else{var a=e.trim(this.element.value);a&&a.length>0&&(n=[],n.push(a),this.$element.data("ace_input_files",n))}return n&&0!=n.length?(this.show_file_list(n),!0):!1},r=function(t){var n=this,i=n.$label.find(".file-name:last"),a=new e.Deferred,o=new FileReader;return o.onload=function(o){i.prepend("<img class='middle' style='display:none;' />");var l=i.find("img:last").get(0);e(l).one("load",function(){var o=50;"large"==n.settings.thumbnail?o=150:"fit"==n.settings.thumbnail&&(o=i.width()),i.addClass(o>50?"large":"");var r=c(l,o,t.type);if(null==r)return e(this).remove(),void a.reject({code:s.error.THUMBNAIL_FAILED});var d=r.w,u=r.h;"small"==n.settings.thumbnail&&(d=u=o),e(l).css({"background-image":"url("+r.src+")",width:d,height:u}).data("thumb",r.src).attr({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}).show(),a.resolve()}).one("error",function(){i.find("img").remove(),a.reject({code:s.error.IMAGE_LOAD_FAILED})}),l.src=o.target.result},o.onerror=function(){a.reject({code:s.error.FILE_LOAD_FAILED})},o.readAsDataURL(t),a.promise()},c=function(e,t){var n=e.width,i=e.height;(n>t||i>t)&&(n>i?(i=parseInt(t/n*i),n=t):(n=parseInt(t/i*n),i=t));var a;try{var s=document.createElement("canvas");s.width=n,s.height=i;var o=s.getContext("2d");o.drawImage(e,0,0,e.width,e.height,0,0,n,i),a=s.toDataURL()}catch(l){a=null}return/^data\:image\/(png|jpe?g|gif);base64,[0-9A-Za-z\+\/\=]+$/.test(a)||(a=null),a?{src:a,w:n,h:i}:null};e.fn.ace_file_input=function(n,i){var a,o=this.each(function(){var t=e(this),o=t.data("ace_file_input"),l="object"==typeof n&&n;o||t.data("ace_file_input",o=new s(this,l)),"string"==typeof n&&(a=o[n](i))});return a===t?o:a},e.fn.ace_file_input.defaults={style:!1,no_file:"No File ...",no_icon:"icon-upload-alt",btn_choose:"Choose",btn_change:"Change",icon_remove:"icon-remove",droppable:!1,thumbnail:!1,before_change:null,before_remove:null,preview_error:null}}(window.jQuery),function(e){e.fn.ace_spinner=function(t){return this.each(function(){var n=t.icon_up||"icon-chevron-up",i=t.icon_down||"icon-chevron-down",a=t.on_sides||!1,s=t.btn_up_class||"",o=t.btn_down_class||"",l=t.max||999;l=(""+l).length,e(this).addClass("spinner-input form-control").wrap('<div class="ace-spinner">');var r=e(this).closest(".ace-spinner").spinner(t).wrapInner("<div class='input-group'></div>");a?(e(this).before('<div class="spinner-buttons input-group-btn">							<button type="button" class="btn spinner-down btn-xs '+o+'">								<i class="'+i+'"></i>							</button>						</div>').after('<div class="spinner-buttons input-group-btn">							<button type="button" class="btn spinner-up btn-xs '+s+'">								<i class="'+n+'"></i>							</button>						</div>'),r.addClass("touch-spinner"),r.css("width",20*l+40+"px")):(e(this).after('<div class="spinner-buttons input-group-btn">							<button type="button" class="btn spinner-up btn-xs '+s+'">								<i class="'+n+'"></i>							</button>							<button type="button" class="btn spinner-down btn-xs '+o+'">								<i class="'+i+'"></i>							</button>						</div>'),"ontouchend"in document||t.touch_spinner?(r.addClass("touch-spinner"),r.css("width",20*l+40+"px")):(e(this).next().addClass("btn-group-vertical"),r.css("width",20*l+10+"px"))),e(this).on("mousewheel DOMMouseScroll",function(e){var t=e.originalEvent.detail<0||e.originalEvent.wheelDelta>0?1:-1;return r.spinner("step",t>0),r.spinner("triggerChangedEvent"),!1});var c=e(this);r.on("changed",function(){c.trigger("change")})}),this}}(window.jQuery),function(e){e.fn.ace_wizard=function(){return this.each(function(){var t=e(this);t.wizard();var n=t.siblings(".wizard-actions").eq(0),i=t.data("wizard");i.$prevBtn.remove(),i.$nextBtn.remove(),i.$prevBtn=n.find(".btn-prev").eq(0).on(ace.click_event,function(){t.wizard("previous")}).attr("disabled","disabled"),i.$nextBtn=n.find(".btn-next").eq(0).on(ace.click_event,function(){t.wizard("next")}).removeAttr("disabled"),i.nextText=i.$nextBtn.text()}),this}}(window.jQuery),function(e){e.fn.ace_colorpicker=function(t){var n=e.extend({pull_right:!1,caret:!0},t);return this.each(function(){var t=e(this),i="",a="";e(this).hide().find("option").each(function(){var e="colorpick-btn";this.selected&&(e+=" selected",a=this.value),i+='<li><a class="'+e+'" href="#" style="background-color:'+this.value+';" data-color="'+this.value+'"></a></li>'}).end().on("change.ace_inner_call",function(){e(this).next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker"><a data-toggle="dropdown" class="dropdown-toggle" href="#"><span class="btn-colorpicker" style="background-color:'+a+'"></span></a><ul class="dropdown-menu'+(n.caret?" dropdown-caret":"")+(n.pull_right?" pull-right":"")+'">'+i+"</ul></div>").next().find(".dropdown-menu").on(ace.click_event,function(n){var i=e(n.target);if(!i.is(".colorpick-btn"))return!1;i.closest("ul").find(".selected").removeClass("selected"),i.addClass("selected");var a=i.data("color");return t.val(a).change(),n.preventDefault(),!0})}),this}}(window.jQuery),function(e){e.fn.ace_tree=function(t){var n={"open-icon":"icon-folder-open","close-icon":"icon-folder-close",selectable:!0,"selected-icon":"icon-ok","unselected-icon":"tree-dot"};return n=e.extend({},n,t),this.each(function(){var t=e(this);t.html('<div class = "tree-folder" style="display:none;">				<div class="tree-folder-header">					<i class="'+n["close-icon"]+'"></i>					<div class="tree-folder-name"></div>				</div>				<div class="tree-folder-content"></div>				<div class="tree-loader" style="display:none"></div>			</div>			<div class="tree-item" style="display:none;">				'+(null==n["unselected-icon"]?"":'<i class="'+n["unselected-icon"]+'"></i>')+'				<div class="tree-item-name"></div>			</div>'),t.addClass(1==n.selectable?"tree-selectable":"tree-unselectable"),t.tree(n)}),this}}(window.jQuery),function(e){e.fn.ace_wysiwyg=function(t){var n=e.extend({speech_button:!0,wysiwyg:{}},t),i=["#ac725e","#d06b64","#f83a22","#fa573c","#ff7537","#ffad46","#42d692","#16a765","#7bd148","#b3dc6c","#fbe983","#fad165","#92e1c0","#9fe1e7","#9fc6e7","#4986e7","#9a9cff","#b99aff","#c2c2c2","#cabdbf","#cca6ac","#f691b2","#cd74e6","#a47ae2","#444444"],a={font:{values:["Arial","Courier","Comic Sans MS","Helvetica","Open Sans","Tahoma","Verdana"],icon:"icon-font",title:"Font"},fontSize:{values:{5:"Huge",3:"Normal",1:"Small"},icon:"icon-text-height",title:"Font Size"},bold:{icon:"icon-bold",title:"Bold (Ctrl/Cmd+B)"},italic:{icon:"icon-italic",title:"Italic (Ctrl/Cmd+I)"},strikethrough:{icon:"icon-strikethrough",title:"Strikethrough"},underline:{icon:"icon-underline",title:"Underline"},insertunorderedlist:{icon:"icon-list-ul",title:"Bullet list"},insertorderedlist:{icon:"icon-list-ol",title:"Number list"},outdent:{icon:"icon-indent-left",title:"Reduce indent (Shift+Tab)"},indent:{icon:"icon-indent-right",title:"Indent (Tab)"},justifyleft:{icon:"icon-align-left",title:"Align Left (Ctrl/Cmd+L)"},justifycenter:{icon:"icon-align-center",title:"Center (Ctrl/Cmd+E)"},justifyright:{icon:"icon-align-right",title:"Align Right (Ctrl/Cmd+R)"},justifyfull:{icon:"icon-align-justify",title:"Justify (Ctrl/Cmd+J)"},createLink:{icon:"icon-link",title:"Hyperlink",button_text:"Add",placeholder:"URL",button_class:"btn-primary"},unlink:{icon:"icon-unlink",title:"Remove Hyperlink"},insertImage:{icon:"icon-picture",title:"Insert picture",button_text:'<i class="icon-file"></i> Choose Image &hellip;',placeholder:"Image URL",button_insert:"Insert",button_class:"btn-success",button_insert_class:"btn-primary",choose_file:!0},foreColor:{values:i,title:"Change Color"},backColor:{values:i,title:"Change Background Color"},undo:{icon:"icon-undo",title:"Undo (Ctrl/Cmd+Z)"},redo:{icon:"icon-repeat",title:"Redo (Ctrl/Cmd+Y)"},viewSource:{icon:"icon-code",title:"View Source"}},s=n.toolbar||["font",null,"fontSize",null,"bold","italic","strikethrough","underline",null,"insertunorderedlist","insertorderedlist","outdent","indent",null,"justifyleft","justifycenter","justifyright","justifyfull",null,"createLink","unlink",null,"insertImage",null,"foreColor",null,"undo","redo",null,"viewSource"];return this.each(function(){var t=' <div class="wysiwyg-toolbar btn-toolbar center"> <div class="btn-group"> ';for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];if(null===o){t+=' </div> <div class="btn-group"> ';continue}if("string"==typeof o&&o in a)o=a[o],o.name=s[i];else{if(!("object"==typeof o&&o.name in a))continue;o=e.extend(a[o.name],o)}var l="className"in o?o.className:"";switch(o.name){case"font":t+=' <a class="btn btn-sm '+l+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+o.icon+'"></i><i class="icon-angle-down icon-on-right"></i></a> ',t+=' <ul class="dropdown-menu dropdown-light">';for(var r in o.values)o.values.hasOwnProperty(r)&&(t+=' <li><a data-edit="fontName '+o.values[r]+'" style="font-family:\''+o.values[r]+"'\">"+o.values[r]+"</a></li> ");t+=" </ul>";break;case"fontSize":t+=' <a class="btn btn-sm '+l+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+o.icon+'"></i>&nbsp;<i class="icon-angle-down icon-on-right"></i></a> ',t+=' <ul class="dropdown-menu dropdown-light"> ';for(var c in o.values)o.values.hasOwnProperty(c)&&(t+=' <li><a data-edit="fontSize '+c+'"><font size="'+c+'">'+o.values[c]+"</font></a></li> ");t+=" </ul> ";break;case"createLink":t+=' <div class="inline position-relative"> <a class="btn btn-sm '+l+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+o.icon+'"></i></a> ',t+=' <div class="dropdown-menu dropdown-caret pull-right">							<div class="input-group">								<input class="form-control" placeholder="'+o.placeholder+'" type="text" data-edit="'+o.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+o.button_class+'" type="button">'+o.button_text+"</button>								</span>							</div>						</div> </div>";break;case"insertImage":t+=' <div class="inline position-relative"> <a class="btn btn-sm '+l+' dropdown-toggle" data-toggle="dropdown" title="'+o.title+'"><i class="'+o.icon+'"></i></a> ',t+=' <div class="dropdown-menu dropdown-caret pull-right">							<div class="input-group">								<input class="form-control" placeholder="'+o.placeholder+'" type="text" data-edit="'+o.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+o.button_insert_class+'" type="button">'+o.button_insert+"</button>								</span>							</div>",o.choose_file&&"FileReader"in window&&(t+='<div class="space-2"></div>							 <div class="center">								<button class="btn btn-sm '+o.button_class+' wysiwyg-choose-file" type="button">'+o.button_text+'</button>								<input type="file" data-edit="'+o.name+'" />							  </div>'),t+=" </div> </div>";break;case"foreColor":case"backColor":t+=' <select class="hide wysiwyg_colorpicker" title="'+o.title+'"> ';for(var d in o.values)t+=' <option value="'+o.values[d]+'">'+o.values[d]+"</option> ";t+=" </select> ",t+=' <input style="display:none;" disabled class="hide" type="text" data-edit="'+o.name+'" /> ';break;case"viewSource":t+=' <a class="btn btn-sm '+l+'" data-view="source" title="'+o.title+'"><i class="'+o.icon+'"></i></a> ';break;default:t+=' <a class="btn btn-sm '+l+'" data-edit="'+o.name+'" title="'+o.title+'"><i class="'+o.icon+'"></i></a> '}}t+=" </div> </div> ",t=n.toolbar_place?n.toolbar_place.call(this,t):e(this).before(t).prev(),t.find("a[title]").tooltip({animation:!1,container:"body"}),t.find(".dropdown-menu input:not([type=file])").on(ace.click_event,function(){return!1}).on("change",function(){e(this).closest(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).on("keydown",function(t){27==t.which&&(this.value="",e(this).change())}),t.find("input[type=file]").prev().on(ace.click_event,function(){e(this).next().click()}),t.find(".wysiwyg_colorpicker").each(function(){e(this).ace_colorpicker({pull_right:!0}).change(function(){e(this).nextAll("input").eq(0).val(this.value).change()}).next().find(".btn-colorpicker").tooltip({title:this.title,animation:!1,container:"body"})});var u;if(n.speech_button&&"onwebkitspeechchange"in(u=document.createElement("input"))){var f=e(this).offset();t.append(u),e(u).attr({type:"text","data-edit":"inserttext","x-webkit-speech":""}).addClass("wysiwyg-speech-input").css({position:"absolute"}).offset({top:f.top,left:f.left+e(this).innerWidth()-35})}else u=null;var h=e(this),g=!1;t.find("a[data-view=source]").on("click",function(t){if(t.preventDefault(),g){var n=h.next();h.html(n.val()).show(),n.remove(),e(this).removeClass("active")}else e("<textarea />").css({width:h.outerWidth(),height:h.outerHeight()}).val(h.html()).insertAfter(h),h.hide(),e(this).addClass("active");g=!g});var p=e.extend({},{activeToolbarClass:"active",toolbarSelector:t},n.wysiwyg||{});e(this).wysiwyg(p)}),this}}(window.jQuery),"ace"in window||(window.ace={}),$(function(e){window.ace.click_event=e.fn.tap?"tap":"click"}),$(function(){ace.handle_side_menu(jQuery),ace.enable_search_ahead(jQuery),ace.general_things(jQuery),ace.widget_boxes(jQuery),ace.widget_reload_handler(jQuery)}),ace.handle_side_menu=function(e){e("#menu-toggler").on(ace.click_event,function(){return e("#sidebar").toggleClass("display"),e(this).toggleClass("display"),!1});var t=e("#sidebar").hasClass("menu-min");e("#sidebar-collapse").on(ace.click_event,function(){t=e("#sidebar").hasClass("menu-min"),ace.settings.sidebar_collapsed(!t)});var n=navigator.userAgent.match(/OS (5|6|7)(_\d)+ like Mac OS X/i);e(".nav-list .dropdown-toggle").on(ace.click_event,function(i){var a=e(this);if(a&&0!=a.length){if(t=e("#sidebar").hasClass("menu-min"),a.hasClass("dropdown-toggle")){var s=e(a).parents("li:first");s.siblings().removeClass("active");var o=a.next().get(0);if(e(o).find("li").bind("click",function(){e(this).siblings().removeClass("active"),e(this).addClass("active")}),!e(o).is(":visible"))if(o){var l=e(o.parentNode).closest("ul");if(t&&d.hasClass("nav-list"))return;l.find(" .submenu").each(function(){e(this.parentNode).hasClass("active")||(e(this).slideUp(200).parent().removeClass("open"),e(this).find("li").removeClass("active"))})}else e(".submenu").each(function(){e(this.parentNode).hasClass("active")||(e(this).slideUp(200).parent().removeClass("open"),e(this).parents("li:first").removeClass("active"))});return t&&e(o.parentNode.parentNode).hasClass("nav-list")?!1:(e(o).slideToggle(200).parent().toggleClass("open"),s.addClass("active"),!1)}if(t&&"tap"==ace.click_event&&a.get(0).parentNode.parentNode==this){var r=a.find(".menu-text").get(0);if(i.target!=r&&!e.contains(r,i.target))return!1}if(n)return!1}})},ace.general_things=function(e){e('.ace-nav [class*="icon-animated-"]').closest("a").on("click",function(){var t=a(this).find('[class*="icon-animated-"]').eq(0),n=t.attr("class").match(/icon\-animated\-([\d\w]+)/);t.removeClass(n[0]),e(this).off("click")}),e("#ace-settings-btn").on(ace.click_event,function(){e(this).toggleClass("open"),e("#ace-settings-box").toggleClass("open")}),e("#ace-settings-navbar").on("click",function(){ace.settings.navbar_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("navbar","fixed")}),e("#ace-settings-sidebar").on("click",function(){ace.settings.sidebar_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("sidebar","fixed")}),e("#ace-settings-breadcrumbs").on("click",function(){ace.settings.breadcrumbs_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("breadcrumbs","fixed")}),e("#ace-settings-add-container").on("click",function(){ace.settings.main_container_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("main-container","fixed")}),e("#ace-settings-rtl").removeAttr("checked").on("click",function(){ace.switch_direction(jQuery)}),e("#btn-scroll-up").on(ace.click_event,function(){var t=Math.min(400,Math.max(100,parseInt(e("html").scrollTop()/3)));return e("html,body").animate({scrollTop:0},t),!1});try{e("#skin-colorpicker").ace_colorpicker()}catch(t){}e("#skin-colorpicker").on("change",function(){var t=e(this).find("option:selected").data("skin"),n=e(document.body);n.removeClass("skin-1 skin-2 skin-3"),"default"!=t&&n.addClass(t),"skin-1"==t?e(".ace-nav > li.grey").addClass("dark"):e(".ace-nav > li.grey").removeClass("dark"),"skin-2"==t?(e(".ace-nav > li").addClass("no-border margin-1"),e(".ace-nav > li:not(:last-child)").addClass("light-pink").find('> a > [class*="icon-"]').addClass("pink").end().eq(0).find(".badge").addClass("badge-warning")):(e(".ace-nav > li").removeClass("no-border margin-1"),e(".ace-nav > li:not(:last-child)").removeClass("light-pink").find('> a > [class*="icon-"]').removeClass("pink").end().eq(0).find(".badge").removeClass("badge-warning")),"skin-3"==t?e(".ace-nav > li.grey").addClass("red").find(".badge").addClass("badge-yellow"):e(".ace-nav > li.grey").removeClass("red").find(".badge").removeClass("badge-yellow")})},ace.widget_boxes=function(e){e(document).on("hide.bs.collapse show.bs.collapse",function(t){var n=t.target.getAttribute("id");e('[href*="#'+n+'"]').find('[class*="icon-"]').each(function(){var n,i=e(this),a=null,s=null;return(a=i.attr("data-icon-show"))?s=i.attr("data-icon-hide"):(n=i.attr("class").match(/icon\-(.*)\-(up|down)/))&&(a="icon-"+n[1]+"-down",s="icon-"+n[1]+"-up"),a?("show"==t.type?i.removeClass(a).addClass(s):i.removeClass(s).addClass(a),!1):void 0})}),e(document).on("click.ace.widget","[data-action]",function(t){t.preventDefault();var n=e(this),i=n.data("action"),s=n.closest(".widget-box");if(!s.hasClass("ui-sortable-helper"))if("collapse"==i){var o,l=s.hasClass("collapsed")?"show":"hide",r="show"==l?"shown":"hidden";if(s.trigger(o=a.Event(l+".ace.widget")),o.isDefaultPrevented())return;var c=s.find(".widget-body"),d=n.find("[class*=icon-]").eq(0),u=d.attr("class").match(/icon\-(.*)\-(up|down)/),f="icon-"+u[1]+"-down",h="icon-"+u[1]+"-up",g=c.find(".widget-body-inner");c=0==g.length?c.wrapInner('<div class="widget-body-inner"></div>').find(":first-child").eq(0):g.eq(0);var p=300,m=200;"show"==l?(d&&d.addClass(h).removeClass(f),s.removeClass("collapsed"),c.slideUp(0,function(){c.slideDown(p,function(){s.trigger(o=a.Event(r+".ace.widget"))})})):(d&&d.addClass(f).removeClass(h),c.slideUp(m,function(){s.addClass("collapsed"),s.trigger(o=a.Event(r+".ace.widget"))}))}else if("close"==i){var o;if(s.trigger(o=a.Event("close.ace.widget")),o.isDefaultPrevented())return;var v=parseInt(n.data("close-speed"))||300;s.hide(v,function(){s.trigger(o=a.Event("closed.ace.widget")),s.remove()})}else if("reload"==i){var o;if(s.trigger(o=a.Event("reload.ace.widget")),o.isDefaultPrevented())return;n.blur();var b=!1;"static"==s.css("position")&&(b=!0,s.addClass("position-relative")),s.append('<div class="widget-box-overlay"><i class="icon-spinner icon-spin icon-2x white"></i></div>'),s.one("reloaded.ace.widget",function(){s.find(".widget-box-overlay").remove(),b&&s.removeClass("position-relative")})}else if("settings"==i){var o=a.Event("settings.ace.widget");s.trigger(o)}})},ace.widget_reload_handler=function(e){e(document).on("reload.ace.widget",".widget-box",function(){var t=e(this);setTimeout(function(){t.trigger("reloaded.ace.widget")},parseInt(1e3*Math.random()+1e3))})},ace.enable_search_ahead=function(){ace.variable_US_STATES=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];try{$("#nav-search-input").typeahead({source:ace.variable_US_STATES,updater:function(e){return $("#nav-search-input").focus(),e}})}catch(e){}},ace.switch_direction=function(e){function t(e,t){n.find("."+e).removeClass(e).addClass("tmp-rtl-"+e).end().find("."+t).removeClass(t).addClass(e).end().find(".tmp-rtl-"+e).removeClass("tmp-rtl-"+e).addClass(t)}var n=e(document.body);n.toggleClass("rtl").find(".dropdown-menu:not(.datepicker-dropdown,.colorpicker)").toggleClass("pull-right").end().find(".pull-right:not(.dropdown-menu,blockquote,.profile-skills .pull-right)").removeClass("pull-right").addClass("tmp-rtl-pull-right").end().find(".pull-left:not(.dropdown-submenu,.profile-skills .pull-left)").removeClass("pull-left").addClass("pull-right").end().find(".tmp-rtl-pull-right").removeClass("tmp-rtl-pull-right").addClass("pull-left").end().find(".chosen-container").toggleClass("chosen-rtl").end(),t("align-left","align-right"),t("no-padding-left","no-padding-right"),t("arrowed","arrowed-right"),t("arrowed-in","arrowed-in-right"),t("messagebar-item-left","messagebar-item-right");var i=e("#piechart-placeholder");if(i.size()>0){var a=e(document.body).hasClass("rtl")?"nw":"ne";i.data("draw").call(i.get(0),i,i.data("chart"),a)}},window.ace=window.ace||{},ace.config={cookie_expiry:604800,storage_method:2},ace.settings={is:function(e,t){return 1==ace.data.get("settings",e+"-"+t)},exists:function(e,t){return null!==ace.data.get("settings",e+"-"+t)},set:function(e,t){ace.data.set("settings",e+"-"+t,1)},unset:function(e,t){ace.data.set("settings",e+"-"+t,-1)},remove:function(e,t){ace.data.remove("settings",e+"-"+t)},navbar_fixed:function(e){e=e||!1,!e&&ace.settings.is("sidebar","fixed")&&ace.settings.sidebar_fixed(!1);var t=document.getElementById("navbar");e?(ace.hasClass(t,"navbar-fixed-top")||ace.addClass(t,"navbar-fixed-top"),ace.hasClass(document.body,"navbar-fixed")||ace.addClass(document.body,"navbar-fixed"),ace.settings.set("navbar","fixed")):(ace.removeClass(t,"navbar-fixed-top"),ace.removeClass(document.body,"navbar-fixed"),ace.settings.unset("navbar","fixed")),document.getElementById("ace-settings-navbar").checked=e},breadcrumbs_fixed:function(e){e=e||!1,e&&!ace.settings.is("sidebar","fixed")&&ace.settings.sidebar_fixed(!0);var t=document.getElementById("breadcrumbs");e?(ace.hasClass(t,"breadcrumbs-fixed")||ace.addClass(t,"breadcrumbs-fixed"),ace.hasClass(document.body,"breadcrumbs-fixed")||ace.addClass(document.body,"breadcrumbs-fixed"),ace.settings.set("breadcrumbs","fixed")):(ace.removeClass(t,"breadcrumbs-fixed"),ace.removeClass(document.body,"breadcrumbs-fixed"),ace.settings.unset("breadcrumbs","fixed")),document.getElementById("ace-settings-breadcrumbs").checked=e},sidebar_fixed:function(e){e=e||!1,!e&&ace.settings.is("breadcrumbs","fixed")&&ace.settings.breadcrumbs_fixed(!1),e&&!ace.settings.is("navbar","fixed")&&ace.settings.navbar_fixed(!0);var t=document.getElementById("sidebar");e?(ace.hasClass(t,"sidebar-fixed")||ace.addClass(t,"sidebar-fixed"),ace.settings.set("sidebar","fixed")):(ace.removeClass(t,"sidebar-fixed"),ace.settings.unset("sidebar","fixed")),document.getElementById("ace-settings-sidebar").checked=e},main_container_fixed:function(e){e=e||!1;var t=document.getElementById("main-container"),n=document.getElementById("navbar-container");if(e?(ace.hasClass(t,"container")||ace.addClass(t,"container"),ace.hasClass(n,"container")||ace.addClass(n,"container"),ace.settings.set("main-container","fixed")):(ace.removeClass(t,"container"),ace.removeClass(n,"container"),ace.settings.unset("main-container","fixed")),document.getElementById("ace-settings-add-container").checked=e,navigator.userAgent.match(/webkit/i)){var i=document.getElementById("sidebar");ace.toggleClass(i,"menu-min"),setTimeout(function(){ace.toggleClass(i,"menu-min")},0)}},sidebar_collapsed:function(e){e=e||!1;var t=document.getElementById("sidebar"),n=document.getElementById("sidebar-collapse").querySelector('[class*="icon-"]'),i=n.getAttribute("data-icon1"),a=n.getAttribute("data-icon2");e?(n.setAttribute("title","展开面板"),ace.addClass(t,"menu-min"),ace.removeClass(n,i),ace.addClass(n,a),ace.settings.set("sidebar","collapsed")):(n.setAttribute("title","折叠为图标"),ace.removeClass(t,"menu-min"),ace.removeClass(n,a),ace.addClass(n,i),ace.settings.unset("sidebar","collapsed"))}},ace.settings.check=function(e,t){if(ace.settings.exists(e,t)){var n=ace.settings.is(e,t),i={"navbar-fixed":"navbar-fixed-top","sidebar-fixed":"sidebar-fixed","breadcrumbs-fixed":"breadcrumbs-fixed","sidebar-collapsed":"menu-min","main-container-fixed":"container"},a=document.getElementById(e);n!=ace.hasClass(a,i[e+"-"+t])&&ace.settings[e.replace("-","_")+"_"+t](n)}},ace.data_storage=function(e,t){var n="ace.",i=null,a=0;(1==e||e===t)&&"localStorage"in window&&null!==window.localStorage?(i=ace.storage,a=1):null==i&&(2==e||e===t)&&"cookie"in document&&null!==document.cookie&&(i=ace.cookie,a=2),this.set=function(e,t,s,o){if(i)if(s===o)s=t,t=e,null==s?i.remove(n+t):1==a?i.set(n+t,s):2==a&&i.set(n+t,s,ace.config.cookie_expiry);else if(1==a)null==s?i.remove(n+e+"."+t):i.set(n+e+"."+t,s);else if(2==a){var l=i.get(n+e),r=l?JSON.parse(l):{};if(null==s){if(delete r[t],0==ace.sizeof(r))return void i.remove(n+e)}else r[t]=s;i.set(n+e,JSON.stringify(r),ace.config.cookie_expiry)}},this.get=function(e,t,s){if(!i)return null;if(t===s)return t=e,i.get(n+t);if(1==a)return i.get(n+e+"."+t);if(2==a){var o=i.get(n+e),l=o?JSON.parse(o):{};return t in l?l[t]:null}},this.remove=function(e,t,n){i&&(t===n?(t=e,this.set(t,null)):this.set(e,t,null))}},ace.cookie={get:function(e){var t,n,i=document.cookie,a=e+"=";if(i){if(n=i.indexOf("; "+a),-1==n){if(n=i.indexOf(a),0!=n)return null}else n+=2;return t=i.indexOf(";",n),-1==t&&(t=i.length),decodeURIComponent(i.substring(n+a.length,t))}},set:function(e,t,n,i,a,s){var o=new Date;"object"==typeof n&&n.toGMTString?n=n.toGMTString():parseInt(n,10)?(o.setTime(o.getTime()+1e3*parseInt(n,10)),n=o.toGMTString()):n="",document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+n:"")+(i?"; path="+i:"")+(a?"; domain="+a:"")+(s?"; secure":"")},remove:function(e,t){this.set(e,"",-1e3,t)}},ace.storage={get:function(e){return window.localStorage.getItem(e)},set:function(e,t){window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)}},ace.sizeof=function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},ace.hasClass=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},ace.addClass=function(e,t){if(!ace.hasClass(e,t)){var n=e.className;e.className=n+(n.length?" ":"")+t}},ace.removeClass=function(e,t){ace.replaceClass(e,t)},ace.replaceClass=function(e,t,n){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","i");e.className=e.className.replace(i,function(e,t,i){return n?t+n+i:" "}).replace(/^\s+|\s+$/g,"")},ace.toggleClass=function(e,t){ace.hasClass(e,t)?ace.removeClass(e,t):ace.addClass(e,t)},ace.data=new ace.data_storage(ace.config.storage_method);
