<!DOCTYPE html>
<html>
<head lang="en">
    <script>
        document.documentElement.className = document.documentElement.className.replace('no-javascript', 'javascript');
    </script>
    <meta charset="UTF-8">
    <title>地区级联</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="fragment" content="!">
    <meta name="description" content="Description"/>
    <meta name="viewport" content="width=device-width"/>
    <link rel="stylesheet" href="../../styles/default/base.css"/>
    <link href="../../styles/default/dpl.css" rel="stylesheet">
    <link href="../../styles/default/bui.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <link href="http://g.tbcdn.cn/fi/bui/css/dpl-min.css" rel="stylesheet">
    <link href="http://g.tbcdn.cn/fi/bui/css/bui-min.css" rel="stylesheet">
    <![endif]-->
    <!--[if IE6]>
    <script type="text/javascript" src="../../vendor/patch/patch.min.js"></script>
    <![endif]-->
    <link href="../../vendor/pace/themes/pace-theme-barber-shop.css" rel="stylesheet"/>
</head>
<!--[if IE 7]>
<body class="ie7"><![endif]-->
<!--[if IE 8]>
<body class="ie8"><![endif]-->
<!--[if IE 9]>
<body class="ie9"><![endif]-->
<!--[if IE 10]>
<body class="ie10"><![endif]-->
<!--[if IE 11]>
<body class="ie11"><![endif]-->
<!--[if !IE]>-->
<body id="jhw">
<!--<![endif]-->

<div id="district-container" style="height: 200px;"></div>
<br>
<input id="getDistrict" type="button" value="获取当前地区"/>

<div id="district-container1" style="clear:both;height: 200px;"></div>

<script type="text/javascript" src="../../scripts/base.js"></script>
<script type="text/javascript" src="../../const.js"></script>
<script type="text/javascript" src="../../config.local.js"></script>
<script type="text/javascript" src="../../app.js"></script>
<script type="text/javascript" src="../../scripts/helper/HandlebarsHelper.js"></script>
<script type="text/javascript" src="../../scripts/utils/Utils.js"></script>
<script type="text/javascript" src="../../scripts/service/Service.js"></script>
<script type="text/javascript" src="../../common/district/main.js"></script>
<script type="text/javascript" src="../../common/pagination/config.js"></script>
<script type="text/javascript" src="../../config.js"></script>
<script type="text/javascript" src="../data_init/DataInit.js"></script>
<script type="text/javascript">
    var items = Est.bulidTreeNode(app.getData('district_list'), 'level', 0, {
        categoryId: 'areaId',// 分类ＩＤ
        belongId: 'belongId',// 父类ＩＤ
        childTag: 'children', // 子分类集的字段名称
        callback: function (item) {
        }  // 回调函数
    });
    seajs.use(['District'], function (District) {
        function initArea(options) {
            app.addPanel(options.id, {
                el: options.target,
                template: '<div class="district-inner ' + options.id + '"></div>'
            });
            app.addView(options.id, new District({
                el: '.' + options.id,
                viewId: options.id,
                target: options.target,
                path: options.path,
                items: items
            }));
        }

        initArea({
            id: 'district',
            target: '#district-container',
            render: ''
        });
        $('#getDistrict').click(function () {
            console.log(app.getView('district').getDistrict());
            alert(app.getView('district').getDistrict());
        });
        initArea({
            id: 'district1',
            target: '#district-container1',
            path: '402881882ba8753a012ba8c8f0b1004e,402881882ba8753a012ba8c963fd0050',
            render: ''
        });
    });

</script>
</body>
</html>