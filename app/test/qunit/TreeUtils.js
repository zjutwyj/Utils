/**
 * @description ArrayUtils
 * @namespace ArrayUtils
 * @author yongjin on 2014/6/18
 */
QUnit.module( "【TreeUtils】" );

QUnit.test("Est.bulidSubNode", function(assert){
    var list = [ { belong_id: "Category_00000000000000000002312", category_id: "Category_00000000000000000002316", name: "14寸", cdesc: "", grade: "03", image: null, key: null, alias: null, sort: "9", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002312", category_id: "Category_00000000000000000002315", name: "13寸", cdesc: "", grade: "03", image: null, key: null, alias: null, sort: "8", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002312", name: "苹果", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "7", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002314", name: "联想", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "6", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002313", name: "华硕", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "5", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002290", name: "默认分类", cdesc: "默认分类", grade: "01", image: null, key: null, alias: null, sort: "4", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002306", name: "电脑", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "3", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002307", name: "包包", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "2", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002305", name: "手机", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "1", isdisplay: "1", hunkdisplay: null } ];
    var root = []; for(var i = 0, len = list.length; i < len; i++){ if (list[i]['grade'] === '01'){
        root.push(list[i]);
    }
    }
    Est.bulidSubNode(root, list);
    var list2 = [ { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002316", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "14寸", "sort": "9" }, { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002315", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "13寸", "sort": "8" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002312", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002316", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "14寸", "sort": "9" }, { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002315", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "13寸", "sort": "8" } ], "cdesc": "", "grade": "02", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "苹果", "sort": "7" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002314", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "联想", "sort": "6" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002313", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "华硕", "sort": "5" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002290", "cates": [], "cdesc": "默认分类", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "默认分类", "sort": "4" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002306", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002312", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002316", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "14寸", "sort": "9" }, { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002315", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "13寸", "sort": "8" } ], "cdesc": "", "grade": "02", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "苹果", "sort": "7" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002314", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "联想", "sort": "6" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002313", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "华硕", "sort": "5" } ], "cdesc": "", "grade": "01", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "电脑", "sort": "3" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002307", "cates": [], "cdesc": "", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "包包", "sort": "2" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002305", "cates": [], "cdesc": "", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "手机", "sort": "1" } ];
    assert.deepEqual(list, list2, "passed!");
});

QUnit.test("Est.bulidSelectNode", function(assert){
    var list = [ { belong_id: "Category_00000000000000000002312", category_id: "Category_00000000000000000002316", name: "14寸", cdesc: "", grade: "03", image: null, key: null, alias: null, sort: "9", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002312", category_id: "Category_00000000000000000002315", name: "13寸", cdesc: "", grade: "03", image: null, key: null, alias: null, sort: "8", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002312", name: "苹果", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "7", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002314", name: "联想", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "6", isdisplay: "1", hunkdisplay: null }, { belong_id: "Category_00000000000000000002306", category_id: "Category_00000000000000000002313", name: "华硕", cdesc: "", grade: "02", image: null, key: null, alias: null, sort: "5", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002290", name: "默认分类", cdesc: "默认分类", grade: "01", image: null, key: null, alias: null, sort: "4", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002306", name: "电脑", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "3", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002307", name: "包包", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "2", isdisplay: "1", hunkdisplay: null }, { belong_id: "/", category_id: "Category_00000000000000000002305", name: "手机", cdesc: "", grade: "01", image: null, key: null, alias: null, sort: "1", isdisplay: "1", hunkdisplay: null } ];
    var root = []; for(var i = 0, len = list.length; i < len; i++){ if (list[i]['grade'] === '01'){
        root.push(list[i]);
    }
    }
    Est.bulidSubNode(root, list);
    Est.bulidSelectNode(root, 2, {
        name : 'name'
    });
    var result = [ { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002290", "cates": [], "cdesc": "默认分类", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　|-默认分类", "sort": "4" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002306", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002312", "cates": [ { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002316", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　　　|-14寸", "sort": "9" }, { "alias": null, "belong_id": "Category_00000000000000000002312", "category_id": "Category_00000000000000000002315", "cates": [], "cdesc": "", "grade": "03", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　　　|-13寸", "sort": "8" } ], "cdesc": "", "grade": "02", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　|-苹果", "sort": "7" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002314", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　|-联想", "sort": "6" }, { "alias": null, "belong_id": "Category_00000000000000000002306", "category_id": "Category_00000000000000000002313", "cates": [], "cdesc": "", "grade": "02", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　　　|-华硕", "sort": "5" } ], "cdesc": "", "grade": "01", "hasChild": true, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　|-电脑", "sort": "3" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002307", "cates": [], "cdesc": "", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　|-包包", "sort": "2" }, { "alias": null, "belong_id": "/", "category_id": "Category_00000000000000000002305", "cates": [], "cdesc": "", "grade": "01", "hasChild": false, "hunkdisplay": null, "image": null, "isdisplay": "1", "key": null, "name": "　　|-手机", "sort": "1" } ];
    assert.deepEqual(root, result, "passed!");
})

QUnit.test('Est.bulidBreakNav', function(assert){
    var list = [
        { album_id: "Album_00000000000000000000033002", name: "默认相册", add_time: null, update_time: "2014-06-18T02:49:01.762Z", parent_id: null },
        { album_id: "Album_00000000000000000000054391", name: "企业网站案例", add_time: "2013-08-19T08:35:06.850Z", update_time: "2014-06-18T02:49:01.762Z", parent_id: null },
        { album_id: "Album_00000000000000000000059126", name: "ssss", add_time: "2014-07-09T07:16:06.408Z", update_time: "2014-07-09T07:16:06.408Z", parent_id: null },
        { album_id: "Album_00000000000000000000059127", name: "fddgdfg", add_time: "2014-07-09T07:40:18.125Z", update_time: "2014-07-09T07:40:18.125Z", parent_id: null },
        { album_id: "Album_00000000000000000000059128", name: "sdfsdf", add_time: "2014-07-09T07:55:15.251Z", update_time: "2014-07-09T07:55:15.251Z", parent_id: null },
        { album_id: "Album_00000000000000000000059129", name: "sdfsdf", add_time: "2014-07-09T07:55:45.829Z", update_time: "2014-07-09T07:55:45.829Z", parent_id: null },
        { album_id: "Album_00000000000000000000059130", name: "sdfsdf", add_time: "2014-07-09T07:56:02.911Z", update_time: "2014-07-09T07:56:02.911Z", parent_id: null },
        { album_id: "Album_00000000000000000000059131", name: "sdfsdf", add_time: "2014-07-09T07:56:36.404Z", update_time: "2014-07-09T07:56:36.404Z", parent_id: null },
        { album_id: "Album_00000000000000000000059132", name: "wwww", add_time: "2014-07-09T07:59:32.410Z", update_time: "2014-07-09T07:59:32.410Z", parent_id: "Album_00000000000000000000033002" },
        { album_id: "Album_00000000000000000000059133", name: "fdgfdg", add_time: "2014-07-09T08:00:34.047Z", update_time: "2014-07-09T08:00:34.047Z", parent_id: "Album_00000000000000000000033002" },
        { album_id: "Album_00000000000000000000059134", name: "vvcb", add_time: "2014-07-09T08:21:59.718Z", update_time: "2014-07-09T08:21:59.718Z", parent_id: "Album_00000000000000000000033002" },
        { album_id: "Album_00000000000000000000059135", name: "sdfsf", add_time: "2014-07-09T08:38:29.574Z", update_time: "2014-07-09T08:38:29.574Z", parent_id: null },
        { album_id: "Album_00000000000000000000059136", name: "sdfdsf", add_time: "2014-07-09T08:39:53.980Z", update_time: "2014-07-09T08:39:53.980Z", parent_id: "Album_00000000000000000000033002" },
        { album_id: "Album_00000000000000000000059137", name: "dfff", add_time: "2014-07-09T08:39:59.668Z", update_time: "2014-07-09T08:39:59.668Z", parent_id: "Album_00000000000000000000033002" },
        { album_id: "Album_00000000000000000000059138", name: "dddd", add_time: "2014-07-09T08:57:35.417Z", update_time: "2014-07-09T08:57:35.417Z", parent_id: "Album_00000000000000000000059132" },
        { album_id: "Album_00000000000000000000059139", name: "企业网站案例", add_time: "2014-07-09T09:41:40.112Z", update_time: "2014-07-09T09:41:40.112Z", parent_id: null },
        { album_id: "Album_00000000000000000000059140", name: "uuu", add_time: "2014-07-09T09:57:57.177Z", update_time: "2014-07-09T09:57:57.177Z", parent_id: "Album_00000000000000000000033002" },
        { album_id: "Album_00000000000000000000059141", name: "eee", add_time: "2014-07-09T10:18:36.331Z", update_time: "2014-07-09T10:18:36.331Z", parent_id: "Album_00000000000000000000059133" },
        { album_id: "Album_00000000000000000000059142", name: "二级分类", add_time: "2014-07-09T14:41:19.940Z", update_time: "2014-07-09T14:41:19.940Z", parent_id: "Album_00000000000000000000033002" },
        { album_id: "Album_00000000000000000000059143", name: "三级分类", add_time: "2014-07-09T14:41:29.434Z", update_time: "2014-07-09T14:41:29.434Z", parent_id: "Album_00000000000000000000059142" },
        { album_id: "Album_00000000000000000000059144", name: "四级分类", add_time: "2014-07-09T14:41:37.539Z", update_time: "2014-07-09T14:41:37.539Z", parent_id: "Album_00000000000000000000059143" }
    ];

    var result = Est.bulidBreakNav(list, 'album_id', 'Album_00000000000000000000059144', 'name', 'parent_id');
    assert.deepEqual(result, [ { "name": "默认相册", "nodeId": "Album_00000000000000000000033002" }, { "name": "二级分类", "nodeId": "Album_00000000000000000000059142" }, { "name": "三级分类", "nodeId": "Album_00000000000000000000059143" }, { "name": "四级分类", "nodeId": "Album_00000000000000000000059144" } ], 'passed!');
});